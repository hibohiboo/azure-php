var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,o=(t,o)=>{for(var s in o||(o={}))n.call(o,s)&&i(t,s,o[s]);if(e)for(var s of e(o))r.call(o,s)&&i(t,s,o[s]);return t};function s(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const a=s("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),u=s("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function c(t){if(A(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=c(D(r)?f(r):r);if(i)for(const t in i)e[t]=i[t]}return e}if(L(t))return t}const l=/;(?![^(]*\))/g,h=/:(.+)/;function f(t){const e={};return t.split(l).forEach((t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function d(t){let e="";if(D(t))e=t;else if(A(t))for(let n=0;n<t.length;n++){const r=d(t[n]);r&&(e+=r+" ")}else if(L(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const p=t=>null==t?"":L(t)?JSON.stringify(t,m,2):String(t),m=(t,e)=>C(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:x(e)?{[`Set(${e.size})`]:[...e.values()]}:!L(e)||A(e)||F(e)?e:String(e),g={},v=[],y=()=>{},b=()=>!1,w=/^on[^a-z]/,I=t=>w.test(t),E=t=>t.startsWith("onUpdate:"),T=Object.assign,_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},S=Object.prototype.hasOwnProperty,k=(t,e)=>S.call(t,e),A=Array.isArray,C=t=>"[object Map]"===M(t),x=t=>"[object Set]"===M(t),N=t=>"function"==typeof t,D=t=>"string"==typeof t,O=t=>"symbol"==typeof t,L=t=>null!==t&&"object"==typeof t,R=t=>L(t)&&N(t.then)&&N(t.catch),P=Object.prototype.toString,M=t=>P.call(t),F=t=>"[object Object]"===M(t),V=t=>D(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,U=s(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},B=/-(\w)/g,q=j((t=>t.replace(B,((t,e)=>e?e.toUpperCase():"")))),K=/\B([A-Z])/g,z=j((t=>t.replace(K,"-$1").toLowerCase())),H=j((t=>t.charAt(0).toUpperCase()+t.slice(1))),G=j((t=>t?`on${H(t)}`:"")),W=(t,e)=>t!==e&&(t==t||e==e),$=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Q=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},X=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Y=new WeakMap,J=[];let Z;const tt=Symbol(""),et=Symbol("");function nt(t,e=g){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return t();if(!J.includes(n)){ot(n);try{return at.push(st),st=!0,J.push(n),Z=n,t()}finally{J.pop(),ct(),Z=J[J.length-1]}}};return n.id=it++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function rt(t){t.active&&(ot(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let it=0;function ot(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let st=!0;const at=[];function ut(){at.push(st),st=!1}function ct(){const t=at.pop();st=void 0===t||t}function lt(t,e,n){if(!st||void 0===Z)return;let r=Y.get(t);r||Y.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Z)||(i.add(Z),Z.deps.push(i))}function ht(t,e,n,r,i,o){const s=Y.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==Z||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&A(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":A(t)?V(n)&&u(s.get("length")):(u(s.get(tt)),C(t)&&u(s.get(et)));break;case"delete":A(t)||(u(s.get(tt)),C(t)&&u(s.get(et)));break;case"set":C(t)&&u(s.get(tt))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const ft=s("__proto__,__v_isRef,__isVue"),dt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(O)),pt=bt(),mt=bt(!1,!0),gt=bt(!0),vt=yt();function yt(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=ie(this);for(let e=0,i=this.length;e<i;e++)lt(n,0,e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(ie)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){ut();const n=ie(this)[e].apply(this,t);return ct(),n}})),t}function bt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Xt:Qt:e?$t:Wt).get(n))return n;const o=A(n);if(!t&&o&&k(vt,r))return Reflect.get(vt,r,i);const s=Reflect.get(n,r,i);if(O(r)?dt.has(r):ft(r))return s;if(t||lt(n,0,r),e)return s;if(ae(s)){return!o||!V(r)?s.value:s}return L(s)?t?Zt(s):Jt(s):s}}function wt(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=ie(r),o=ie(o),!A(e)&&ae(o)&&!ae(r)))return o.value=r,!0;const s=A(e)&&V(n)?Number(n)<e.length:k(e,n),a=Reflect.set(e,n,r,i);return e===ie(i)&&(s?W(r,o)&&ht(e,"set",n,r):ht(e,"add",n,r)),a}}const It={get:pt,set:wt(),deleteProperty:function(t,e){const n=k(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ht(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return O(e)&&dt.has(e)||lt(t,0,e),n},ownKeys:function(t){return lt(t,0,A(t)?"length":tt),Reflect.ownKeys(t)}},Et={get:gt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Tt=T({},It,{get:mt,set:wt(!0)}),_t=t=>L(t)?Jt(t):t,St=t=>L(t)?Zt(t):t,kt=t=>t,At=t=>Reflect.getPrototypeOf(t);function Ct(t,e,n=!1,r=!1){const i=ie(t=t.__v_raw),o=ie(e);e!==o&&!n&&lt(i,0,e),!n&&lt(i,0,o);const{has:s}=At(i),a=r?kt:n?St:_t;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void(t!==i&&t.get(e))}function xt(t,e=!1){const n=this.__v_raw,r=ie(n),i=ie(t);return t!==i&&!e&&lt(r,0,t),!e&&lt(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Nt(t,e=!1){return t=t.__v_raw,!e&&lt(ie(t),0,tt),Reflect.get(t,"size",t)}function Dt(t){t=ie(t);const e=ie(this);return At(e).has.call(e,t)||(e.add(t),ht(e,"add",t,t)),this}function Ot(t,e){e=ie(e);const n=ie(this),{has:r,get:i}=At(n);let o=r.call(n,t);o||(t=ie(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?W(e,s)&&ht(n,"set",t,e):ht(n,"add",t,e),this}function Lt(t){const e=ie(this),{has:n,get:r}=At(e);let i=n.call(e,t);i||(t=ie(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ht(e,"delete",t,void 0),o}function Rt(){const t=ie(this),e=0!==t.size,n=t.clear();return e&&ht(t,"clear",void 0,void 0),n}function Pt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=ie(o),a=e?kt:t?St:_t;return!t&&lt(s,0,tt),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Mt(t,e,n){return function(...r){const i=this.__v_raw,o=ie(i),s=C(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=n?kt:e?St:_t;return!e&&lt(o,0,u?et:tt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Ft(t){return function(...e){return"delete"!==t&&this}}function Vt(){const t={get(t){return Ct(this,t)},get size(){return Nt(this)},has:xt,add:Dt,set:Ot,delete:Lt,clear:Rt,forEach:Pt(!1,!1)},e={get(t){return Ct(this,t,!1,!0)},get size(){return Nt(this)},has:xt,add:Dt,set:Ot,delete:Lt,clear:Rt,forEach:Pt(!1,!0)},n={get(t){return Ct(this,t,!0)},get size(){return Nt(this,!0)},has(t){return xt.call(this,t,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Pt(!0,!1)},r={get(t){return Ct(this,t,!0,!0)},get size(){return Nt(this,!0)},has(t){return xt.call(this,t,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Pt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{t[i]=Mt(i,!1,!1),n[i]=Mt(i,!0,!1),e[i]=Mt(i,!1,!0),r[i]=Mt(i,!0,!0)})),[t,n,e,r]}const[Ut,jt,Bt,qt]=Vt();function Kt(t,e){const n=e?t?qt:Bt:t?jt:Ut;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(k(n,r)&&r in e?n:e,r,i)}const zt={get:Kt(!1,!1)},Ht={get:Kt(!1,!0)},Gt={get:Kt(!0,!1)},Wt=new WeakMap,$t=new WeakMap,Qt=new WeakMap,Xt=new WeakMap;function Yt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>M(t).slice(8,-1))(t))}function Jt(t){return t&&t.__v_isReadonly?t:te(t,!1,It,zt,Wt)}function Zt(t){return te(t,!0,Et,Gt,Qt)}function te(t,e,n,r,i){if(!L(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Yt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function ee(t){return ne(t)?ee(t.__v_raw):!(!t||!t.__v_isReactive)}function ne(t){return!(!t||!t.__v_isReadonly)}function re(t){return ee(t)||ne(t)}function ie(t){return t&&ie(t.__v_raw)||t}function oe(t){return Q(t,"__v_skip",!0),t}const se=t=>L(t)?Jt(t):t;function ae(t){return Boolean(t&&!0===t.__v_isRef)}function ue(t){return function(t,e=!1){if(ae(t))return t;return new ce(t,e)}(t)}class ce{constructor(t,e=!1){this._shallow=e,this.__v_isRef=!0,this._rawValue=e?t:ie(t),this._value=e?t:se(t)}get value(){return lt(ie(this),0,"value"),this._value}set value(t){t=this._shallow?t:ie(t),W(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:se(t),ht(ie(this),"set","value",t))}}const le={get:(t,e,n)=>{return ae(r=Reflect.get(t,e,n))?r.value:r;var r},set:(t,e,n,r)=>{const i=t[e];return ae(i)&&!ae(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function he(t){return ee(t)?t:new Proxy(t,le)}class fe{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=nt(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ht(ie(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=ie(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),lt(t,0,"value"),t._value}set value(t){this._setter(t)}}function de(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){me(o,e,n)}return i}function pe(t,e,n,r){if(N(t)){const i=de(t,e,n,r);return i&&R(i)&&i.catch((t=>{me(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(pe(t[o],e,n,r));return i}function me(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void de(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let ge=!1,ve=!1;const ye=[];let be=0;const we=[];let Ie=null,Ee=0;const Te=[];let _e=null,Se=0;const ke=Promise.resolve();let Ae=null,Ce=null;function xe(t){const e=Ae||ke;return t?e.then(this?t.bind(this):t):e}function Ne(t){if(!(ye.length&&ye.includes(t,ge&&t.allowRecurse?be+1:be)||t===Ce)){const e=function(t){let e=be+1,n=ye.length;const r=Pe(t);for(;e<n;){const t=e+n>>>1;Pe(ye[t])<r?e=t+1:n=t}return e}(t);e>-1?ye.splice(e,0,t):ye.push(t),De()}}function De(){ge||ve||(ve=!0,Ae=ke.then(Me))}function Oe(t,e,n,r){A(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),De()}function Le(t,e=null){if(we.length){for(Ce=e,Ie=[...new Set(we)],we.length=0,Ee=0;Ee<Ie.length;Ee++)Ie[Ee]();Ie=null,Ee=0,Ce=null,Le(t,e)}}function Re(t){if(Te.length){const t=[...new Set(Te)];if(Te.length=0,_e)return void _e.push(...t);for(_e=t,_e.sort(((t,e)=>Pe(t)-Pe(e))),Se=0;Se<_e.length;Se++)_e[Se]();_e=null,Se=0}}const Pe=t=>null==t.id?1/0:t.id;function Me(t){ve=!1,ge=!0,Le(t),ye.sort(((t,e)=>Pe(t)-Pe(e)));try{for(be=0;be<ye.length;be++){const t=ye[be];t&&!1!==t.active&&de(t,null,14)}}finally{be=0,ye.length=0,Re(),ge=!1,Ae=null,(ye.length||we.length||Te.length)&&Me(t)}}function Fe(t,e,...n){const r=t.vnode.props||g;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||g;o?i=n.map((t=>t.trim())):e&&(i=n.map(X))}let a,u=r[a=G(e)]||r[a=G(q(e))];!u&&o&&(u=r[a=G(z(e))]),u&&pe(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else t.emitted={};t.emitted[a]=!0,pe(c,t,6,i)}}function Ve(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(void 0!==i)return i;const o=t.emits;let s={},a=!1;if(!N(t)){const r=t=>{const n=Ve(t,e,!0);n&&(a=!0,T(s,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return o||a?(A(o)?o.forEach((t=>s[t]=null)):T(s,o),r.set(t,s),s):(r.set(t,null),null)}function Ue(t,e){return!(!t||!I(e))&&(e=e.slice(2).replace(/Once$/,""),k(t,e[0].toLowerCase()+e.slice(1))||k(t,z(e))||k(t,e))}let je=null,Be=null;function qe(t){const e=je;return je=t,Be=t&&t.type.__scopeId||null,e}function Ke(t){Be=t}function ze(){Be=null}const He=t=>Ge;function Ge(t,e=je,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Dr(-1);const i=qe(e),o=t(...n);return qe(i),r._d&&Dr(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function We(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:m}=t;let g;const v=qe(t);try{let t;if(4&n.shapeFlag){const e=i||r;g=qr(l.call(e,e,h,o,d,f,p)),t=u}else{const n=e;0,g=qr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:$e(u)}let v=g;if(t&&!1!==m){const e=Object.keys(t),{shapeFlag:n}=v;e.length&&(1&n||6&n)&&(s&&e.some(E)&&(t=Qe(t,s)),v=Ur(v,t))}0,n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),g=v}catch(y){Ar.length=0,me(y,t,1),g=Vr(Sr)}return qe(v),g}const $e=t=>{let e;for(const n in t)("class"===n||"style"===n||I(n))&&((e||(e={}))[n]=t[n]);return e},Qe=(t,e)=>{const n={};for(const r in t)E(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Xe(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Ue(n,o))return!0}return!1}function Ye(t,e,n=!1){const r=ei||je;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&N(e)?e.call(r.proxy):e}}const Je={};function Ze(t,e,n){return tn(t,e,n)}function tn(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=g,a=ei){let u,c,l=!1,h=!1;if(ae(t)?(u=()=>t.value,l=!!t._shallow):ee(t)?(u=()=>t,r=!0):A(t)?(h=!0,l=t.some(ee),u=()=>t.map((t=>ae(t)?t.value:ee(t)?rn(t):N(t)?de(t,a,2):void 0))):u=N(t)?e?()=>de(t,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),pe(t,a,3,[f])}:y,e&&r){const t=u;u=()=>rn(t())}let f=t=>{c=v.options.onStop=()=>{de(t,a,4)}},d=h?[]:Je;const p=()=>{if(v.active)if(e){const t=v();(r||l||(h?t.some(((t,e)=>W(t,d[e]))):W(t,d)))&&(c&&c(),pe(e,a,3,[t,d===Je?void 0:d,f]),d=t)}else v()};let m;p.allowRecurse=!!e,m="sync"===i?p:"post"===i?()=>ur(p,a&&a.suspense):()=>{!a||a.isMounted?function(t){Oe(t,Ie,we,Ee)}(p):p()};const v=nt(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:m});return ci(v,a),e?n?p():d=v():"post"===i?ur(v,a&&a.suspense):v(),()=>{rt(v),a&&_(a.effects,v)}}function en(t,e,n){const r=this.proxy,i=D(t)?t.includes(".")?nn(r,t):()=>r[t]:t.bind(r,r);let o;return N(e)?o=e:(o=e.handler,n=e),tn(i,o.bind(r),n,this)}function nn(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function rn(t,e=new Set){if(!L(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),ae(t))rn(t.value,e);else if(A(t))for(let n=0;n<t.length;n++)rn(t[n],e);else if(x(t)||C(t))t.forEach((t=>{rn(t,e)}));else if(F(t))for(const n in t)rn(t[n],e);return t}const on=[Function,Array],sn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:on,onEnter:on,onAfterEnter:on,onEnterCancelled:on,onBeforeLeave:on,onLeave:on,onAfterLeave:on,onLeaveCancelled:on,onBeforeAppear:on,onAppear:on,onAfterAppear:on,onAppearCancelled:on},setup(t,{slots:e}){const n=ni(),r=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tn((()=>{t.isMounted=!0})),kn((()=>{t.isUnmounting=!0})),t}();let i;return()=>{const o=e.default&&fn(e.default(),!0);if(!o||!o.length)return;const s=ie(t),{mode:a}=s,u=o[0];if(r.isLeaving)return cn(u);const c=ln(u);if(!c)return cn(u);const l=un(c,s,r,n);hn(c,l);const h=n.subTree,f=h&&ln(h);let d=!1;const{getTransitionKey:p}=c.type;if(p){const t=p();void 0===i?i=t:t!==i&&(i=t,d=!0)}if(f&&f.type!==Sr&&(!Rr(c,f)||d)){const t=un(f,s,r,n);if(hn(f,t),"out-in"===a)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},cn(u);"in-out"===a&&c.type!==Sr&&(t.delayLeave=(t,e,n)=>{an(r,f)[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return u}}};function an(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function un(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=e,b=String(t.key),w=an(n,t),I=(t,e)=>{t&&pe(t,r,9,e)},E={mode:o,persisted:s,beforeEnter(e){let r=a;if(!n.isMounted){if(!i)return;r=m||a}e._leaveCb&&e._leaveCb(!0);const o=w[b];o&&Rr(t,o)&&o.el._leaveCb&&o.el._leaveCb(),I(r,[e])},enter(t){let e=u,r=c,o=l;if(!n.isMounted){if(!i)return;e=g||u,r=v||c,o=y||l}let s=!1;const a=t._enterCb=e=>{s||(s=!0,I(e?o:r,[t]),E.delayedLeave&&E.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();I(h,[e]);let o=!1;const s=e._leaveCb=n=>{o||(o=!0,r(),I(n?p:d,[e]),e._leaveCb=void 0,w[i]===t&&delete w[i])};w[i]=t,f?(f(e,s),f.length<=1&&s()):s()},clone:t=>un(t,e,n,r)};return E}function cn(t){if(mn(t))return(t=Ur(t)).children=null,t}function ln(t){return mn(t)?t.children?t.children[0]:void 0:t}function hn(t,e){6&t.shapeFlag&&t.component?hn(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fn(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===Tr?(128&o.patchFlag&&r++,n=n.concat(fn(o.children,e))):(e||o.type!==Sr)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function dn(t){return N(t)?{setup:t,name:t.name}:t}const pn=t=>!!t.type.__asyncLoader,mn=t=>t.type.__isKeepAlive;function gn(t,e){yn(t,"a",e)}function vn(t,e){yn(t,"da",e)}function yn(t,e,n=ei){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(wn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)mn(t.parent.vnode)&&bn(r,e,n,t),t=t.parent}}function bn(t,e,n,r){const i=wn(e,t,r,!0);An((()=>{_(r[e],i)}),n)}function wn(t,e,n=ei,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;ut(),ri(n);const i=pe(e,n,t,r);return ri(null),ct(),i});return r?i.unshift(o):i.push(o),o}}const In=t=>(e,n=ei)=>(!oi||"sp"===t)&&wn(t,e,n),En=In("bm"),Tn=In("m"),_n=In("bu"),Sn=In("u"),kn=In("bum"),An=In("um"),Cn=In("sp"),xn=In("rtg"),Nn=In("rtc");function Dn(t,e=ei){wn("ec",t,e)}let On=!0;function Ln(t){const e=Mn(t),n=t.proxy,r=t.ctx;On=!1,e.beforeCreate&&Rn(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:b,destroyed:w,unmounted:I,render:E,renderTracked:T,renderTriggered:_,errorCaptured:S,serverPrefetch:k,expose:C,inheritAttrs:x,components:D,directives:O,filters:R}=e;if(c&&function(t,e,n=y){A(t)&&(t=jn(t));for(const r in t){const n=t[r];L(n)?e[r]="default"in n?Ye(n.from||r,n.default,!0):Ye(n.from||r):e[r]=Ye(n)}}(c,r,null),s)for(const y in s){const t=s[y];N(t)&&(r[y]=t.bind(n))}if(i){const e=i.call(n,n);L(e)&&(t.data=Jt(e))}if(On=!0,o)for(const A in o){const t=o[A],e=hi({get:N(t)?t.bind(n,n):N(t.get)?t.get.bind(n,n):y,set:!N(t)&&N(t.set)?t.set.bind(n):y});Object.defineProperty(r,A,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}if(a)for(const y in a)Pn(a[y],r,n,y);if(u){const t=N(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{!function(t,e){if(ei){let n=ei.provides;const r=ei.parent&&ei.parent.provides;r===n&&(n=ei.provides=Object.create(r)),n[t]=e}}(e,t[e])}))}function P(t,e){A(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(l&&Rn(l,t,"c"),P(En,h),P(Tn,f),P(_n,d),P(Sn,p),P(gn,m),P(vn,g),P(Dn,S),P(Nn,T),P(xn,_),P(kn,b),P(An,I),P(Cn,k),A(C))if(C.length){const e=t.exposed||(t.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});E&&t.render===y&&(t.render=E),null!=x&&(t.inheritAttrs=x),D&&(t.components=D),O&&(t.directives=O)}function Rn(t,e,n){pe(A(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Pn(t,e,n,r){const i=r.includes(".")?nn(n,r):()=>n[r];if(D(t)){const n=e[t];N(n)&&Ze(i,n)}else if(N(t))Ze(i,t.bind(n));else if(L(t))if(A(t))t.forEach((t=>Pn(t,e,n,r)));else{const r=N(t.handler)?t.handler.bind(n):e[t.handler];N(r)&&Ze(i,r,t)}}function Mn(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let u;return a?u=a:i.length||n||r?(u={},i.length&&i.forEach((t=>Fn(u,t,s,!0))),Fn(u,e,s)):u=e,o.set(e,u),u}function Fn(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Fn(t,o,n,!0),i&&i.forEach((e=>Fn(t,e,n,!0)));for(const s in e)if(r&&"expose"===s);else{const r=Vn[s]||n&&n[s];t[s]=r?r(t[s],e[s]):e[s]}return t}const Vn={data:Un,props:qn,emits:qn,methods:qn,computed:qn,beforeCreate:Bn,created:Bn,beforeMount:Bn,mounted:Bn,beforeUpdate:Bn,updated:Bn,beforeDestroy:Bn,destroyed:Bn,activated:Bn,deactivated:Bn,errorCaptured:Bn,serverPrefetch:Bn,components:qn,directives:qn,watch:function(t,e){if(!t)return e;if(!e)return t;const n=T(Object.create(null),t);for(const r in e)n[r]=Bn(t[r],e[r]);return n},provide:Un,inject:function(t,e){return qn(jn(t),jn(e))}};function Un(t,e){return e?t?function(){return T(N(t)?t.call(this,this):t,N(e)?e.call(this,this):e)}:e:t}function jn(t){if(A(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Bn(t,e){return t?[...new Set([].concat(t,e))]:e}function qn(t,e){return t?T(T(Object.create(null),t),e):e}function Kn(t,e,n,r=!1){const i={},o={};Q(o,Pr,1),t.propsDefaults=Object.create(null),zn(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:te(i,!1,Tt,Ht,$t):t.type.props?t.props=i:t.props=o,t.attrs=o}function zn(t,e,n,r){const[i,o]=t.propsOptions;let s,a=!1;if(e)for(let u in e){if(U(u))continue;const c=e[u];let l;i&&k(i,l=q(u))?o&&o.includes(l)?(s||(s={}))[l]=c:n[l]=c:Ue(t.emitsOptions,u)||c!==r[u]&&(r[u]=c,a=!0)}if(o){const e=ie(n),r=s||g;for(let s=0;s<o.length;s++){const a=o[s];n[a]=Hn(i,e,a,r[a],t,!k(r,a))}}return a}function Hn(t,e,n,r,i,o){const s=t[n];if(null!=s){const t=k(s,"default");if(t&&void 0===r){const t=s.default;if(s.type!==Function&&N(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(ri(i),r=o[n]=t.call(null,e),ri(null))}else r=t}s[0]&&(o&&!t?r=!1:!s[1]||""!==r&&r!==z(n)||(r=!0))}return r}function Gn(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let u=!1;if(!N(t)){const r=t=>{u=!0;const[n,r]=Gn(t,e,!0);T(s,n),r&&a.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!o&&!u)return r.set(t,v),v;if(A(o))for(let l=0;l<o.length;l++){const t=q(o[l]);Wn(t)&&(s[t]=g)}else if(o)for(const l in o){const t=q(l);if(Wn(t)){const e=o[l],n=s[t]=A(e)||N(e)?{type:e}:e;if(n){const e=Xn(Boolean,n.type),r=Xn(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||k(n,"default"))&&a.push(t)}}}const c=[s,a];return r.set(t,c),c}function Wn(t){return"$"!==t[0]}function $n(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qn(t,e){return $n(t)===$n(e)}function Xn(t,e){return A(e)?e.findIndex((e=>Qn(e,t))):N(e)&&Qn(e,t)?0:-1}const Yn=t=>"_"===t[0]||"$stable"===t,Jn=t=>A(t)?t.map(qr):[qr(t)],Zn=(t,e,n)=>{const r=Ge((t=>Jn(e(t))),n);return r._c=!1,r},tr=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Yn(i))continue;const n=t[i];if(N(n))e[i]=Zn(0,n,r);else if(null!=n){const t=Jn(n);e[i]=()=>t}}},er=(t,e)=>{const n=Jn(e);t.slots.default=()=>n};function nr(t,e){if(null===je)return t;const n=je.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[t,o,s,a=g]=e[i];N(t)&&(t={mounted:t,updated:t}),t.deep&&rn(o),r.push({dir:t,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function rr(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(ut(),pe(u,n,8,[t.el,a,t,e]),ct())}}function ir(){return{app:null,config:{isNativeTag:b,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let or=0;function sr(t,e){return function(n,r=null){null==r||L(r)||(r=null);const i=ir(),o=new Set;let s=!1;const a=i.app={_uid:or++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:fi,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&N(t.install)?(o.add(t),t.install(a,...e)):N(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||i.mixins.push(t),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u,c){if(!s){const l=Vr(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),s=!0,a._container=o,o.__vue_app__=a,l.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}const ar={scheduler:Ne,allowRecurse:!0},ur=function(t,e){e&&e.pendingBranch?A(t)?e.effects.push(...t):e.effects.push(t):Oe(t,_e,Te,Se)},cr=(t,e,n,r,i=!1)=>{if(A(t))return void t.forEach(((t,o)=>cr(t,e&&(A(e)?e[o]:e),n,r,i)));if(pn(r)&&!i)return;const o=4&r.shapeFlag?ui(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=t,c=e&&e.r,l=a.refs===g?a.refs={}:a.refs,h=a.setupState;if(null!=c&&c!==u&&(D(c)?(l[c]=null,k(h,c)&&(h[c]=null)):ae(c)&&(c.value=null)),D(u)){const t=()=>{l[u]=s,k(h,u)&&(h[u]=s)};s?(t.id=-1,ur(t,n)):t()}else if(ae(u)){const t=()=>{u.value=s};s?(t.id=-1,ur(t,n)):t()}else N(u)&&de(u,a,12,[s,l])};function lr(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:f,setScopeId:d=y,cloneNode:p,insertStaticContent:m}=t,b=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!!e.dynamicChildren)=>{t&&!Rr(t,e)&&(r=et(t),X(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case _r:w(t,e,n,r);break;case Sr:I(t,e,n,r);break;case kr:null==t&&E(e,n,r,s);break;case Tr:P(t,e,n,r,i,o,s,a,u);break;default:1&h?A(t,e,n,r,i,o,s,a,u):6&h?M(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,ot)}null!=l&&i&&cr(l,t&&t.ref,o,e||t,!e)},w=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},I=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},E=(t,e,n,r)=>{[t.el,t.anchor]=m(t.children,e,n,r)},_=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=f(t),n(t,r,i),t=o;n(e,r,i)},S=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=f(t),r(t),t=n;r(e)},A=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?C(e,n,r,i,o,s,a,u):D(t,e,i,o,s,a,u)},C=(t,e,r,o,a,u,c,h)=>{let f,d;const{type:m,props:g,shapeFlag:v,transition:y,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==p&&-1===b)f=t.el=p(t.el);else{if(f=t.el=s(t.type,u,g&&g.is,g),8&v?l(f,t.children):16&v&&N(t.children,f,null,o,a,u&&"foreignObject"!==m,c,h),w&&rr(t,null,o,"created"),g){for(const e in g)U(e)||i(f,e,null,g[e],u,t.children,o,a,tt);(d=g.onVnodeBeforeMount)&&hr(d,o,t)}x(f,t,t.scopeId,c,o)}w&&rr(t,null,o,"beforeMount");const I=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;I&&y.beforeEnter(f),n(f,e,r),((d=g&&g.onVnodeMounted)||I||w)&&ur((()=>{d&&hr(d,o,t),I&&y.enter(f),w&&rr(t,null,o,"mounted")}),a)},x=(t,e,n,r,i)=>{if(n&&d(t,n),r)for(let o=0;o<r.length;o++)d(t,r[o]);if(i){if(e===i.subTree){const e=i.vnode;x(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},N=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=a?Kr(t[c]):qr(t[c]);b(null,u,e,n,r,i,o,s,a)}},D=(t,e,n,r,s,a,u)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:f,dirs:d}=e;h|=16&t.patchFlag;const p=t.props||g,m=e.props||g;let v;if((v=m.onVnodeBeforeUpdate)&&hr(v,n,e,t),d&&rr(e,t,n,"beforeUpdate"),h>0){if(16&h)L(c,e,p,m,n,r,s);else if(2&h&&p.class!==m.class&&i(c,"class",null,m.class,s),4&h&&i(c,"style",p.style,m.style,s),8&h){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const u=a[e],l=p[u],h=m[u];(h!==l||o&&o(c,u))&&i(c,u,l,h,s,t.children,n,r,tt)}}1&h&&t.children!==e.children&&l(c,e.children)}else u||null!=f||L(c,e,p,m,n,r,s);const y=s&&"foreignObject"!==e.type;f?O(t.dynamicChildren,f,c,n,r,y,a):u||K(t,e,c,null,n,r,y,a,!1),((v=m.onVnodeUpdated)||d)&&ur((()=>{v&&hr(v,n,e,t),d&&rr(e,t,n,"updated")}),r)},O=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.el&&(u.type===Tr||!Rr(u,c)||6&u.shapeFlag||64&u.shapeFlag)?h(u.el):n;b(u,c,l,null,r,i,o,s,!0)}},L=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(U(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,tt)}if(n!==g)for(const o in n)U(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,tt)}},P=(t,e,r,i,o,s,u,c,l)=>{const h=e.el=t?t.el:a(""),f=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:m}=e;p&&(l=!0),m&&(c=c?c.concat(m):m),null==t?(n(h,r,i),n(f,r,i),N(e.children,r,f,o,s,u,c,l)):d>0&&64&d&&p&&t.dynamicChildren?(O(t.dynamicChildren,p,r,o,s,u,c),(null!=e.key||o&&e===o.subTree)&&fr(t,e,!0)):K(t,e,r,f,o,s,u,c,l)},M=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):F(e,n,r,i,o,s,u):V(t,e,u)},F=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Zr,o={uid:ti++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gn(r,i),emitsOptions:Ve(r,i),emit:null,emitted:null,propsDefaults:g,inheritAttrs:r.inheritAttrs,ctx:g,data:g,props:g,attrs:g,slots:g,refs:g,setupState:g,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Fe.bind(null,o),o}(t,r,i);if(mn(t)&&(a.ctx.renderer=ot),function(t,e=!1){oi=e;const{props:n,children:r}=t.vnode,i=ii(t);Kn(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=ie(e),Q(e,"_",n)):tr(e,t.slots={})}else t.slots={},e&&er(t,e);Q(t.slots,Pr,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=oe(new Proxy(t.ctx,Yr));const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=e||{}};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;ei=t,ut();const i=de(r,t,0,[t.props,n]);if(ct(),ei=null,R(i)){const n=()=>{ei=null};if(i.then(n,n),e)return i.then((e=>{si(t,e)})).catch((e=>{me(e,t,0)}));t.asyncDep=i}else si(t,i)}else ai(t)}(t,e):void 0;oi=!1}(a),a.asyncDep){if(i&&i.registerDep(a,j),!t.el){const t=a.subTree=Vr(Sr);I(null,t,e,n)}}else j(a,t,e,n,i,o,s)},V=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Xe(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Xe(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Ue(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,e,n);r.next=e,function(t){const e=ye.indexOf(t);e>be&&ye.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},j=(t,e,n,r,i,o,s)=>{t.update=nt((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,B(t,n,s)):n=c,r&&$(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&hr(e,u,n,c);const f=We(t),d=t.subTree;t.subTree=f,b(d,f,h(d.el),et(d),t,i,o),n.el=f.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,f.el),a&&ur(a,i),(e=n.props&&n.props.onVnodeUpdated)&&ur((()=>hr(e,u,n,c)),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;if(c&&$(c),(s=u&&u.onVnodeBeforeMount)&&hr(s,h,e),a&&at){const n=()=>{t.subTree=We(t),at(a,t.subTree,t,i,null)};pn(e)?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const s=t.subTree=We(t);b(null,s,n,r,t,i,o),e.el=s.el}if(l&&ur(l,i),s=u&&u.onVnodeMounted){const t=e;ur((()=>hr(s,h,t)),i)}256&e.shapeFlag&&t.a&&ur(t.a,i),t.isMounted=!0,e=n=r=null}}),ar)},B=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ie(i),[u]=t.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;zn(t,e,i,o)&&(c=!0);for(const o in a)e&&(k(e,o)||(r=z(o))!==o&&k(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Hn(u,a,o,void 0,t,!0)):delete i[o]);if(o!==a)for(const t in o)e&&k(e,t)||(delete o[t],c=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];const l=e[s];if(u)if(k(o,s))l!==o[s]&&(o[s]=l,c=!0);else{const e=q(s);i[e]=Hn(u,a,e,l,t,!1)}else l!==o[s]&&(o[s]=l,c=!0)}}c&&ht(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=g;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(T(i,e),n||1!==t||delete i._):(o=!e.$stable,tr(e,i)),s=e}else e&&(er(t,e),s={default:1});if(o)for(const a in i)Yn(a)||a in s||delete i[a]})(t,e.children,n),ut(),Le(void 0,t.update),ct()},K=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,f=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void G(c,f,n,r,i,o,s,a,u);if(256&d)return void H(c,f,n,r,i,o,s,a,u)}8&p?(16&h&&tt(c,i,o),f!==c&&l(n,f)):16&h?16&p?G(c,f,n,r,i,o,s,a,u):tt(c,i,o,!0):(8&h&&l(n,""),16&p&&N(f,n,r,i,o,s,a,u))},H=(t,e,n,r,i,o,s,a,u)=>{e=e||v;const c=(t=t||v).length,l=e.length,h=Math.min(c,l);let f;for(f=0;f<h;f++){const r=e[f]=u?Kr(e[f]):qr(e[f]);b(t[f],r,n,null,i,o,s,a,u)}c>l?tt(t,i,o,!0,!1,h):N(e,n,r,i,o,s,a,u,h)},G=(t,e,n,r,i,o,s,a,u)=>{let c=0;const l=e.length;let h=t.length-1,f=l-1;for(;c<=h&&c<=f;){const r=t[c],l=e[c]=u?Kr(e[c]):qr(e[c]);if(!Rr(r,l))break;b(r,l,n,null,i,o,s,a,u),c++}for(;c<=h&&c<=f;){const r=t[h],c=e[f]=u?Kr(e[f]):qr(e[f]);if(!Rr(r,c))break;b(r,c,n,null,i,o,s,a,u),h--,f--}if(c>h){if(c<=f){const t=f+1,h=t<l?e[t].el:r;for(;c<=f;)b(null,e[c]=u?Kr(e[c]):qr(e[c]),n,h,i,o,s,a,u),c++}}else if(c>f)for(;c<=h;)X(t[c],i,o,!0),c++;else{const d=c,p=c,m=new Map;for(c=p;c<=f;c++){const t=e[c]=u?Kr(e[c]):qr(e[c]);null!=t.key&&m.set(t.key,c)}let g,y=0;const w=f-p+1;let I=!1,E=0;const T=new Array(w);for(c=0;c<w;c++)T[c]=0;for(c=d;c<=h;c++){const r=t[c];if(y>=w){X(r,i,o,!0);continue}let l;if(null!=r.key)l=m.get(r.key);else for(g=p;g<=f;g++)if(0===T[g-p]&&Rr(r,e[g])){l=g;break}void 0===l?X(r,i,o,!0):(T[l-p]=c+1,l>=E?E=l:I=!0,b(r,e[l],n,null,i,o,s,a,u),y++)}const _=I?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(T):v;for(g=_.length-1,c=w-1;c>=0;c--){const t=p+c,h=e[t],f=t+1<l?e[t+1].el:r;0===T[c]?b(null,h,n,f,i,o,s,a,u):I&&(g<0||c!==_[g]?W(h,n,f,2):g--)}}},W=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void W(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,ot);if(a===Tr){n(s,e,r);for(let t=0;t<c.length;t++)W(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===kr)return void _(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),ur((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},X=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&cr(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const d=1&l&&f;let p;if((p=s&&s.onVnodeBeforeUnmount)&&hr(p,e,t),6&l)Z(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);d&&rr(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,ot,r):c&&(o!==Tr||h>0&&64&h)?tt(c,e,n,!1,!0):(o===Tr&&(128&h||256&h)||!i&&16&l)&&tt(u,e,n),r&&Y(t)}((p=s&&s.onVnodeUnmounted)||d)&&ur((()=>{p&&hr(p,e,t),d&&rr(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===Tr)return void J(n,i);if(e===kr)return void S(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},J=(t,e)=>{let n;for(;t!==e;)n=f(t),r(t),t=n;r(e)},Z=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&$(r),i)for(let u=0;u<i.length;u++)rt(i[u]);o&&(rt(o),X(s,t,e,n)),a&&ur(a,e),ur((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},tt=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)X(t[s],e,n,r,i)},et=t=>6&t.shapeFlag?et(t.component.subTree):128&t.shapeFlag?t.suspense.next():f(t.anchor||t.el),it=(t,e,n)=>{null==t?e._vnode&&X(e._vnode,null,null,!0):b(e._vnode||null,t,e,null,null,null,n),Re(),e._vnode=t},ot={p:b,um:X,m:W,r:Y,mt:F,mc:N,pc:K,pbc:O,n:et,o:t};let st,at;e&&([st,at]=e(ot));return{render:it,hydrate:st,createApp:sr(it,st)}}(t)}function hr(t,e,n,r=null){pe(t,e,7,[n,r])}function fr(t,e,n=!1){const r=t.children,i=e.children;if(A(r)&&A(i))for(let o=0;o<r.length;o++){const t=r[o];let e=i[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[o]=Kr(i[o]),e.el=t.el),n||fr(t,e))}}const dr=t=>t&&(t.disabled||""===t.disabled),pr=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,mr=(t,e)=>{const n=t&&t.to;if(D(n)){if(e){return e(n)}return null}return n};function gr(t,e,n,{o:{insert:r},m:i},o=2){0===o&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:u,children:c,props:l}=t,h=2===o;if(h&&r(s,e,n),(!h||dr(l))&&16&u)for(let f=0;f<c.length;f++)i(c[f],e,n,2);h&&r(a,e,n)}const vr={__isTeleport:!0,process(t,e,n,r,i,o,s,a,u,c){const{mc:l,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:m,createComment:g}}=c,v=dr(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(null==t){const t=e.el=m(""),c=e.anchor=m("");d(t,n,r),d(c,n,r);const h=e.target=mr(e.props,p),f=e.targetAnchor=m("");h&&(d(f,h),s=s||pr(h));const g=(t,e)=>{16&y&&l(b,t,e,i,o,s,a,u)};v?g(n,c):h&&g(h,f)}else{e.el=t.el;const r=e.anchor=t.anchor,l=e.target=t.target,d=e.targetAnchor=t.targetAnchor,m=dr(t.props),g=m?n:l,y=m?r:d;if(s=s||pr(l),w?(f(t.dynamicChildren,w,g,i,o,s,a),fr(t,e,!0)):u||h(t,e,g,y,i,o,s,a,!1),v)m||gr(e,n,r,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=mr(e.props,p);t&&gr(e,t,null,c,0)}else m&&gr(e,l,d,c,1)}},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:u,anchor:c,targetAnchor:l,target:h,props:f}=t;if(h&&o(l),(s||!dr(f))&&(o(c),16&a))for(let d=0;d<u.length;d++){const t=u[d];i(t,e,n,!0,!!t.dynamicChildren)}},move:gr,hydrate:function(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:u}},c){const l=e.target=mr(e.props,u);if(l){const u=l._lpa||l.firstChild;16&e.shapeFlag&&(dr(e.props)?(e.anchor=c(s(t),e,a(t),n,r,i,o),e.targetAnchor=u):(e.anchor=s(t),e.targetAnchor=c(u,e,l,n,r,i,o)),l._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}};function yr(t,e){return Ir("components",t,!0,e)||t}const br=Symbol();function wr(t){return Ir("directives",t)}function Ir(t,e,n=!0,r=!1){const i=je||ei;if(i){const n=i.type;if("components"===t){const t=li(n);if(t&&(t===e||t===q(e)||t===H(q(e))))return n}const o=Er(i[t]||n[t],e)||Er(i.appContext[t],e);return!o&&r?n:o}}function Er(t,e){return t&&(t[e]||t[q(e)]||t[H(q(e))])}const Tr=Symbol(void 0),_r=Symbol(void 0),Sr=Symbol(void 0),kr=Symbol(void 0),Ar=[];let Cr=null;function xr(t=!1){Ar.push(Cr=t?null:[])}let Nr=1;function Dr(t){Nr+=t}function Or(t,e,n,r,i){const o=Vr(t,e,n,r,i,!0);return o.dynamicChildren=Nr>0?Cr||v:null,Ar.pop(),Cr=Ar[Ar.length-1]||null,Nr>0&&Cr&&Cr.push(o),o}function Lr(t){return!!t&&!0===t.__v_isVNode}function Rr(t,e){return t.type===e.type&&t.key===e.key}const Pr="__vInternal",Mr=({key:t})=>null!=t?t:null,Fr=({ref:t})=>null!=t?D(t)||ae(t)||N(t)?{i:je,r:t}:t:null,Vr=function(t,e=null,n=null,r=0,i=null,o=!1){t&&t!==br||(t=Sr);if(Lr(t)){const r=Ur(t,e,!0);return n&&zr(r,n),r}s=t,N(s)&&"__vccOpts"in s&&(t=t.__vccOpts);var s;if(e){(re(e)||Pr in e)&&(e=T({},e));let{class:t,style:n}=e;t&&!D(t)&&(e.class=d(t)),L(n)&&(re(n)&&!A(n)&&(n=T({},n)),e.style=c(n))}const a=D(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:L(t)?4:N(t)?2:0,u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Mr(e),ref:e&&Fr(e),scopeId:Be,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};zr(u,n),128&a&&t.normalize(u);Nr>0&&!o&&Cr&&(r>0||6&a)&&32!==r&&Cr.push(u);return u};function Ur(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,a=e?Hr(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Mr(a),ref:e&&e.ref?n&&i?A(i)?i.concat(Fr(e)):[i,Fr(e)]:Fr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Tr?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ur(t.ssContent),ssFallback:t.ssFallback&&Ur(t.ssFallback),el:t.el,anchor:t.anchor}}function jr(t=" ",e=0){return Vr(_r,null,t,e)}function Br(t="",e=!1){return e?(xr(),Or(Sr,null,t)):Vr(Sr,null,t)}function qr(t){return null==t||"boolean"==typeof t?Vr(Sr):A(t)?Vr(Tr,null,t.slice()):"object"==typeof t?Kr(t):Vr(_r,null,String(t))}function Kr(t){return null===t.el?t:Ur(t)}function zr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(A(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),zr(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||Pr in e?3===r&&je&&(1===je.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=je}}else N(e)?(e={default:e,_ctx:je},n=32):(e=String(e),64&r?(n=16,e=[jr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Hr(...t){const e=T({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=d([e.class,r.class]));else if("style"===t)e.style=c([e.style,r.style]);else if(I(t)){const n=e[t],i=r[t];n!==i&&(e[t]=n?[].concat(n,i):i)}else""!==t&&(e[t]=r[t])}return e}function Gr(t,e){let n;if(A(t)||D(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(L(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}function Wr(t,e,n={},r,i){let o=t[e];o&&o._c&&(o._d=!1),xr();const s=o&&$r(o(n)),a=Or(Tr,{key:n.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function $r(t){return t.some((t=>!Lr(t)||t.type!==Sr&&!(t.type===Tr&&!$r(t.children))))?t:null}const Qr=t=>t?ii(t)?ui(t)||t.proxy:Qr(t.parent):null,Xr=T(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qr(t.parent),$root:t=>Qr(t.root),$emit:t=>t.emit,$options:t=>Mn(t),$forceUpdate:t=>()=>Ne(t.update),$nextTick:t=>xe.bind(t.proxy),$watch:t=>en.bind(t)}),Yr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==g&&k(r,e))return s[e]=0,r[e];if(i!==g&&k(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&k(c,e))return s[e]=2,o[e];if(n!==g&&k(n,e))return s[e]=3,n[e];On&&(s[e]=4)}}const l=Xr[e];let h,f;return l?("$attrs"===e&&lt(t,0,e),l(t)):(h=a.__cssModules)&&(h=h[e])?h:n!==g&&k(n,e)?(s[e]=3,n[e]):(f=u.config.globalProperties,k(f,e)?f[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==g&&k(i,e))i[e]=n;else if(r!==g&&k(r,e))r[e]=n;else if(k(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==g&&k(t,s)||e!==g&&k(e,s)||(a=o[0])&&k(a,s)||k(r,s)||k(Xr,s)||k(i.config.globalProperties,s)}},Jr=T({},Yr,{get(t,e){if(e!==Symbol.unscopables)return Yr.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!a(e)}),Zr=ir();let ti=0;let ei=null;const ni=()=>ei||je,ri=t=>{ei=t};function ii(t){return 4&t.vnode.shapeFlag}let oi=!1;function si(t,e,n){N(e)?t.render=e:L(e)&&(t.setupState=he(e)),ai(t)}function ai(t,e,n){const r=t.type;t.render||(t.render=r.render||y,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Jr))),ei=t,ut(),Ln(t),ct(),ei=null}function ui(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(he(oe(t.exposed)),{get:(e,n)=>n in e?e[n]:n in Xr?Xr[n](t):void 0}))}function ci(t,e=ei){e&&(e.effects||(e.effects=[])).push(t)}function li(t){return N(t)&&t.displayName||t.name}function hi(t){const e=function(t){let e,n;return N(t)?(e=t,n=y):(e=t.get,n=t.set),new fe(e,n,N(t)||!t.set)}(t);return ci(e.effect),e}const fi="3.1.5",di="undefined"!=typeof document?document:null,pi=new Map,mi={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?di.createElementNS("http://www.w3.org/2000/svg",t):di.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>di.createTextNode(t),createComment:t=>di.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>di.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=n?n.previousSibling:e.lastChild;let o=pi.get(t);if(!o){const e=di.createElement("template");if(e.innerHTML=r?`<svg>${t}</svg>`:t,o=e.content,r){const t=o.firstChild;for(;t.firstChild;)o.appendChild(t.firstChild);o.removeChild(t)}pi.set(t,o)}return e.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};const gi=/\s*!important$/;function vi(t,e,n){if(A(n))n.forEach((n=>vi(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=bi[e];if(n)return n;let r=q(e);if("filter"!==r&&r in t)return bi[e]=r;r=H(r);for(let i=0;i<yi.length;i++){const n=yi[i]+r;if(n in t)return bi[e]=n}return e}(t,e);gi.test(n)?t.setProperty(z(r),n.replace(gi,""),"important"):t[r]=n}}const yi=["Webkit","Moz","ms"],bi={};const wi="http://www.w3.org/1999/xlink";let Ii=Date.now,Ei=!1;if("undefined"!=typeof window){Ii()>document.createEvent("Event").timeStamp&&(Ii=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Ei=!!(t&&Number(t[1])<=53)}let Ti=0;const _i=Promise.resolve(),Si=()=>{Ti=0};function ki(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(Ai.test(t)){let n;for(e={};n=t.match(Ai);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[z(t.slice(2)),e]}(e);if(r){!function(t,e,n,r){t.addEventListener(e,n,r)}(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||Ii();(Ei||r>=n.attached-1)&&pe(function(t,e){if(A(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Ti||(_i.then(Si),Ti=Ii()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const Ai=/(?:Once|Passive|Capture)$/;const Ci=/^on[a-z]/;const xi="transition",Ni=(t,{slots:e})=>function(t,e,n){const r=arguments.length;return 2===r?L(e)&&!A(e)?Lr(e)?Vr(t,null,[e]):Vr(t,e):Vr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Lr(n)&&(n=[n]),Vr(t,e,n))}(sn,function(t){const e={};for(const T in t)T in Di||(e[T]=t[T]);if(!1===t.css)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:c=s,appearToClass:l=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=function(t){if(null==t)return null;if(L(t))return[Ri(t.enter),Ri(t.leave)];{const e=Ri(t);return[e,e]}}(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:I,onBeforeAppear:E=v,onAppear:_=y,onAppearCancelled:S=b}=e,k=(t,e,n)=>{Mi(t,e?l:a),Mi(t,e?c:s),n&&n()},A=(t,e)=>{Mi(t,d),Mi(t,f),e&&e()},C=t=>(e,n)=>{const i=t?_:y,s=()=>k(e,t,n);Oi(i,[e,s]),Fi((()=>{Mi(e,t?u:o),Pi(e,t?l:a),Li(i)||Ui(e,r,m,s)}))};return T(e,{onBeforeEnter(t){Oi(v,[t]),Pi(t,o),Pi(t,s)},onBeforeAppear(t){Oi(E,[t]),Pi(t,u),Pi(t,c)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){const n=()=>A(t,e);Pi(t,h),document.body.offsetHeight,Pi(t,f),Fi((()=>{Mi(t,h),Pi(t,d),Li(w)||Ui(t,r,g,n)})),Oi(w,[t,n])},onEnterCancelled(t){k(t,!1),Oi(b,[t])},onAppearCancelled(t){k(t,!0),Oi(S,[t])},onLeaveCancelled(t){A(t),Oi(I,[t])}})}(t),e);Ni.displayName="Transition";const Di={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ni.props=T({},sn.props,Di);const Oi=(t,e=[])=>{A(t)?t.forEach((t=>t(...e))):t&&t(...e)},Li=t=>!!t&&(A(t)?t.some((t=>t.length>1)):t.length>1);function Ri(t){return X(t)}function Pi(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function Mi(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Fi(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Vi=0;function Ui(t,e,n,r){const i=t._endId=++Vi,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=function(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r("transitionDelay"),o=r("transitionDuration"),s=ji(i,o),a=r("animationDelay"),u=r("animationDuration"),c=ji(a,u);let l=null,h=0,f=0;e===xi?s>0&&(l=xi,h=s,f=o.length):"animation"===e?c>0&&(l="animation",h=c,f=u.length):(h=Math.max(s,c),l=h>0?s>c?xi:"animation":null,f=l?l===xi?o.length:u.length:0);const d=l===xi&&/\b(transform|all)(,|$)/.test(n.transitionProperty);return{type:l,timeout:h,propCount:f,hasTransform:d}}(t,e);if(!s)return r();const c=s+"end";let l=0;const h=()=>{t.removeEventListener(c,f),o()},f=e=>{e.target===t&&++l>=u&&h()};setTimeout((()=>{l<u&&h()}),a+1),t.addEventListener(c,f)}function ji(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>Bi(e)+Bi(t[n]))))}function Bi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}const qi={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ki=(t,e)=>n=>{if(!("key"in n))return;const r=z(n.key);return e.some((t=>t===r||qi[t]===r))?t(n):void 0},zi={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):Hi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Hi(t,!0),r.enter(t)):r.leave(t,(()=>{Hi(t,!1)})):Hi(t,e))},beforeUnmount(t,{value:e}){Hi(t,e)}};function Hi(t,e){t.style.display=e?t._vod:"none"}const Gi=T({patchProp:(t,e,n,r,i=!1,o,s,a,c)=>{switch(e){case"class":!function(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,r,i);break;case"style":!function(t,e,n){const r=t.style;if(n)if(D(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)vi(r,t,n[t]);if(e&&!D(e))for(const t in e)null==n[t]&&vi(r,t,"")}else t.removeAttribute("style")}(t,n,r);break;default:I(e)?E(e)||ki(t,e,0,r,s):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&Ci.test(e)&&N(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(Ci.test(e)&&D(n))return!1;return e in t}(t,e,r,i)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName){t._value=n;const r=null==n?"":n;return t.value!==r&&(t.value=r),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r){try{t[e]=0}catch(a){}return void t.removeAttribute(e)}}try{t[e]=n}catch(kw){}}(t,e,r,o,s,a,c):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),function(t,e,n,r,i){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(wi,e.slice(6,e.length)):t.setAttributeNS(wi,e,n);else{const r=u(e);null==n||r&&!1===n?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}(t,e,r,i))}},forcePatchProp:(t,e)=>"value"===e},mi);let Wi;const $i=(...t)=>{const e=(Wi||(Wi=lr(Gi))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(D(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;N(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};class Qi{static innerWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static width(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static getOuterWidth(t,e){if(t){let n=t.offsetWidth;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)}return n}return 0}static getOuterHeight(t,e){if(t){let n=t.offsetHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}return 0}static getClientHeight(t,e){if(t){let n=t.clientHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}return 0}static getViewport(){let t=window,e=document,n=e.documentElement,r=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||r.clientWidth,height:t.innerHeight||n.clientHeight||r.clientHeight}}static getOffset(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static index(t){let e=t.parentNode.childNodes,n=0;for(var r=0;r<e.length;r++){if(e[r]===t)return n;1===e[r].nodeType&&n++}return-1}static addMultipleClasses(t,e){if(t.classList){let n=e.split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}else{let n=e.split(" ");for(let e=0;e<n.length;e++)t.className+=" "+n[e]}}static addClass(t,e){t.classList?t.classList.add(e):t.className+=" "+e}static removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,e){return!!t&&(t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className))}static find(t,e){return t.querySelectorAll(e)}static findSingle(t,e){return t.querySelector(e)}static getHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}static getWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}static absolutePosition(t,e){let n,r,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=i.height,s=i.width,a=e.offsetHeight,u=e.offsetWidth,c=e.getBoundingClientRect(),l=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();c.top+a+o>f.height?(n=c.top+l-o,t.style.transformOrigin="bottom",n<0&&(n=l)):(n=a+c.top+l,t.style.transformOrigin="top"),r=c.left+s>f.width?Math.max(0,c.left+h+u-s):c.left+h,t.style.top=n+"px",t.style.left=r+"px"}static relativePosition(t,e){let n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const r=e.offsetHeight,i=e.getBoundingClientRect(),o=this.getViewport();let s,a;i.top+r+n.height>o.height?(s=-1*n.height,t.style.transformOrigin="bottom",i.top+s<0&&(s=-1*i.top)):(s=r,t.style.transformOrigin="top"),a=n.width>o.width?-1*i.left:i.left+n.width>o.width?-1*(i.left+n.width-o.width):0,t.style.top=s+"px",t.style.left=a+"px"}static getParents(t,e=[]){return null===t.parentNode?e:this.getParents(t.parentNode,e.concat([t.parentNode]))}static getScrollableParents(t){let e=[];if(t){let n=this.getParents(t);const r=/(auto|scroll)/,i=t=>{let e=window.getComputedStyle(t,null);return r.test(e.getPropertyValue("overflow"))||r.test(e.getPropertyValue("overflowX"))||r.test(e.getPropertyValue("overflowY"))};for(let t of n){let n=1===t.nodeType&&t.dataset.scrollselectors;if(n){let r=n.split(",");for(let n of r){let r=this.findSingle(t,n);r&&i(r)&&e.push(r)}}9!==t.nodeType&&i(t)&&e.push(t)}}return e}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementDimensions(t){var e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e}static fadeIn(t,e){t.style.opacity=0;var n=+new Date,r=0,i=function(){r=+t.style.opacity+((new Date).getTime()-n)/e,t.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}static fadeOut(t,e){var n=1,r=50/e;let i=setInterval((()=>{(n-=r)<=0&&(n=0,clearInterval(i)),t.style.opacity=n}),50)}static getUserAgent(){return navigator.userAgent}static appendChild(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.elElement)throw new Error("Cannot append "+e+" to "+t);e.elElement.appendChild(t)}}static scrollInView(t,e){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(t).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=t.getBoundingClientRect(),a=e.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,u=t.scrollTop,c=t.clientHeight,l=this.getOuterHeight(e);a<0?t.scrollTop=u+a:a+l>c&&(t.scrollTop=u+a-c+l)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static calculateScrollbarWidth(){if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),e=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}static isVisible(t){return null!=t.offsetParent}static invokeElementMethod(t,e,n){t[e].apply(t,n)}static getFocusableElements(t){let e=Qi.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),n=[];for(let r of e)"none"!=getComputedStyle(r).display&&"hidden"!=getComputedStyle(r).visibility&&n.push(r);return n}static isClickable(t){const e=t.nodeName,n=t.parentElement&&t.parentElement.nodeName;return"INPUT"==e||"BUTTON"==e||"A"==e||"INPUT"==n||"BUTTON"==n||"A"==n||this.hasClass(t,"p-button")||this.hasClass(t.parentElement,"p-button")||this.hasClass(t.parentElement,"p-checkbox")||this.hasClass(t.parentElement,"p-radiobutton")}static applyStyle(t,e){if("string"==typeof e)t.style.cssText=this.style;else for(let n in this.style)t.style[n]=e[n]}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}}var Xi=function(){let t=[];const e=t=>t&&parseInt(t.style.zIndex,10)||0;return{get:e,set:(e,n,r)=>{n&&(n.style.zIndex=String(((e,n)=>{let r=t.length>0?t[t.length-1]:{key:e,value:n},i=r.value+(r.key===e?0:n)+1;return t.push({key:e,value:i}),i})(e,r)))},clear:n=>{var r;n&&(r=e(n),t=t.filter((t=>t.value!==r)),n.style.zIndex="")},getCurrent:()=>t.length>0?t[t.length-1].value:0}}(),Yi=0;function Ji(t="pv_id_"){return`${t}${++Yi}`}function Zi(t){let e=no(t);e&&(!function(t){t.removeEventListener("mousedown",to)}(t),e.removeEventListener("animationend",eo),e.remove())}function to(t){let e=t.currentTarget,n=no(e);if(!n||"none"===getComputedStyle(n,null).display)return;if(Qi.removeClass(n,"p-ink-active"),!Qi.getHeight(n)&&!Qi.getWidth(n)){let t=Math.max(Qi.getOuterWidth(e),Qi.getOuterHeight(e));n.style.height=t+"px",n.style.width=t+"px"}let r=Qi.getOffset(e),i=t.pageX-r.left+document.body.scrollTop-Qi.getWidth(n)/2,o=t.pageY-r.top+document.body.scrollLeft-Qi.getHeight(n)/2;n.style.top=o+"px",n.style.left=i+"px",Qi.addClass(n,"p-ink-active")}function eo(t){Qi.removeClass(t.currentTarget,"p-ink-active")}function no(t){for(let e=0;e<t.children.length;e++)if("string"==typeof t.children[e].className&&-1!==t.children[e].className.indexOf("p-ink"))return t.children[e];return null}const ro={mounted(t,e){e.instance.$primevue&&e.instance.$primevue.config&&e.instance.$primevue.config.ripple&&(function(t){let e=document.createElement("span");e.className="p-ink",t.appendChild(e),e.addEventListener("animationend",eo)}(t),function(t){t.addEventListener("mousedown",to)}(t))},unmounted(t){Zi(t)}};var io={name:"Dialog",inheritAttrs:!1,emits:["update:visible","show","hide","maximize","unmaximize","dragend"],props:{header:null,footer:null,visible:Boolean,modal:Boolean,contentStyle:null,contentClass:String,rtl:Boolean,maximizable:Boolean,dismissableMask:Boolean,closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},ariaCloseLabel:{type:String,default:"close"},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0}},data(){return{containerVisible:this.visible,maximized:!1}},documentKeydownListener:null,container:null,mask:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask=null,this.container&&this.autoZIndex&&Xi.clear(this.container),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{close(){this.$emit("update:visible",!1)},onBeforeEnter(t){this.autoZIndex&&Xi.set("modal",t,this.baseZIndex+this.$primevue.config.zIndex.modal),t.setAttribute(this.attributeSelector,"")},onEnter(){this.mask.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1),this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners()},onBeforeLeave(){Qi.addClass(this.mask,"p-dialog-mask-leave")},onLeave(){this.$emit("hide")},onAfterLeave(t){this.autoZIndex&&Xi.clear(t),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners()},onMaskClick(t){this.dismissableMask&&this.closable&&this.modal&&this.mask===t.target&&this.close()},focus(){let t=this.container.querySelector("[autofocus]");t&&t.focus()},maximize(t){this.maximized?(this.maximized=!1,this.$emit("unmaximize",t)):(this.maximized=!0,this.$emit("maximize",t)),this.modal||(this.maximized?Qi.addClass(document.body,"p-overflow-hidden"):Qi.removeClass(document.body,"p-overflow-hidden"))},enableDocumentSettings(){(this.modal||this.maximizable&&this.maximized)&&Qi.addClass(document.body,"p-overflow-hidden")},unbindDocumentState(){(this.modal||this.maximizable&&this.maximized)&&Qi.removeClass(document.body,"p-overflow-hidden")},onKeyDown(t){if(9===t.which){t.preventDefault();let e=Qi.getFocusableElements(this.container);if(e&&e.length>0)if(document.activeElement){let n=e.indexOf(document.activeElement);t.shiftKey?-1==n||0===n?e[e.length-1].focus():e[n-1].focus():-1==n||n===e.length-1?e[0].focus():e[n+1].focus()}else e[0].focus()}else 27===t.which&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},getPositionClass(){const t=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find((t=>t===this.position));return t?`p-dialog-${t}`:""},containerRef(t){this.container=t},maskRef(t){this.mask=t},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let e in this.breakpoints)t+=`\n                        @media screen and (max-width: ${e}) {\n                            .p-dialog[${this.attributeSelector}] {\n                                width: ${this.breakpoints[e]} !important;\n                            }\n                        }\n                    `;this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag(t){Qi.hasClass(t.target,"p-dialog-header-icon")||Qi.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",Qi.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener(){this.documentDragListener=t=>{if(this.dragging){let e=Qi.getOuterWidth(this.container),n=Qi.getOuterHeight(this.container),r=t.pageX-this.lastPageX,i=t.pageY-this.lastPageY,o=this.container.getBoundingClientRect(),s=o.left+r,a=o.top+i,u=Qi.getViewport();this.container.style.position="fixed",this.keepInViewport?(s>=this.minX&&s+e<u.width&&(this.lastPageX=t.pageX,this.container.style.left=s+"px"),a>=this.minY&&a+n<u.height&&(this.lastPageY=t.pageY,this.container.style.top=a+"px")):(this.lastPageX=t.pageX,this.container.style.left=s+"px",this.lastPageY=t.pageY,this.container.style.top=a+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener(){this.documentDragEndListener=t=>{this.dragging&&(this.dragging=!1,Qi.removeClass(document.body,"p-unselectable-text"),this.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maskClass(){return["p-dialog-mask",{"p-component-overlay":this.modal},this.getPositionClass()]},dialogClass(){return["p-dialog p-component",{"p-dialog-rtl":this.rtl,"p-dialog-maximized":this.maximizable&&this.maximized,"p-input-filled":"filled"===this.$primevue.config.inputStyle,"p-ripple-disabled":!1===this.$primevue.config.ripple}]},maximizeIconClass(){return["p-dialog-header-maximize-icon pi",{"pi-window-maximize":!this.maximized,"pi-window-minimize":this.maximized}]},ariaId:()=>Ji(),ariaLabelledById(){return null!=this.header?this.ariaId+"_header":null},attributeSelector:()=>Ji(),contentStyleClass(){return["p-dialog-content",this.contentClass]}},directives:{ripple:ro}};const oo={class:"p-dialog-header-icons"},so=Vr("span",{class:"p-dialog-header-close-icon pi pi-times"},null,-1),ao={key:1,class:"p-dialog-footer"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-dialog-mask {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    pointer-events: none;\n    background-color: transparent;\n    -webkit-transition-property: background-color;\n    transition-property: background-color;\n}\n.p-dialog-mask.p-component-overlay {\n    pointer-events: auto;\n}\n.p-dialog {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    pointer-events: auto;\n    max-height: 90%;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n}\n.p-dialog-content {\n    overflow-y: auto;\n}\n.p-dialog-header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n}\n.p-dialog-footer {\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n}\n.p-dialog .p-dialog-header-icons {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-dialog .p-dialog-header-icon {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    overflow: hidden;\n    position: relative;\n}\n\n/* Fluid */\n.p-fluid .p-dialog-footer .p-button {\n    width: auto;\n}\n\n/* Animation */\n/* Center */\n.p-dialog-enter-active {\n    -webkit-transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n}\n.p-dialog-leave-active {\n    -webkit-transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n.p-dialog-enter-from,\n.p-dialog-leave-to {\n    opacity: 0;\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7);\n}\n.p-dialog-mask.p-dialog-mask-leave {\n    background-color: transparent;\n}\n\n/* Top, Bottom, Left, Right, Top* and Bottom* */\n.p-dialog-top .p-dialog,\n.p-dialog-bottom .p-dialog,\n.p-dialog-left .p-dialog,\n.p-dialog-right .p-dialog,\n.p-dialog-topleft .p-dialog,\n.p-dialog-topright .p-dialog,\n.p-dialog-bottomleft .p-dialog,\n.p-dialog-bottomright .p-dialog {\n    margin: .75rem;\n    -webkit-transform: translate3d(0px, 0px, 0px);\n            transform: translate3d(0px, 0px, 0px);\n}\n.p-dialog-top .p-dialog-enter-active,\n.p-dialog-top .p-dialog-leave-active,\n.p-dialog-bottom .p-dialog-enter-active,\n.p-dialog-bottom .p-dialog-leave-active,\n.p-dialog-left .p-dialog-enter-active,\n.p-dialog-left .p-dialog-leave-active,\n.p-dialog-right .p-dialog-enter-active,\n.p-dialog-right .p-dialog-leave-active,\n.p-dialog-topleft .p-dialog-enter-active,\n.p-dialog-topleft .p-dialog-leave-active,\n.p-dialog-topright .p-dialog-enter-active,\n.p-dialog-topright .p-dialog-leave-active,\n.p-dialog-bottomleft .p-dialog-enter-active,\n.p-dialog-bottomleft .p-dialog-leave-active,\n.p-dialog-bottomright .p-dialog-enter-active,\n.p-dialog-bottomright .p-dialog-leave-active {\n    -webkit-transition: all .3s ease-out;\n    transition: all .3s ease-out;\n}\n.p-dialog-top .p-dialog-enter-from,\n.p-dialog-top .p-dialog-leave-to {\n    -webkit-transform: translate3d(0px, -100%, 0px);\n            transform: translate3d(0px, -100%, 0px);\n}\n.p-dialog-bottom .p-dialog-enter-from,\n.p-dialog-bottom .p-dialog-leave-to {\n    -webkit-transform: translate3d(0px, 100%, 0px);\n            transform: translate3d(0px, 100%, 0px);\n}\n.p-dialog-left .p-dialog-enter-from,\n.p-dialog-left .p-dialog-leave-to,\n.p-dialog-topleft .p-dialog-enter-from,\n.p-dialog-topleft .p-dialog-leave-to,\n.p-dialog-bottomleft .p-dialog-enter-from,\n.p-dialog-bottomleft .p-dialog-leave-to {\n    -webkit-transform: translate3d(-100%, 0px, 0px);\n            transform: translate3d(-100%, 0px, 0px);\n}\n.p-dialog-right .p-dialog-enter-from,\n.p-dialog-right .p-dialog-leave-to,\n.p-dialog-topright .p-dialog-enter-from,\n.p-dialog-topright .p-dialog-leave-to,\n.p-dialog-bottomright .p-dialog-enter-from,\n.p-dialog-bottomright .p-dialog-leave-to {\n    -webkit-transform: translate3d(100%, 0px, 0px);\n            transform: translate3d(100%, 0px, 0px);\n}\n\n/* Maximize */\n.p-dialog-maximized {\n    -webkit-transition: none;\n    transition: none;\n    -webkit-transform: none;\n            transform: none;\n    width: 100vw !important;\n    max-height: 100%;\n    height: 100%;\n}\n.p-dialog-maximized .p-dialog-content {\n    -webkit-box-flex: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n}\n\n/* Position */\n.p-dialog-left {\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n}\n.p-dialog-right {\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n}\n.p-dialog-top {\n    -webkit-box-align: start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n}\n.p-dialog-topleft {\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n}\n.p-dialog-topright {\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n    -webkit-box-align: start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n}\n.p-dialog-bottom {\n    -webkit-box-align: end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n}\n.p-dialog-bottomleft {\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n}\n.p-dialog-bottomright {\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n    -webkit-box-align: end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n}\n.p-confirm-dialog .p-dialog-content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n"),io.render=function(t,e,n,r,i,o){const s=wr("ripple");return xr(),Or(vr,{to:"body"},[i.containerVisible?(xr(),Or("div",{key:0,ref:o.maskRef,class:o.maskClass,onClick:e[4]||(e[4]=(...t)=>o.onMaskClick&&o.onMaskClick(...t))},[Vr(Ni,{name:"p-dialog",onBeforeEnter:o.onBeforeEnter,onEnter:o.onEnter,onBeforeLeave:o.onBeforeLeave,onLeave:o.onLeave,onAfterLeave:o.onAfterLeave,appear:""},{default:Ge((()=>[n.visible?(xr(),Or("div",Hr({key:0,ref:o.containerRef,class:o.dialogClass},t.$attrs,{role:"dialog","aria-labelledby":o.ariaLabelledById,"aria-modal":n.modal}),[n.showHeader?(xr(),Or("div",{key:0,class:"p-dialog-header",onMousedown:e[3]||(e[3]=(...t)=>o.initDrag&&o.initDrag(...t))},[Wr(t.$slots,"header",{},(()=>[n.header?(xr(),Or("span",{key:0,id:o.ariaLabelledById,class:"p-dialog-title"},p(n.header),9,["id"])):Br("",!0)])),Vr("div",oo,[n.maximizable?nr((xr(),Or("button",{key:0,class:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:e[1]||(e[1]=(...t)=>o.maximize&&o.maximize(...t)),type:"button",tabindex:"-1"},[Vr("span",{class:o.maximizeIconClass},null,2)],512)),[[s]]):Br("",!0),n.closable?nr((xr(),Or("button",{key:1,class:"p-dialog-header-icon p-dialog-header-close p-link",onClick:e[2]||(e[2]=(...t)=>o.close&&o.close(...t)),"aria-label":n.ariaCloseLabel,type:"button",tabindex:"-1"},[so],8,["aria-label"])),[[s]]):Br("",!0)])],32)):Br("",!0),Vr("div",{class:o.contentStyleClass,style:n.contentStyle},[Wr(t.$slots,"default")],6),n.footer||t.$slots.footer?(xr(),Or("div",ao,[Wr(t.$slots,"footer",{},(()=>[jr(p(n.footer),1)]))])):Br("",!0)],16,["aria-labelledby","aria-modal"])):Br("",!0)])),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],2)):Br("",!0)])};var uo={name:"Button",props:{label:{type:String},icon:{type:String},iconPos:{type:String,default:"left"},badge:{type:String},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",{"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&1===String(this.badge).length}]},disabled(){return this.$attrs.disabled||this.loading}},directives:{ripple:ro}};const co={class:"p-button-label"};uo.render=function(t,e,n,r,i,o){const s=wr("ripple");return nr((xr(),Or("button",{class:o.buttonClass,type:"button",disabled:o.disabled},[Wr(t.$slots,"default",{},(()=>[n.loading&&!n.icon?(xr(),Or("span",{key:0,class:o.iconClass},null,2)):Br("",!0),n.icon?(xr(),Or("span",{key:1,class:o.iconClass},null,2)):Br("",!0),Vr("span",co,p(n.label||" "),1),n.badge?(xr(),Or("span",{key:2,class:o.badgeStyleClass},p(n.badge),3)):Br("",!0)]))],10,["disabled"])),[[s]])};var lo={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(t){this.$emit("update:modelValue",t.target.value)}},computed:{filled(){return null!=this.modelValue&&this.modelValue.toString().length>0}}};lo.render=function(t,e,n,r,i,o){return xr(),Or("input",{class:["p-inputtext p-component",{"p-filled":o.filled}],value:n.modelValue,onInput:e[1]||(e[1]=(...t)=>o.onInput&&o.onInput(...t))},null,42,["value"])};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ho=function(){return(ho=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},fo=function(t,e){return(fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var po=function(){return(po=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},mo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=go(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vo=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bo(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(kw){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wo=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Io.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}fo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),Io=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Eo(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new wo(i,a,r);return u},t}();function Eo(t,e){return t.replace(To,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var To=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function So(t,e){var n=new ko(t,e);return n.subscribe.bind(n)}var ko=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Ao),void 0===r.error&&(r.error=Ao),void 0===r.complete&&(r.complete=Ao);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(kw){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(kw){"undefined"!=typeof console&&console.error&&console.error(kw)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Ao(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){return t&&t._delegate?t._delegate:t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xo(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(kw){o(kw)}}function a(t){try{u(r.throw(t))}catch(kw){o(kw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function No(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(kw){o=[6,kw],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Do(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oo(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Lo(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var Ro=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Po=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new vo;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(kw){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(kw){if(r)return null;throw kw}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(kw){}try{for(var r=Do(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Oo(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(kw){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return xo(this,void 0,void 0,(function(){var t;return No(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Lo(Lo([],Oo(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Oo(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var a=Do(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=Oo(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(s)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=Do(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo,Fo=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Po(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Vo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo,jo,Bo=[];(jo=Uo||(Uo={}))[jo.DEBUG=0]="DEBUG",jo[jo.VERBOSE=1]="VERBOSE",jo[jo.INFO=2]="INFO",jo[jo.WARN=3]="WARN",jo[jo.ERROR=4]="ERROR",jo[jo.SILENT=5]="SILENT";var qo,Ko={debug:Uo.DEBUG,verbose:Uo.VERBOSE,info:Uo.INFO,warn:Uo.WARN,error:Uo.ERROR,silent:Uo.SILENT},zo=Uo.INFO,Ho=((Mo={})[Uo.DEBUG]="log",Mo[Uo.VERBOSE]="log",Mo[Uo.INFO]="info",Mo[Uo.WARN]="warn",Mo[Uo.ERROR]="error",Mo),Go=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Ho[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Vo(["["+i+"]  "+t.name+":"],n))}},Wo=function(){function t(t){this.name=t,this._logLevel=zo,this._logHandler=Go,this._userLogHandler=null,Bo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Uo))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Ko[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Vo([this,Uo.DEBUG],t)),this._logHandler.apply(this,Vo([this,Uo.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Vo([this,Uo.VERBOSE],t)),this._logHandler.apply(this,Vo([this,Uo.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Vo([this,Uo.INFO],t)),this._logHandler.apply(this,Vo([this,Uo.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Vo([this,Uo.WARN],t)),this._logHandler.apply(this,Vo([this,Uo.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Vo([this,Uo.ERROR],t)),this._logHandler.apply(this,Vo([this,Uo.ERROR],t))},t}();function $o(t){Bo.forEach((function(e){e.setLogLevel(t)}))}var Qo,Xo=((qo={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",qo["bad-app-name"]="Illegal App name: '{$appName}",qo["duplicate-app"]="Firebase App named '{$appName}' already exists",qo["app-deleted"]="Firebase App named '{$appName}' already deleted",qo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",qo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",qo),Yo=new Io("app","Firebase",Xo),Jo=((Qo={})["@firebase/app"]="fire-core",Qo["@firebase/analytics"]="fire-analytics",Qo["@firebase/app-check"]="fire-app-check",Qo["@firebase/auth"]="fire-auth",Qo["@firebase/database"]="fire-rtdb",Qo["@firebase/functions"]="fire-fn",Qo["@firebase/installations"]="fire-iid",Qo["@firebase/messaging"]="fire-fcm",Qo["@firebase/performance"]="fire-perf",Qo["@firebase/remote-config"]="fire-rc",Qo["@firebase/storage"]="fire-gcs",Qo["@firebase/firestore"]="fire-fst",Qo["fire-js"]="fire-js",Qo["firebase-wrapper"]="fire-js-all",Qo),Zo=new Wo("@firebase/app"),ts=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=go(void 0,t),this.container=new Fo(e.name),this._addComponent(new Ro("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(kw){Zo.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,kw)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Yo.create("app-deleted",{appName:this.name_})},t}();ts.prototype.name&&ts.prototype.options||ts.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function es(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw Yo.create("bad-app-name",{appName:String(s)});if(_o(e,s))throw Yo.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Jo[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Zo.warn(u.join(" "))}o(new Ro(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:$o,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Yo.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Ko[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Uo[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Bo;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!_o(e,t=t||"[DEFAULT]"))throw Yo.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Zo.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw Yo.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&go(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns=function t(){var e=es(ts);return e.INTERNAL=ho(ho({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){go(e,t)},createSubscribe:So,ErrorFactory:Io,deepExtend:go}),e}(),rs=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Zo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var is=self.firebase.SDK_VERSION;is&&is.indexOf("LITE")>=0&&Zo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var os=ns.initializeApp;ns.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return bo()&&Zo.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),os.apply(void 0,t)};var ss,as,us=ns;(ss=us).INTERNAL.registerComponent(new Ro("platform-logger",(function(t){return new rs(t)}),"PRIVATE")),ss.registerVersion("@firebase/app","0.6.28",as),ss.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
us.registerVersion("firebase","8.8.0","app"),us.SDK_VERSION="8.8.0",function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ra(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=k+t,this.message=e||A[t]||"",this.a=n||null}function _(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,k="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=x("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(O,D),O.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new R((function(){return new U}),(function(t){t.reset()}));function V(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=j(t,e)}function G(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=bt}function vt(t){return t instanceof gt&&t.constructor===gt&&t.b===bt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ta=!0,gt.prototype.sa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===At?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function _t(t,e){var n=vt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,At)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?vt(t):encodeURIComponent(String(t))})))}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Ct(t,e){this.a=e===Pt?t:""}function xt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ct.prototype.ta=!0,Ct.prototype.sa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Ct)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Ot.test(t))t=new Ct(t,Pt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Nt.test(e[1])?new Ct(t,Pt):null}return t}function Rt(t){return t instanceof Ct?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new Ct(t,Pt))}var Pt={},Mt=new Ct("about:invalid#zClosurez",Pt);function Ft(t,e,n){this.a=n===Vt?t:""}Ft.prototype.ta=!0,Ft.prototype.sa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t,e,n,r){return t=t instanceof Ct?t:Rt(t),e=e||s,n=n instanceof gt?vt(n):n||"",e.open(xt(t),n,r,void 0)}function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=l;var Kt,zt,Ht=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),$t=Wt||Gt,Qt=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(zt=X,Qt?/rv:([^\);]+)(\)|;)/.exec(zt):Wt?/Edge\/([\d\.]+)/.exec(zt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Xt?/WebKit\/(\S+)/.exec(zt):Ht?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Gt){var te=Yt();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(Kt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Gt){var ie=Yt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var se=!Gt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}B(s?Q(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function me(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ge||(le(),ge=!0),ve.add(t,e)}var ge=!1,ve=new M;function ye(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){pe(e)}P(F,t)}ge=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Le(n,Ie,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(kw){}Le(n,Ee,t)}))}catch(r){Le(this,Ee,r)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new R((function(){return new Te}),(function(t){t.reset()}));function Se(t,e,n){var r=_e.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof be)return t;var e=new be(l);return Le(e,Ie,t),e}function Ae(t){return new be((function(e,n){n(t)}))}function Ce(t,e,n){Re(t,e,n,null)||me(w(e,t))}function xe(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ne(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ee,e)))}t.c=null}else Le(t,Ee,e)}function De(t,e){t.b||t.a!=Ie&&t.a!=Ee||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,De(t,i),i.a}function Le(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,me((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof be)return De(t,Se(e||l,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Pe(t){t.h||(t.h=!0,me(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(kw){Ue.call(null,kw)}P(_e,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Oe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,De(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);me((function(){Ne(this,e)}),this)}},t.$c=function(t){this.a=we,Le(this,Ie,t)},t.ad=function(t){this.a=we,Le(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=pe;function je(t){D.call(this,t)}function Be(){this.ya=this.ya,this.pa=this.pa}I(je,D),je.prototype.name="cancel";var qe={};function Ke(t){if(!t.ya&&(t.ya=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}(t);delete qe[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},He=!Gt||9<=Number(oe),Ge=Gt&&!re("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Qe,$e);var Xe=ze({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Je,this.wa=this.Qa=!1}function tn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=gn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=mn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?In(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ye])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&hn(t),n.call(r,e)}function mn(t,e){if(t.wa)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function gn(t){return(t=t[on])instanceof en?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function bn(){Be.call(this),this.v=new en(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function _n(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(bn,Be),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;pt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=An.prototype).X=function(){Cn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Cn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return xn(this.b,t)?this.b[t]:e},t.set=function(t,e){xn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,Rn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Ln(this,n[4]),this.f=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function On(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Hn)),t.b=new Wn(e,t.i))}function Pn(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Fn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Vn(t,e,n,r){var i=new Dn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Ln(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,qn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Gn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var qn=/[#\/\?@]/g,Kn=/[#\?:]/g,zn=/[#\?]/g,Hn=/[#\?@]/g,Gn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){$n(t),e=tr(t,e),xn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cn(t)))}function Yn(t,e){return $n(t),e=tr(t,e),xn(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Q(n)),t.b+=n.length)}function Zn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){$n(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){$n(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){$n(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=$(e,this.a.get(tr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Ar();return Gt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=xt(Lt(t)||Mt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(Ar())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Lt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Ct?e:Rt(e),s.href=xt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ut("",r,n,s),t=xt(e),s&&($t&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Ft(t=(r=It())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ut(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function vr(t){return t=t||Ar(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return us.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":us.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Er:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=_r(i=Ar()):"Worker"===r&&(r=_r(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Nr(){return(Dr()||"chrome-extension:"===Or()||vr())&&!Ir()&&xr()&&!br()}function Dr(){return"http:"===Or()||"https:"===Or()}function Or(){return s.location&&s.location.protocol||null}function Lr(t){return!hr(t=t||Ar())&&_r(t)!=Er}function Rr(t){return void 0===t?null:er(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=_r(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=wr(),this.b=hr(t)||"ReactNative"===e}function Br(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Kr(){return!(!Cr("fireauth.oauthhelper",s)&&!Cr("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Dr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Hr={};function Gr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Wr.abcd}catch(zt){zr=!1}function $r(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function Xr(t){var e={};return Qr(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,Yr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ni]),$r(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(n){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),$r(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Zr(t[li]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[gi]=n||null,e[di]=r):(e[pi]=r||null,e[gi]=r||null,e[di]=n||null),e[mi]=t||null,$r(this,yi,i),$r(this,vi,Yr(e))}I(ii,Jr),ii.prototype.w=function(){var t=ii.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",mi="multiFactorInfo",gi="previousEmail",vi="data",yi="operation";function bi(t){var e=Mn(t=Fn(t),wi)||null,n=Mn(t,Ii)||null,r=Mn(t,_i)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+Ii+"and "+_i+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ei)||null,languageCode:Mn(t,Ti)||null,tenantId:Mn(t,Si)||null})}var wi="apiKey",Ii="oobCode",Ei="continueUrl",Ti="languageCode",_i="mode",Si="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new bi(t)}catch(e){return null}}function Ci(t){var e=t[Li];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Mi];var r=n[Ri];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new T("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Ni="dynamicLinkDomain",Di="handleCodeInApp",Oi="iOS",Li="url",Ri="installApp",Pi="minimumVersion",Mi="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Bi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Bi(t)}catch(e){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function $i(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Qi])return new Yi(t)}catch(r){}return null}var Qi="idToken",Xi="providerId";function Yi(t){var e=t[Xi];if(!e&&t[Qi]){var n=qi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function Ji(t){Yi.call(this,t),$r(this,"profile",Yr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function ro(t){var e=Fn(t),n=Mn(e,"link"),r=Mn(Fn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Fn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}I(Ji,Yi),I(Zi,Ji),I(to,Ji),I(eo,Ji),I(no,Ji);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then((function(t){if(t[Js]){var n=qi(t[Js]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t}))}function co(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function go(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Wi(t)||{}).Ja||null,this.pb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function yo(t){go.call(this,t,Hi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){yo.call(this,"github.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){yo.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function So(){go.call(this,"twitter.com",zi)}function ko(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===xo.EMAIL_LINK_SIGN_IN_METHOD?xo.EMAIL_LINK_SIGN_IN_METHOD:xo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function xo(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function No(t,e){if(!(e=Do(e)))throw new T("argument-error","Invalid email link!");return new Ao(t,e.code,xo.EMAIL_LINK_SIGN_IN_METHOD)}function Do(t){return(t=Ai(t=ro(t)))&&t.operation===ai?t:null}function Oo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Oo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Po(t){try{this.a=t||us.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Oo({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&_(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(t){return wa(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,Ia(t,n)},co.prototype.c=function(t,e){return uo(Ea(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return wa(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,Ia(t,n)},fo.prototype.c=function(t,e){return uo(Ea(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ka=function(t){return this.Jb=ft(t),this},I(vo,go),I(yo,go),yo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},yo.prototype.Rb=function(){return Q(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},I(bo,yo),$r(bo,"PROVIDER_ID","facebook.com"),$r(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Io,yo),$r(Io,"PROVIDER_ID","github.com"),$r(Io,"GITHUB_SIGN_IN_METHOD","github.com"),I(To,yo),$r(To,"PROVIDER_ID","google.com"),$r(To,"GOOGLE_SIGN_IN_METHOD","google.com"),I(So,go),$r(So,"PROVIDER_ID","twitter.com"),$r(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Na,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Da,{idToken:e,email:this.a,oobCode:this.f}):ru(t,za,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return uo(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(xo,{PROVIDER_ID:"password"}),Qr(xo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(xo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.gb(Ro(this))},Oo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,ru(t,tu,n)},Oo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",uo(t=ru(t,eu,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.gb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return ru(t,Ga,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return ru(t,Wa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Po,{PROVIDER_ID:"phone"}),Qr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Ko=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Kb&&$r(this,"email",t.Kb),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.$b&&$r(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Wo(){}function $o(t){return t.c||(t.c=t.b())}function Qo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(kw){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}I(zo,T),I(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,I(Qo,Wo),Qo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Qo,I(Yo,Wo),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(L("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(d(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},ls=null;function hs(t){var e;if(ls||(ls=new es(""),cs[""]=ls,ls.c=os),!(e=cs[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(ss,e,void 0)}function ds(t){this.f=t}function ps(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=ms,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ds,Wo),ds.prototype.a=function(){return new ps(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),I(ps,bn);var ms=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function vs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){bn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ps.prototype).open=function(t,e){if(this.readyState!=ms)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vs(this)),this.readyState=ms},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?vs(this):ys(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,vs(this))},t.sc=function(t){this.a&&(this.response=t,vs(this))},t.Va=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&vs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(bs,bn);var ws="";bs.prototype.b=hs("goog.net.XhrIo");var Is=/^https?$/i,Es=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=t.D?$o(t.D):$o(qo),t.a.onreadystatechange=b(t.Wb,t);try{fs(t.b,Os(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return fs(t.b,Os(t,"Error opening Xhr: "+a.message)),void Ss(t,a)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=kn(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=_s,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!H(Es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{xs(t),0<t.g&&(t.u=function(t){return Gt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),fs(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){fs(t.b,Os(t,"Send error: "+a.message)),Ss(t,a)}}function _s(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ks(t),Cs(t)}function ks(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function As(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Ns(t)&&2==Ds(t))fs(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==Ns(t))Tn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ns(t)){fs(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Nn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Is.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ns(t)?t.a.statusText:""}catch(l){fs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ds(t)+"]",ks(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){xs(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(kw){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+kw.message,void 0)}}}function xs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ns(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<Ns(t)?t.a.status:-1}catch(e){return-1}}function Os(t,e){return e+" ["+t.P+" "+t.l+" "+Ds(t)+"]"}function Ls(t){var e=zs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Vs(t)}function Ps(t){if(t.a){if(!t.v)throw new Us(t);t.v=!1}}function Ms(t,e,n,r){t.g.push([e,n,r]),t.a&&Vs(t)}function Fs(t){return z(t.g,(function(t){return d(t[1])}))}function Vs(t){if(t.h&&t.a&&Fs(t)){var e=t.h,n=qs[e];n&&(s.clearTimeout(n.a),delete qs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Fs(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ls?(Ms(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Bs(e),qs[e.a]=e,t.h=e.a)}function Us(){D.call(this)}function js(){D.call(this)}function Bs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),bs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?As(this):this.Jc())},t.Jc=function(){As(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fs(this.b,"Can not get response: "+e.message),null}},Ls.prototype.cancel=function(t){if(this.a)this.c instanceof Ls&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Ps(this),Rs(this,!1,t))}},Ls.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},Ls.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ms(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},Ls.prototype.$goog_Thenable=!0,I(Us,D),Us.prototype.message="Deferred has already fired",Us.prototype.name="AlreadyCalledError",I(js,D),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",Bs.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function Ks(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ls(o);return e=window.setTimeout((function(){Hs(i,!0);var t=new $s(Ws,"Timeout reached for loading script "+r);Ps(a),Rs(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,!1,e),Ps(a),Rs(a,!0,null))},i.onerror=function(){Hs(i,!0,e);var t=new $s(Gs,"Error while loading script "+r);Ps(a),Rs(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function zs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,Ws=1;function $s(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Qs(t){this.f=t}function Xs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=ft(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=ft(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&us.INTERNAL.node&&us.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new ds(self):Ir()?this.f=new Qs(n):this.f=new Yo,this.b=null}I($s,D),I(Qs,Wo),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Ys,Js="idToken",Zs=new jr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new jr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=Ar();return!((t=_r(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Ys||(Ys=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ms(t,null,e,void 0)}(Ks(_t(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Xs.prototype.T=function(){return this.b},Xs.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),Ke(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),Ts(a,t,n,r,i)};var ua=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function la(t,e,n,r,i,o,s){var a=Fn(e+n);Pn(a,"key",t.c),s&&Pn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Pn(a,c,i[c]);return new be((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:er(Pr(i)),t.a,t.v.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!mr.test(t))throw new T("invalid-email")}function fa(t){"email"in t&&ha(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Xs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xs.prototype.Ab=function(){return ru(this,Ha,{})},Xs.prototype.Cb=function(t,e){return ru(this,Ka,{idToken:t,email:e})},Xs.prototype.Db=function(t,e){return ru(this,za,{idToken:t,password:e})};var ma={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ga(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,$a,e)}function Ia(t,e){return e.returnIdpCredential=!0,ru(t,Xa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qa,e)}function Ta(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Xs.prototype).Eb=function(t,e){var n={idToken:t},r=[];return lt(ma,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ka,n)},t.wb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Va,t)},t.xb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Pa,t)},t.vb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ma,t)},t.Fb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fa,t)},t.gb=function(t){return ru(this,Za,t)},t.ob=function(t,e){return ru(this,Ba,{oobCode:t,newPassword:e})},t.Sa=function(t){return ru(this,Sa,{oobCode:t})},t.kb=function(t){return ru(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:Ta,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},ka={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new T("weak-password")},G:da,V:!0,B:!0},Aa={endpoint:"createAuthUri",B:!0},Ca={endpoint:"deleteAccount",O:["idToken"]},xa={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Na={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ha,G:da,V:!0,B:!0},Da={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ha,G:da,V:!0},Oa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ga,G:da,B:!0,Na:!0},La={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ga,G:da,B:!0,Na:!0},Ra={endpoint:"getAccountInfo"},Pa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Va={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ua={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ja={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ba={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},qa={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ka={endpoint:"setAccountInfo",O:["idToken"],A:fa,V:!0},za={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fa(t),!t.password)throw new T("weak-password")},G:da,V:!0},Ha={endpoint:"signupNewUser",G:da,V:!0,B:!0},Ga={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},$a={endpoint:"verifyAssertion",A:va,Za:ya,G:ba,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:va,Za:ya,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);da(t)},V:!0,B:!0},Xa={endpoint:"verifyAssertion",A:function(t){if(va(t),!t.idToken)throw new T("internal-error")},Za:ya,G:ba,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:da,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new T("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");pa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);da(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ae(new T("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return ke(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),la(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Rr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.sb=function(t){return(lu||(lu=new be((function(t,e){function n(){Ur(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},ke(Ks(r=_t(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new be((function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new jr(3e4,6e4),cu=new jr(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Pn(this.a,"apiKey",this.h),Pn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return us.app(t).auth().Ga()}catch(e){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mu(t){var e=ur();return function(t){return ru(t,Ua,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(ur())}))}function gu(t){return t.m||(t.m=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?kr(t.c,du(t.b)):null,t.l=new Xs(t.g,x(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.zb(l).toString()}function bu(t){if(this.a=t||us.INTERNAL.reactNative&&us.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Pn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Pn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Pn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Pn(t,"apiKey",this.s),Pn(t,"appName",this.c),Pn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=us.app(this.c).auth().la()}catch(a){n=null}for(var r in e.pb=n,Pn(t,"providerId",this.a.providerId),e=Pr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ht(e)||Pn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Pn(t,"scopes",n.join(","))),this.l?Pn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Pn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Pn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Pn(t,s,this.b[s]);return this.h?Pn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Pn(t,"eid",this.f):Xn(t.b,"eid"),(s=du(this.c)).length&&Pn(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Pb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.sb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return _n(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Ar();return!Lr(t)&&!Vr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new T("popup-blocked"));if(s&&!Lr())return this.ma().o((function(e){fr(t),i(e)})),r(),ke();this.a||(this.a=mu(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),s)||cr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=mu(vu(this)));var i=this;return this.a.then((function(){Vo(e),cr(yu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){W(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Rr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Eu=[];function Tu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Cu(){if(!Ou())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(B(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Tu(this.v,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new _u(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function xu(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return xu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Nu(t){return t.i||(t.i=xu(t)),t.i}function Du(t,e){var n=0;return new be((function r(i,o){Nu(t).then(e).then(i).o((function(e){if(!(3<++n))return Nu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!s.indexedDB}catch(zt){return!1}}function Lu(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function Fu(t){return Nu(t).then((function(t){var e=Lu(Ru(t,!1));return e.getAll?Pu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(Ou()){var t=Fr(),r="__sak"+t;return Iu||(Iu=new Cu),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function ju(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==wr();if(!(t=qu()||t&&us.INTERNAL.node&&us.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=qu()||us.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){this.type="nullStorage"}function zu(){if(!function(){var t="Node"==wr();if(!(t=Hu()||t&&us.INTERNAL.node&&us.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Hu()||us.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gu(){var t={};t.Browser=Qu,t.Node=Xu,t.ReactNative=Yu,t.Worker=Ju,this.a=t[wr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Cu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Pu((e=Lu(Ru(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=Lu(Ru(o,!0)),i)return i.value=e,Pu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Pu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Du(this,(function(e){return Pu(Lu(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Pu(Lu(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=ju.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return ke().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&ln(s.window,"storage",t)},(t=Ku.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=zu.prototype).get=function(t){var e=this;return ke().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,$u,Qu={F:Bu,cb:zu},Xu={F:Bu,cb:zu},Yu={F:bu,cb:Ku},Ju={F:Bu,cb:Ku},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(Ar())||!yr()),e=Lr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Gu),t=Wu;try{this.g=!ar()&&Kr()||!s.indexedDB?new t.a.F:new Uu(br()?new ju:new t.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new ju}this.v=new ju,this.f=b(this.Zb,this),this.b={}}function ec(){return $u||($u=new tc),$u}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(nc(this,"local").ca(this.f),this.h||(ar()||!Kr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Gt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(yc):yc),this.reset()}I(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var mc=$(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Q(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}I(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,mc,56-e.c):vc(e,mc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),kc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Fn(i),"firebaseError")||null))?_(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=_n(500).then((function(){return kc(t).then((function(){r||_c(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ko||(Ko=new Bo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Cr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function kc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?gr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Cr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Cr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Cr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Cr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Pb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Nb=function(){return Ae(new T("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ae(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=ke().then((function(){return Vo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=Cr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ae(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Cr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Cr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Cr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Ar(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Cr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=_n(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){Br()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return kc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ta=function(t){W(this.b,(function(e){return e==t}))};var Cc={name:"pendingRedirect",F:"session"};function xc(t){return ic(t.b,Cc,t.a)}function Nc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Hc,this.C=new Xc,this.g=new Ac(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,S,this.J)}function Dc(t,e,n,r,i){var o=us.SDK_VERSION||null;return vr()?new Ic(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function Oc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Lc(t){t.a.Yb()&&Oc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Ub()||Gc(t.b)}function Rc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?xc(t.g).then((function(){Oc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):Lc(t)})).o((function(){Lc(t)}))}function Pc(t,e){W(t.h,(function(t){return t==e}))}Nc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Gc(this.b),e};var Mc=new jr(2e3,1e4),Fc=new jr(3e4,6e4);function Vc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Uc(e))throw new T("operation-not-supported-in-this-environment");return o=e,xc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new be((function(){})):xc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Bc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Mc.get())}Nc.prototype.ra=function(){return this.b.ra()};var qc={};function Kc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function zc(t,e,n,r){var i=Kc(e,n,r);return qc[i]||(qc[i]=new Nc(t,e,n,r)),qc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function $c(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):$c(t,n):$c(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Jc(t,e){this.a=e,$r(this,"verificationId",t)}function Zc(t,e,n,r){return new Po(t).gb(e,n).then((function(t){return new Jc(t,r)}))}function tl(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;B(e[nl]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Qc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Qc(t,a,e,null)})).o((function(e){Qc(t,a,null,e)}))}(this,t,e):Ae(new T("invalid-auth-event")):(Qc(this,!1,null,null),ke())}else Ae(new T("invalid-auth-event"))},Hc.prototype.ra=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=_n(Fc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new T("invalid-auth-event"))}else Ae(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),$r(this,"resolver",this.b)}function ol(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function sl(){}function al(t){$r(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,$r(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t,e){t.stop(),t.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Br()||!t?ke():new be((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dl(t,!0)})).o((function(e){t.i(e)&&dl(t,!1)}))}function pl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ml(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function gl(t,e){t.b=qi(e[Js]||""),t.a=e.refreshToken,ml(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function vl(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,ml(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function bl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=us.SDK_VERSION?kr(us.SDK_VERSION):null;this.a=new Xs(this.l,x(S),r),(this.u=t.emulatorConfig||null)&&ia(this.a,this.u),this.h=new pl(this.a),xl(this,e[Js]),gl(this.h,e),$r(this,"refreshToken",this.h.a),Ol(this,n||{}),bn.call(this),this.P=!1,this.s&&Nr()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){Il(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){_l(i,t.f)},this.ja=null,this.S=new ll(this,n),$r(this,"multiFactor",this.S)}function Il(t,e){t.u=e,ia(t.a,e),t.b&&(e=t.b,t.b=zc(t.s,t.l,t.m,t.u),t.P&&(Pc(e,t),Rc(t.b,t)))}function El(t,e){t.qa&&ln(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&an(e,"languageCodeChanged",t.Pa)}function Tl(t,e){t.$&&ln(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&an(e,"emulatorConfigChanged",t.Ba)}function _l(t,e){t.aa=e,sa(t.a,us.SDK_VERSION?kr(us.SDK_VERSION,t.aa):null)}function Sl(t,e){t.ja&&ln(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&an(e,"frameworkChanged",t.Oa)}function kl(t){try{return us.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Al(t){t.J||t.D.b||(t.D.start(),ln(t,"tokenChanged",t.ba),an(t,"tokenChanged",t.ba))}function Cl(t){ln(t,"tokenChanged",t.ba),t.D.stop()}function xl(t,e){t.Aa=e,$r(t,"_lat",e)}function Nl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return xe(e).then((function(){return t}))}function Dl(t){t.b&&!t.P&&(t.P=!0,Rc(t.b,t))}function Ol(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ll(){}function Rl(t){return ke().then((function(){if(t.J)throw new T("app-deleted")}))}function Pl(t){return K(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(Fl(t,e.providerId),t.providerData.push(e))}function Fl(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Vl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Ul(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new yl(t.a,t.b)}(e.metadata)):$r(t,"metadata",new yl),B(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),$r(t,"refreshToken",t.h.a),hl(t.S,e.S.b))}function jl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ra,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Vl(t,"isAnonymous",!1),e}))}))}function Bl(t,e){e[Js]&&t.Aa!=e[Js]&&(gl(t.h,e),t.dispatchEvent(new cl("tokenChanged")),xl(t,e[Js]),Vl(t,"refreshToken",t.h.a))}function ql(t,e){return jl(t).then((function(){if(H(Pl(t),e))return Nl(t).then((function(){throw new T("provider-already-linked")}))}))}function Kl(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=$i(e),operationType:n})}function zl(t,e){return Bl(t,e),t.reload().then((function(){return t}))}function Hl(t,e,n,r,i){if(!Nr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ae(t.i);var o=Wi(n.providerId),s=Fr(t.uid+":::"),a=null;(!Lr()||yr())&&t.s&&n.isOAuthProvider&&(a=yu(t.s,t.l,t.m,e,n,null,s,us.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=dr(a,o&&o.va,o&&o.ua);return r=r().then((function(){if(Wl(t),!i)return t.I().then((function(){}))})).then((function(){return Vc(t.b,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Bc(t.b,t,e,u,s)}))})).then((function(t){return u&&fr(u),t?Xr(t):null})).o((function(t){throw u&&fr(u),t})),$l(t,r,i)}function Gl(t,e,n,r,i){if(!Nr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ae(t.i);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(Wl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Nl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return jc(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Jl(t.ha);throw o})).then((function(){if(o)throw o})),$l(t,r,i)}function Wl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function $l(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ae(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new cl("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){G(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),kl(t),b(t.jc,t))),n||e}))}function Ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wl(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Ml(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nl],delete n[rl],pt(n,t),e.g(n)}))},I(il,T),sl.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Ro(t.a)}),ru(e,Oa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),ru(e,La,n)}))}(this,t,e)},I(al,sl),I(ul,al),I(cl,$e),(t=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Bl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return hl(e,r),Bl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,dl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},pl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?vl(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(wl,bn),wl.prototype.xa=function(t){this.za=t,ra(this.a,t)},wl.prototype.la=function(){return this.za},wl.prototype.Ga=function(){return Q(this.aa)},wl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},$r(wl.prototype,"providerId","firebase"),(t=wl.prototype).reload=function(){var t=this;return $l(this,Rl(this).then((function(){return jl(t).then((function(){return Nl(t)})).then(Ll)})))},t.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},t.I=function(t){var e=this;return $l(this,Rl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.Aa&&(xl(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Vl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ol(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new bl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Vl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return $l(this,t.c(this.a,this.uid).then((function(t){return Bl(e,t),n=Kl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return $l(this,ql(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Kl(e,t,"link"),zl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return $l(this,ql(this,"phone").then((function(){return Zc(kl(n),t,e,b(n.rb,n))})))},t.Mc=function(t,e){var n=this;return $l(this,ke().then((function(){return Zc(kl(n),t,e,b(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Bl(e,t),e.reload()})))},t.ed=function(t){var e=this;return $l(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Bl(e,t),e.reload()})))},t.Db=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Bl(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rl(this);var e=this;return $l(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Bl(e,t),Vl(e,"displayName",t.displayName||null),Vl(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))})),Nl(e)})).then(Ll))},t.cd=function(t){var e=this;return $l(this,jl(this).then((function(n){return H(Pl(e),t)?function(t,e,n){return ru(t,xa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Pl(e),(function(t){n[t]||Fl(e,t)})),n[Po.PROVIDER_ID]||$r(e,"phoneNumber",null),Nl(e)})):Nl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return $l(this,this.I().then((function(e){return ru(t.a,Ca,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");El(t,null),Tl(t,null),Sl(t,null),t.N=[],t.J=!0,Cl(t),$r(t,"refreshToken",null),t.b&&Pc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return Hl(this,"linkViaPopup",t,(function(){return ql(e,t.providerId).then((function(){return Nl(e)}))}),!1)},t.Nc=function(t){return Hl(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Fc=function(t){var e=this;return Gl(this,"linkViaRedirect",t,(function(){return ql(e,t.providerId)}),!1)},t.Oc=function(t){return Gl(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,this.I().then((function(n){return Ia(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Kl(i,t,"link"),zl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,ke().then((function(){return uo(Ea(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Kl(i,t,"reauthenticate"),Bl(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return $l(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Vi(new Ci(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return $l(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Vi(new Ci(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return $l(this,t=uo(ke(t),n.uid).then((function(t){return e=Kl(n,t,"reauthenticate"),Bl(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.S.w()),t};var Yl={name:"redirectUser",F:"session"};function Jl(t){return ic(t.b,Yl,t.a)}function Zl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=nh("local"),n=nh("session"),r=nh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(eh,t.a).then((function(t){return t?nh(t):e}))}))}))})).then((function(e){return t.c=e,th(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nh("local"),this.a,b(this.g,this))}function th(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,nh(Zu[n]),t.a));return r.push(ic(t.b,eh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ce(t[a],w(o,a),s);else e(i)}))}(r)}Zl.prototype.g=function(){var t=this,e=nh("local");sh(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return th(t,"local").then((function(){t.c=e}))}))}))};var eh={name:"persistence",F:"session"};function nh(t){return{name:"authUser",F:t}}function rh(t,e){return sh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ih(t){return sh(t,(function(){return ic(t.b,t.c,t.a)}))}function oh(t,e,n){return sh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ql(t||{})}))}))}function sh(t,e){return t.f=t.f.then(e,e),t.f}function ah(t){if(this.l=!1,$r(this,"settings",new Yc),$r(this,"app",t),!gh(this).options||!gh(this).options.apiKey)throw new T("invalid-api-key");t=us.SDK_VERSION?kr(us.SDK_VERSION):null,this.a=new Xs(gh(this).options&&gh(this).options.apiKey,x(S),t),this.P=[],this.s=[],this.N=[],this.Pa=us.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=us.INTERNAL.createSubscribe(b(this.Ac,this)),ph(this,null),this.i=new Zl(gh(this).options.apiKey+":"+gh(this).name),this.D=new Xl(gh(this).options.apiKey+":"+gh(this).name),this.$=wh(this,function(t){var e=gh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ql(t||{})}))}(t.D,gh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Jl(t.D)}));return wh(t,e)}(t).then((function(){return oh(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ih(t.i)}))):null})).then((function(e){ph(t,e||null)}));return wh(t,n)}(this)),this.h=wh(this,function(t){return t.$.then((function(){return fh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(nh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=gh(t).options.authDomain,n=gh(t).options.apiKey;e&&Nr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=zc(e,n,gh(t).name,t.R),Rc(t.b,t),vh(t)&&Dl(vh(t)),t.m){Dl(t.m);var r=t.m;r.xa(t.la()),El(r,t),_l(r=t.m,t.J),Sl(r,t),Il(r=t.m,t.R),Tl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Fn(this.R.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function uh(t){$e.call(this,"languageCodeChanged"),this.h=t}function ch(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function lh(t){$e.call(this,"frameworkChanged"),this.f=t}function hh(t){return t.Oa||Ae(new T("auth-domain-config-required"))}function fh(t){if(!Nr())return Ae(new T("operation-not-supported-in-this-environment"));var e=hh(t).then((function(){return t.b.ra()})).then((function(t){return t?Xr(t):null}));return wh(t,e)}function dh(t,e){var n={};return n.apiKey=gh(t).options.apiKey,n.authDomain=gh(t).options.authDomain,n.appName=gh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new wl(t,e);return n&&(i.ha=n),r&&_l(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vh(t)&&e.uid==vh(t).uid?(Ul(vh(t),e),t.da(e)):(ph(t,e),Dl(e),t.da(e))})).then((function(){bh(t)}))}function ph(t,e){vh(t)&&(function(t,e){W(t.W,(function(t){return t==e}))}(vh(t),t.Ba),ln(vh(t),"tokenChanged",t.qa),ln(vh(t),"userDeleted",t.za),ln(vh(t),"userInvalidated",t.Aa),Cl(vh(t))),e&&(e.W.push(t.Ba),an(e,"tokenChanged",t.qa),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&Al(e)),$r(t,"currentUser",e),e&&(e.xa(t.la()),El(e,t),_l(e,t.J),Sl(e,t),Il(e,t.R),Tl(e,t))}function mh(t,e){var n=null,r=null;return wh(t,e.then((function(e){return n=Fo(e),r=$i(e),dh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Xr({user:vh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gh(t){return t.app}function vh(t){return t.currentUser}function yh(t){return vh(t)&&vh(t)._lat||null}function bh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](yh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](yh(t))}}function wh(t,e){return t.P.push(e),e.oa((function(){G(t.P,e)})),e}function Ih(){}function Eh(){this.a={},this.b=1e12}Zl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),sh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,th(n,t)})).then((function(){if(n.c=nh(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},I(ah,bn),I(uh,$e),I(ch,$e),I(lh,$e),(t=ah.prototype).yb=function(t){return wh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new uh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&gr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ia(this.a,this.R),this.dispatchEvent(new ch(this.R))}},t.Gc=function(t){this.J.push(t),sa(this.a,us.SDK_VERSION?kr(us.SDK_VERSION,this.J):null),this.dispatchEvent(new lh(this.J))},t.Ga=function(){return Q(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:gh(this).options.apiKey,authDomain:gh(this).options.authDomain,appName:gh(this).name,currentUser:vh(this)&&vh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return mh(i,wa(i.a,o))}))},t.Xc=function(t){if(!Nr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Fr(),i=null;(!Lr()||yr())&&gh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(gh(this).options.authDomain,gh(this).options.apiKey,gh(this).name,"signInViaPopup",t,null,r,us.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return wh(this,n=hh(this).then((function(n){return Vc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Bc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?Xr(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!Nr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this;return wh(this,hh(this).then((function(){return function(t){return sh(t,(function(){return t.b.set(eh,t.c.F,t.a)}))}(e.i)})).then((function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return fh(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return Ae(new T("null-user"));if(this.S!=t.tenantId)return Ae(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=gh(this).options.apiKey,n.authDomain=gh(this).options.authDomain,n.appName=gh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_l(e,r),Ul(e,t),e}(t,n,e.D,e.Ga());return wh(this,this.h.then((function(){if(gh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vh(e)&&t.uid==vh(e).uid?(Ul(vh(e),t),e.da(t)):(ph(e,r),Dl(r),e.da(r))})).then((function(){bh(e)})))},t.Bb=function(){var t=this;return wh(this,this.h.then((function(){return t.b&&Wc(t.b.b),vh(t)?(ph(t,null),ih(t.i).then((function(){bh(t)}))):ke()})))},t.Zc=function(){var t=this;return oh(this.i,gh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vh(t)&&e){n=vh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ul(vh(t),e),vh(t).I();(vh(t)||e)&&(ph(t,e),e&&(Dl(e),e.ha=t.D),t.b&&Rc(t.b,t),bh(t))}}))},t.da=function(t){return rh(this.i,t)},t.mc=function(){bh(this),this.da(vh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return mh(e,ke(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),wh(t,t.h.then((function(){!t.l&&H(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(yh(t)))})))}(this,(function(){t.next(vh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return wh(this,this.h.then((function(){return vh(e)?vh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return mh(e,ru(e.a,Ya,{token:t}))})).then((function(t){var n=t.user;return Vl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return mh(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return mh(n,ru(n.a,ka,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return mh(e,t.ka(e.a))}))},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=vh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return mh(t,t.a.Ab()).then((function(e){var n=e.user;return Vl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return vh(this)&&vh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vh(this)&&Al(vh(this))},t.Pc=function(t){var e=this;B(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vh(this)&&Cl(vh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),wh(this,this.h.then((function(){e.l||H(e.s,t)&&t(yh(e))})))},t.removeAuthTokenListener=function(t){W(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(nh("local"),t.a,this.ja),this.b&&(Pc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return wh(this,function(t,e){return ru(t,Aa,{identifier:e,continueUri:Dr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Do(t)},t.xb=function(t,e){var n=this;return wh(this,ke().then((function(){var t=new Ci(e);if(!t.c)throw new T("argument-error",Di+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return wh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return wh(this,this.a.Sa(t).then((function(t){return new oi(t)})))},t.kb=function(t){return wh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return wh(this,ke().then((function(){return void 0===e||ht(e)?{}:Vi(new Ci(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return wh(this,Zc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return wh(this,ke().then((function(){var r=e||ur(),i=No(t,r);if(!(r=Do(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Th=null;function _h(t,e){return(e=Sh(e))&&t.a[e]||null}function Sh(t){return(t=void 0===t?1e12:t)?t.toString():null}function kh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function Ah(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ch(){}function xh(){}Eh.prototype.render=function(t,e){return this.a[this.b.toString()]=new kh(t,e),this.b++},Eh.prototype.reset=function(t){var e=_h(this,t);t=Sh(t),e&&t&&(e.delete(),delete this.a[t])},Eh.prototype.getResponse=function(t){return(t=_h(this,t))?t.getResponse():null},Eh.prototype.execute=function(t){(t=_h(this,t))&&t.execute()},kh.prototype.getResponse=function(){return Ah(this),this.b},kh.prototype.execute=function(){Ah(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},kh.prototype.delete=function(){Ah(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},$r(Ch,"FACTOR_ID","phone"),xh.prototype.g=function(){return Th||(Th=new Eh),ke(Th)},xh.prototype.c=function(){};var Nh=null;function Dh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Lh=new jr(3e4,6e4);Dh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Lh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},ke(Ks(_t(Oh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Dh.prototype.c=function(){this.b--};var Rh=null;function Ph(t,e,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Nh||(Nh=new xh),a=Nh):(Rh||(Rh=new Dh),a=Rh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Mh];this.a[Mh]=function(t){if(jh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Cr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Fh];this.a[Fh]=function(){if(jh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Cr(l,s);"function"==typeof t&&t()}}}var Mh="callback",Fh="expired-callback",Vh="sitekey",Uh="size";function jh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Bh(t,e){return t.h.push(e),e.oa((function(){G(t.h,e)})),e}function qh(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kh(t,e,n){var r=!1;try{this.b=n||us.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=us.SDK_VERSION?kr(us.SDK_VERSION,o):null,Ph.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,x(S),r)}function zh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Hh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Bh(this,ke().then((function(){if(Dr()&&!br())return gr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,ja,{})})).then((function(e){t.a[Vh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qh(this);var t=this;return Bh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qh(this);var t=this;return Bh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){qh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Kh,Ph);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Wh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function $h(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Qh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Xh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Jh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Zh(t){return p(t)&&"string"==typeof t.uid}function tf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function ef(t,e){for(var n in e){var r=e[n].name;t[r]=of(r,t[n],e[n].j)}}function nf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){zh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function rf(t,e,n,r){t[e]=of(e,n,r)}function of(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return zh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ef(ah.prototype,{kb:{name:"applyActionCode",j:[Gh("code")]},Sa:{name:"checkActionCode",j:[Gh("code")]},ob:{name:"confirmPasswordReset",j:[Gh("code"),Gh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gh("email"),Gh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Gh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Gh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[tf($h(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[tf($h(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Gh("email"),tf($h("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Gh("email"),$h("actionCodeSettings")]},yb:{name:"setPersistence",j:[Gh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Gh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Gh("email"),Gh("password")]},Vc:{name:"signInWithEmailLink",j:[Gh("email"),Gh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[tf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wl)}},Xh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Gh("url"),$h("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Gh("code")]}}),nf(ah.prototype,{lc:{name:"languageCode",lb:tf(Gh(),Xh(),"languageCode")},ti:{name:"tenantId",lb:tf(Gh(),Xh(),"tenantId")}}),ah.Persistence=Zu,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",ef(wl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Wh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Wh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},rb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},ub:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[tf($h("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},cd:{name:"unlink",j:[Gh("provider")]},Cb:{name:"updateEmail",j:[Gh("email")]},Db:{name:"updatePassword",j:[Gh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Eb:{name:"updateProfile",j:[$h("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Gh("email"),tf($h("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]}}),ef(Eh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Wh("appVerificationDisabledForTesting")}}),ef(Jc.prototype,{confirm:{name:"confirm",j:[Gh("verificationCode")]}}),rf(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,Co,Lo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[tf(Gh(),$h(),"json")]),rf(xo,"credential",(function(t,e){return new Ao(t,e)}),[Gh("email"),Gh("password")]),ef(Ao.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(bo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(bo,"credential",wo,[tf(Gh(),$h(),"token")]),rf(xo,"credentialWithLink",No,[Gh("email"),Gh("emailLink")]),ef(Io.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(Io,"credential",Eo,[tf(Gh(),$h(),"token")]),ef(To.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(To,"credential",_o,[tf(Gh(),tf($h(),Xh()),"idToken"),tf(Gh(),Xh(),"accessToken",!0)]),ef(So.prototype,{Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(So,"credential",ko,[tf(Gh(),$h(),"token"),Gh("secret",!0)]),ef(yo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},credential:{name:"credential",j:[tf(Gh(),tf($h(),Xh()),"optionsOrIdToken"),tf(Gh(),Xh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),ef(fo.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(co.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),rf(Po,"credential",Mo,[Gh("verificationId"),Gh("verificationCode")]),ef(Po.prototype,{gb:{name:"verifyPhoneNumber",j:[tf(Gh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Jh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Jh(t.session,so)&&Zh(t.multiFactorHint):t.session&&t.multiFactorUid?Jh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ef(Oo.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(T.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(Ho.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(zo.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(il.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),ef(ll.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Gh("displayName",!0)]},bd:{name:"unenroll",j:[tf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zh},Gh(),"multiFactorInfoIdentifier")]}}),ef(Kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(bi,"parseLink",Ai,[Gh("link")]),rf(Ch,"assertion",(function(t){return new ul(t)}),[Yh("phone")]),function(){if(void 0===us||!us.INTERNAL||!us.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:ao,Error:T};rf(t,"EmailAuthProvider",xo,[]),rf(t,"FacebookAuthProvider",bo,[]),rf(t,"GithubAuthProvider",Io,[]),rf(t,"GoogleAuthProvider",To,[]),rf(t,"TwitterAuthProvider",So,[]),rf(t,"OAuthProvider",yo,[Gh("providerId")]),rf(t,"SAMLAuthProvider",vo,[Gh("providerId")]),rf(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ah)}}]),rf(t,"RecaptchaVerifier",Kh,[tf(Gh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),$h("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof us.app.App)}}]),rf(t,"ActionCodeURL",bi,[]),rf(t,"PhoneMultiFactorGenerator",Ch,[]),us.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ah(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),us.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),us.registerVersion("@firebase/auth","0.16.8"),us.INTERNAL.extendNamespace({User:wl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var cs=function(t,e){return(cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ls(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}cs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function hs(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(kw){o(kw)}}function a(t){try{u(r.throw(t))}catch(kw){o(kw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function fs(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(kw){o=[6,kw],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function ds(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ps=function(t,e){return(ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ms(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var gs,vs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ys=ys||{},bs=vs||self;function ws(){}function Is(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Es(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ts="closure_uid_"+(1e9*Math.random()>>>0),_s=0;function Ss(t,e,n){return t.call.apply(t.bind,arguments)}function ks(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function As(t,e,n){return(As=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ss:ks).apply(null,arguments)}function Cs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function xs(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ns(){this.s=this.s,this.o=this.o}var Ds={};Ns.prototype.s=!1,Ns.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Ts)&&t[Ts]||(t[Ts]=++_s)}(this);delete Ds[t]}},Ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Os=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ls=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Rs(t){return Array.prototype.concat.apply([],arguments)}function Ps(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ms(t){return/^[\s\xa0]*$/.test(t)}var Fs,Vs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Us(t,e){return-1!=t.indexOf(e)}function js(t,e){return t<e?-1:t>e?1:0}t:{var Bs=bs.navigator;if(Bs){var qs=Bs.userAgent;if(qs){Fs=qs;break t}}Fs=""}function Ks(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function zs(t){var e={};for(var n in t)e[n]=t[n];return e}var Hs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Hs.length;o++)n=Hs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ws(t){return Ws[" "](t),t}Ws[" "]=ws;var $s,Qs,Xs=Us(Fs,"Opera"),Ys=Us(Fs,"Trident")||Us(Fs,"MSIE"),Js=Us(Fs,"Edge"),Zs=Js||Ys,ta=Us(Fs,"Gecko")&&!(Us(Fs.toLowerCase(),"webkit")&&!Us(Fs,"Edge"))&&!(Us(Fs,"Trident")||Us(Fs,"MSIE"))&&!Us(Fs,"Edge"),ea=Us(Fs.toLowerCase(),"webkit")&&!Us(Fs,"Edge");function na(){var t=bs.document;return t?t.documentMode:void 0}t:{var ra="",ia=(Qs=Fs,ta?/rv:([^\);]+)(\)|;)/.exec(Qs):Js?/Edge\/([\d\.]+)/.exec(Qs):Ys?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qs):ea?/WebKit\/(\S+)/.exec(Qs):Xs?/(?:Version)[ \/]?(\S+)/.exec(Qs):void 0);if(ia&&(ra=ia?ia[1]:""),Ys){var oa=na();if(null!=oa&&oa>parseFloat(ra)){$s=String(oa);break t}}$s=ra}var sa,aa={};function ua(){return function(t){var e=aa;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=Vs(String($s)).split("."),n=Vs("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=js(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||js(0==o[2].length,0==s[2].length)||js(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(bs.document&&Ys){var ca=na();sa=ca||(parseInt($s,10)||void 0)}else sa=void 0;var la=sa,ha=function(){if(!bs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{bs.addEventListener("test",ws,e),bs.removeEventListener("test",ws,e)}catch(n){}return t}();function fa(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function da(t,e){if(fa.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ta){t:{try{Ws(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:pa[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&da.Z.h.call(this)}}fa.prototype.h=function(){this.defaultPrevented=!0},xs(da,fa);var pa={2:"touch",3:"pen",4:"mouse"};da.prototype.h=function(){da.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ma="closure_listenable_"+(1e6*Math.random()|0),ga=0;function va(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ga,this.ca=this.fa=!1}function ya(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ba(t){this.src=t,this.g={},this.h=0}function wa(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Os(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ya(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ia(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ba.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Ia(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new va(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Ea="closure_lm_"+(1e6*Math.random()|0),Ta={};function _a(t,e,n,r,i){if(r&&r.once)return ka(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_a(t,e[o],n,r,i);return null}return n=La(n),t&&t[ma]?t.N(e,n,Es(r)?!!r.capture:!!r,i):Sa(t,e,n,!1,r,i)}function Sa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Es(i)?!!i.capture:!!i,a=Da(t);if(a||(t[Ea]=a=new ba(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=Na;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ha||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ka(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ka(t,e[o],n,r,i);return null}return n=La(n),t&&t[ma]?t.O(e,n,Es(r)?!!r.capture:!!r,i):Sa(t,e,n,!0,r,i)}function Aa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Aa(t,e[o],n,r,i);else r=Es(r)?!!r.capture:!!r,n=La(n),t&&t[ma]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=Ia(o=t.g[e],n,r,i))&&(ya(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Da(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ia(e,n,r,i)),(n=-1<t?e[t]:null)&&Ca(n))}function Ca(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ma])wa(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Da(e))?(wa(n,t),0==n.h&&(n.src=null,e[Ea]=null)):ya(t)}}}function xa(t){return t in Ta?Ta[t]:Ta[t]="on"+t}function Na(t,e){if(t.ca)t=!0;else{e=new da(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Ca(t),t=n.call(r,e)}return t}function Da(t){return(t=t[Ea])instanceof ba?t:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(t){return"function"==typeof t?t:(t[Oa]||(t[Oa]=function(e){return t.handleEvent(e)}),t[Oa])}function Ra(){Ns.call(this),this.i=new ba(this),this.P=this,this.I=null}function Pa(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new fa(e,t);else if(e instanceof fa)e.target=e.target||t;else{var i=e;Gs(e=new fa(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ma(s,r,!0,e)&&i}if(i=Ma(s=e.g=t,r,!0,e)&&i,i=Ma(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ma(s=e.g=n[o],r,!1,e)&&i}function Ma(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&wa(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xs(Ra,Ns),Ra.prototype[ma]=!0,Ra.prototype.removeEventListener=function(t,e,n,r){Aa(this,t,e,n,r)},Ra.prototype.M=function(){if(Ra.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ya(n[r]);delete e.g[t],e.h--}}this.I=null},Ra.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ra.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Fa=bs.JSON.stringify;function Va(){var t=Ga,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ua,ja=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Ba.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Ba=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new qa}),(function(t){return t.reset()})),qa=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ka(t){bs.setTimeout((function(){throw t}),0)}function za(t,e){Ua||function(){var t=bs.Promise.resolve(void 0);Ua=function(){t.then(Wa)}}(),Ha||(Ua(),Ha=!0),Ga.add(t,e)}var Ha=!1,Ga=new ja;function Wa(){for(var t;t=Va();){try{t.h.call(t.g)}catch(n){Ka(n)}var e=Ba;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ha=!1}function $a(t,e){Ra.call(this),this.h=t||1,this.g=e||bs,this.j=As(this.kb,this),this.l=Date.now()}function Qa(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Xa(t,e,n){if("function"==typeof t)n&&(t=As(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=As(t.handleEvent,t)}return 2147483647<Number(e)?-1:bs.setTimeout(t,e||0)}function Ya(t){t.g=Xa((function(){t.g=null,t.i&&(t.i=!1,Ya(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}xs($a,Ra),(gs=$a.prototype).da=!1,gs.S=null,gs.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pa(this,"tick"),this.da&&(Qa(this),this.start()))}},gs.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gs.M=function(){$a.Z.M.call(this),Qa(this),delete this.g};var Ja=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ps(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Ya(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(bs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ns);function Za(t){Ns.call(this),this.h=t,this.g={}}xs(Za,Ns);var tu=[];function eu(t,e,n,r){Array.isArray(n)||(n&&(tu[0]=n.toString()),n=tu);for(var i=0;i<n.length;i++){var o=_a(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function nu(t){Ks(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Ca(t)}),t),t.g={}}function ru(){this.g=!0}function iu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Fa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Za.prototype.M=function(){Za.Z.M.call(this),nu(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ru.prototype.Aa=function(){this.g=!1},ru.prototype.info=function(){};var ou={},su=null;function au(){return su=su||new Ra}function uu(t){fa.call(this,ou.Ma,t)}function cu(t){var e=au();Pa(e,new uu(e,t))}function lu(t,e){fa.call(this,ou.STAT_EVENT,t),this.stat=e}function hu(t){var e=au();Pa(e,new lu(e,t))}function fu(t,e){fa.call(this,ou.Na,t),this.size=e}function du(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return bs.setTimeout((function(){t()}),e)}ou.Ma="serverreachability",xs(uu,fa),ou.STAT_EVENT="statevent",xs(lu,fa),ou.Na="timingevent",xs(fu,fa);var pu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gu(){}function vu(t){return t.h||(t.h=t.i())}function yu(){}gu.prototype.h=null;var bu,wu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Iu(){fa.call(this,"d")}function Eu(){fa.call(this,"c")}function Tu(){}function _u(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Za(this),this.P=ku,t=Zs?125:void 0,this.W=new $a(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Su}function Su(){this.i=null,this.g="",this.h=!1}xs(Iu,fa),xs(Eu,fa),xs(Tu,gu),Tu.prototype.g=function(){return new XMLHttpRequest},Tu.prototype.i=function(){return{}},bu=new Tu;var ku=45e3,Au={},Cu={};function xu(t,e,n){t.K=1,t.v=Ju(Gu(e)),t.s=n,t.U=!0,Nu(t,null)}function Nu(t,e){t.F=Date.now(),Ru(t),t.A=Gu(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),hc(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Su,t.g=fl(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ja(As(t.Ia,t,t.g),t.O)),eu(t.V,t.g,"readystatechange",t.gb),e=t.H?zs(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),cu(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Du(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Ou(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Lu(t,n))==Cu){4==e&&(t.o=4,hu(14),i=!1),iu(t.j,t.m,null,"[Incomplete Response]");break}if(r==Au){t.o=4,hu(15),iu(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}iu(t.j,t.m,r,null),Uu(t,r)}Du(t)&&r!=Cu&&r!=Au&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,hu(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),il(e),e.L=!0,hu(11))):(iu(t.j,t.m,n,"[Invalid Chunked Response]"),Vu(t),Fu(t))}function Lu(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Cu:(n=Number(e.substring(n,r)),isNaN(n)?Au:(r+=1)+n>e.length?Cu:(e=e.substr(r,n),t.C=r+n,e))}function Ru(t){t.Y=Date.now()+t.P,Pu(t,t.P)}function Pu(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=du(As(t.eb,t),e)}function Mu(t){t.B&&(bs.clearTimeout(t.B),t.B=null)}function Fu(t){0==t.l.G||t.I||al(t.l,t)}function Vu(t){Mu(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Qa(t.W),nu(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Uu(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||yc(n.i,t)))if(n.I=t.N,!t.J&&yc(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;sl(n),Qc(n)}rl(n),hu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=du(As(n.ab,n),6e3));if(1>=vc(n.i)&&n.ka){try{n.ka()}catch(g){}n.ka=void 0}}else cl(n,11)}else if((t.J||n.g==t)&&sl(n),!Ms(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Us(l,"spdy")||Us(l,"quic")||Us(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(bc(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Yu(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=hl(r,r.H?r.la:null,r.W),d.J){wc(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Mu(p),Ru(p)),r.g=d}else nl(r);0<n.l.length&&Jc(n)}else"stop"!=o[0]&&"close"!=o[0]||cl(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?cl(n,7):$c(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}cu(4)}catch(g){}}function ju(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Is(t)||"string"==typeof t)Ls(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Is(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Is(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Bu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bu)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qu(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ku(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ku(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ku(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(gs=_u.prototype).setTimeout=function(t){this.P=t},gs.gb=function(t){t=t.target;var e=this.L;e&&3==Kc(t)?e.l():this.Ia(t)},gs.Ia=function(t){try{if(t==this.g)t:{var e=Kc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Zs||this.g&&(this.h.h||this.g.ga()||zc(this.g)))){this.I||4!=e||7==n||cu(8==n||0>=r?3:2),Mu(this);var i=this.g.ba();this.N=i;e:if(Du(this)){var o=zc(this.g);t="";var s=o.length,a=4==Kc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vu(this),Fu(this);var u="";break e}this.h.i=new bs.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ms(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,hu(12),Vu(this),Fu(this);break t}iu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uu(this,i)}this.U?(Ou(this,e,u),Zs&&this.i&&3==e&&(eu(this.V,this.W,"tick",this.fb),this.W.start())):(iu(this.j,this.m,u,null),Uu(this,u)),4==e&&Vu(this),this.i&&!this.I&&(4==e?al(this.l,this):(this.i=!1,Ru(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,hu(12)):(this.o=0,hu(13)),Vu(this),Fu(this)}}}catch(f){}},gs.fb=function(){if(this.g){var t=Kc(this.g),e=this.g.ga();this.C<e.length&&(Mu(this),Ou(this,t,e),this.i&&4!=t&&Ru(this))}},gs.cancel=function(){this.I=!0,Vu(this)},gs.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(cu(3),hu(17)),Vu(this),this.o=2,Fu(this)):Pu(this,this.Y-t)},(gs=Bu.prototype).R=function(){qu(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},gs.T=function(){return qu(this),this.g.concat()},gs.get=function(t,e){return Ku(this.h,t)?this.h[t]:e},gs.set=function(t,e){Ku(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},gs.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hu(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Hu){this.g=void 0!==e?e:t.g,Wu(this,t.j),this.s=t.s,$u(this,t.i),Qu(this,t.m),this.l=t.l,e=t.h;var n=new ac;n.i=e.i,e.g&&(n.g=new Bu(e.g),n.h=e.h),Xu(this,n),this.o=t.o}else t&&(n=String(t).match(zu))?(this.g=!!e,Wu(this,n[1]||"",!0),this.s=Zu(n[2]||""),$u(this,n[3]||"",!0),Qu(this,n[4]),this.l=Zu(n[5]||"",!0),Xu(this,n[6]||"",!0),this.o=Zu(n[7]||"")):(this.g=!!e,this.h=new ac(null,this.g))}function Gu(t){return new Hu(t)}function Wu(t,e,n){t.j=n?Zu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $u(t,e,n){t.i=n?Zu(e,!0):e}function Qu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xu(t,e,n){e instanceof ac?(t.h=e,function(t,e){e&&!t.j&&(uc(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(cc(this,e),hc(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=tc(e,oc)),t.h=new ac(e,t.g))}function Yu(t,e,n){t.h.set(e,n)}function Ju(t){return Yu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ec),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ec(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(tc(e,nc,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(tc(e,nc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(tc(n,"/"==n.charAt(0)?ic:rc,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",tc(n,sc)),t.join("")};var nc=/[#\/\?@]/g,rc=/[#\?:]/g,ic=/[#\?]/g,oc=/[#\?@]/g,sc=/#/g;function ac(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function uc(t){t.g||(t.g=new Bu,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function cc(t,e){uc(t),e=fc(t,e),Ku(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ku((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&qu(t)))}function lc(t,e){return uc(t),e=fc(t,e),Ku(t.g.h,e)}function hc(t,e,n){cc(t,e),0<n.length&&(t.i=null,t.g.set(fc(t,e),Ps(n)),t.h+=n.length)}function fc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(gs=ac.prototype).add=function(t,e){uc(this),this.i=null,t=fc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},gs.forEach=function(t,e){uc(this),this.g.forEach((function(n,r){Ls(n,(function(n){t.call(e,n,r,this)}),this)}),this)},gs.T=function(){uc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},gs.R=function(t){uc(this);var e=[];if("string"==typeof t)lc(this,t)&&(e=Rs(e,this.g.get(fc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Rs(e,t[n])}return e},gs.set=function(t,e){return uc(this),this.i=null,lc(this,t=fc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},gs.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},gs.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var dc=function(t,e){this.h=t,this.g=e};function pc(t){this.l=t||mc,bs.PerformanceNavigationTiming?t=0<(t=bs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(bs.g&&bs.g.Ea&&bs.g.Ea()&&bs.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mc=10;function gc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function vc(t){return t.h?1:t.g?t.g.size:0}function yc(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function bc(t,e){t.g?t.g.add(e):t.h=e}function wc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ic(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=ms(t.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ps(t.i)}function Ec(){}function Tc(){this.g=new Ec}function _c(t,e,n){var r=n||"";try{ju(t,(function(t,n){var i=t;Es(t)&&(i=Fa(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(kw){throw e.push(r+"type="+encodeURIComponent("_badmap")),kw}}function Sc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function kc(t){this.l=t.$b||null,this.j=t.ib||!1}function Ac(t,e){Ra.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Cc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pc.prototype.cancel=function(){var t,e;if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ms(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Ec.prototype.stringify=function(t){return bs.JSON.stringify(t,void 0)},Ec.prototype.parse=function(t){return bs.JSON.parse(t,void 0)},xs(kc,gu),kc.prototype.g=function(){return new Ac(this.l,this.j)},kc.prototype.i=function(t){return function(){return t}}({}),xs(Ac,Ra);var Cc=0;function xc(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Nc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dc(t)}function Dc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(gs=Ac.prototype).open=function(t,e){if(this.readyState!=Cc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dc(this)},gs.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||bs).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},gs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nc(this)),this.readyState=Cc},gs.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bs.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xc(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},gs.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nc(this):Dc(this),3==this.readyState&&xc(this)}},gs.Ua=function(t){this.g&&(this.response=this.responseText=t,Nc(this))},gs.Ta=function(t){this.g&&(this.response=t,Nc(this))},gs.ha=function(){this.g&&Nc(this)},gs.setRequestHeader=function(t,e){this.v.append(t,e)},gs.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},gs.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ac.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Oc=bs.JSON.parse;function Lc(t){Ra.call(this),this.headers=new Bu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rc,this.K=this.L=!1}xs(Lc,Ra);var Rc="",Pc=/^https?$/i,Mc=["POST","PUT"];function Fc(t){return"content-type"==t.toLowerCase()}function Vc(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Uc(t),Bc(t)}function Uc(t){t.D||(t.D=!0,Pa(t,"complete"),Pa(t,"error"))}function jc(t){if(t.h&&void 0!==ys&&(!t.C[1]||4!=Kc(t)||2!=t.ba()))if(t.v&&4==Kc(t))Xa(t.Fa,0,t);else if(Pa(t,"readystatechange"),4==Kc(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(zu)[1]||null;if(!o&&bs.self&&bs.self.location){var s=bs.self.location.protocol;o=s.substr(0,s.length-1)}i=!Pc.test(o?o.toLowerCase():"")}e=i}if(e)Pa(t,"complete"),Pa(t,"success");else{t.m=6;try{var a=2<Kc(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Uc(t)}}finally{Bc(t)}}}function Bc(t,e){if(t.g){qc(t);var n=t.g,r=t.C[0]?ws:null;t.g=null,t.C=null,e||Pa(t,"ready");try{n.onreadystatechange=r}catch(kw){}}}function qc(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(bs.clearTimeout(t.A),t.A=null)}function Kc(t){return t.g?t.g.readyState:0}function zc(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Rc:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Hc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ks(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Yu(t,e,n))}function Gc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wc(t){this.za=0,this.l=[],this.h=new ru,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gc("baseRetryDelayMs",5e3,t),this.$a=Gc("retryDelaySeedMs",1e4,t),this.Ya=Gc("forwardChannelMaxRetries",2,t),this.ra=Gc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new pc(t&&t.concurrentRequestLimit),this.Ca=new Tc,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function $c(t){if(Xc(t),3==t.G){var e=t.V++,n=Gu(t.F);Yu(n,"SID",t.J),Yu(n,"RID",e),Yu(n,"TYPE","terminate"),tl(t,n),(e=new _u(t,t.h,e,void 0)).K=2,e.v=Ju(Gu(n)),n=!1,bs.navigator&&bs.navigator.sendBeacon&&(n=bs.navigator.sendBeacon(e.v.toString(),"")),!n&&bs.Image&&((new Image).src=e.v,n=!0),n||(e.g=fl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ru(e)}ll(t)}function Qc(t){t.g&&(il(t),t.g.cancel(),t.g=null)}function Xc(t){Qc(t),t.u&&(bs.clearTimeout(t.u),t.u=null),sl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&bs.clearTimeout(t.m),t.m=null)}function Yc(t,e){t.l.push(new dc(t.Za++,e)),3==t.G&&Jc(t)}function Jc(t){gc(t.i)||t.m||(t.m=!0,za(t.Ha,t),t.C=0)}function Zc(t,e){var n;n=e?e.m:t.V++;var r=Gu(t.F);Yu(r,"SID",t.J),Yu(r,"RID",n),Yu(r,"AID",t.U),tl(t,r),t.o&&t.s&&Hc(r,t.o,t.s),n=new _u(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=el(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),bc(t.i,n),xu(n,r,e)}function tl(t,e){t.j&&ju({},(function(t,n){Yu(e,n,t)}))}function el(t,e,n){n=Math.min(t.l.length,n);var r=t.j?As(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{_c(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function nl(t){t.g||t.u||(t.Y=1,za(t.Ga,t),t.A=0)}function rl(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=du(As(t.Ga,t),ul(t,t.A)),t.A++,!0)}function il(t){null!=t.B&&(bs.clearTimeout(t.B),t.B=null)}function ol(t){t.g=new _u(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Gu(t.oa);Yu(e,"RID","rpc"),Yu(e,"SID",t.J),Yu(e,"CI",t.N?"0":"1"),Yu(e,"AID",t.U),tl(t,e),Yu(e,"TYPE","xmlhttp"),t.o&&t.s&&Hc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ju(Gu(e)),n.s=null,n.U=!0,Nu(n,t)}function sl(t){null!=t.v&&(bs.clearTimeout(t.v),t.v=null)}function al(t,e){var n=null;if(t.g==e){sl(t),il(t),t.g=null;var r=2}else{if(!yc(t.i,e))return;n=e.D,wc(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Pa(r=au(),new fu(r,n,e,i)),Jc(t)}else nl(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(vc(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=du(As(t.Ha,t,e),ul(t,t.C)),t.C++,0)))}(t,e)||2==r&&rl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:cl(t,5);break;case 4:cl(t,10);break;case 3:cl(t,6);break;default:cl(t,2)}}function ul(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function cl(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=As(t.jb,t);n||(n=new Hu("//www.google.com/images/cleardot.gif"),bs.location&&"http"==bs.location.protocol||Wu(n,"https"),Ju(n)),function(t,e){var n=new ru;if(bs.Image){var r=new Image;r.onload=Cs(Sc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Cs(Sc,n,r,"TestLoadImage: error",!1,e),r.onabort=Cs(Sc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cs(Sc,n,r,"TestLoadImage: timeout",!1,e),bs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else hu(2);t.G=0,t.j&&t.j.va(e),ll(t),Xc(t)}function ll(t){t.G=0,t.I=-1,t.j&&(0==Ic(t.i).length&&0==t.l.length||(t.i.i.length=0,Ps(t.l),t.l.length=0),t.j.ua())}function hl(t,e,n){var r=function(t){return t instanceof Hu?Gu(t):new Hu(t,void 0)}(n);if(""!=r.i)e&&$u(r,e+"."+r.i),Qu(r,r.m);else{var i=bs.location;r=function(t,e,n,r){var i=new Hu(null,void 0);return t&&Wu(i,t),e&&$u(i,e),n&&Qu(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Ks(t.aa,(function(t,e){Yu(r,e,t)})),e=t.D,n=t.sa,e&&n&&Yu(r,e,n),Yu(r,"VER",t.ma),tl(t,r),r}function fl(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Lc(new kc({ib:!0})):new Lc(t.qa)).L=t.H,e}function dl(){}function pl(){if(Ys&&!(10<=Number(la)))throw Error("Environmental error: no available transport.")}function ml(t,e){Ra.call(this),this.g=new Wc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ms(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ms(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new yl(this)}function gl(t){Iu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vl(){Eu.call(this),this.status=1}function yl(t){this.g=t}(gs=Lc.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bu.g(),this.C=this.u?vu(this.u):vu(bu),this.g.onreadystatechange=As(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Vc(this,o)}t=n||"";var i=new Bu(this.headers);r&&ju(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Fc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=bs.FormData&&t instanceof bs.FormData,!(0<=Os(Mc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qc(this),0<this.B&&((this.K=function(t){return Ys&&ua()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=As(this.pa,this)):this.A=Xa(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Vc(this,o)}},gs.pa=function(){void 0!==ys&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pa(this,"timeout"),this.abort(8))},gs.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pa(this,"complete"),Pa(this,"abort"),Bc(this))},gs.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bc(this,!0)),Lc.Z.M.call(this)},gs.Fa=function(){this.s||(this.F||this.v||this.l?jc(this):this.cb())},gs.cb=function(){jc(this)},gs.ba=function(){try{return 2<Kc(this)?this.g.status:-1}catch(Qs){return-1}},gs.ga=function(){try{return this.g?this.g.responseText:""}catch(Qs){return""}},gs.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Oc(e)}},gs.Da=function(){return this.m},gs.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(gs=Wc.prototype).ma=8,gs.G=1,gs.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},gs.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new _u(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Gs(n=zs(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=el(this,e,r),Yu(i=Gu(this.F),"RID",t),Yu(i,"CVER",22),this.D&&Yu(i,"X-HTTP-Session-Id",this.D),tl(this,i),this.o&&n&&Hc(i,this.o,n),bc(this.i,e),this.Ra&&Yu(i,"TYPE","init"),this.ja?(Yu(i,"$req",r),Yu(i,"SID","null"),e.$=!0,xu(e,i,null)):xu(e,i,r),this.G=2}}else 3==this.G&&(t?Zc(this,t):0==this.l.length||gc(this.i)||Zc(this))},gs.Ga=function(){if(this.u=null,ol(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=du(As(this.bb,this),t)}},gs.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hu(10),Qc(this),ol(this))},gs.ab=function(){null!=this.v&&(this.v=null,Qc(this),rl(this),hu(19))},gs.jb=function(t){t?(this.h.info("Successfully pinged google.com"),hu(2)):(this.h.info("Failed to ping google.com"),hu(1))},(gs=dl.prototype).xa=function(){},gs.wa=function(){},gs.va=function(){},gs.ua=function(){},gs.Oa=function(){},pl.prototype.g=function(t,e){return new ml(t,e)},xs(ml,Ra),ml.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),za(As(t.hb,t,e))),hu(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=hl(t,null,t.W),Jc(t)},ml.prototype.close=function(){$c(this.g)},ml.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Yc(this.g,e)}else this.v?((e={}).__data__=Fa(t),Yc(this.g,e)):Yc(this.g,t)},ml.prototype.M=function(){this.g.j=null,delete this.j,$c(this.g),delete this.g,ml.Z.M.call(this)},xs(gl,Iu),xs(vl,Eu),xs(yl,dl),yl.prototype.xa=function(){Pa(this.g,"a")},yl.prototype.wa=function(t){Pa(this.g,new gl(t))},yl.prototype.va=function(t){Pa(this.g,new vl(t))},yl.prototype.ua=function(){Pa(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,ml.prototype.send=ml.prototype.u,ml.prototype.open=ml.prototype.m,ml.prototype.close=ml.prototype.close,pu.NO_ERROR=0,pu.TIMEOUT=8,pu.HTTP_ERROR=6,mu.COMPLETE="complete",yu.EventType=wu,wu.OPEN="a",wu.CLOSE="b",wu.ERROR="c",wu.MESSAGE="d",Ra.prototype.listen=Ra.prototype.N,Lc.prototype.listenOnce=Lc.prototype.O,Lc.prototype.getLastError=Lc.prototype.La,Lc.prototype.getLastErrorCode=Lc.prototype.Da,Lc.prototype.getStatus=Lc.prototype.ba,Lc.prototype.getResponseJson=Lc.prototype.Qa,Lc.prototype.getResponseText=Lc.prototype.ga,Lc.prototype.send=Lc.prototype.ea;var bl=pu,wl=mu,Il=ou,El=10,Tl=11,_l=kc,Sl=yu,kl=Lc,Al=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Al.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Cl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return ls(e,t),e}(Error),Nl=new Wo("@firebase/firestore");function Dl(){return Nl.logLevel}function Ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nl.logLevel<=Uo.DEBUG){var r=e.map(Pl);Nl.debug.apply(Nl,ds(["Firestore (8.8.0): "+t],r))}}function Ll(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nl.logLevel<=Uo.ERROR){var r=e.map(Pl);Nl.error.apply(Nl,ds(["Firestore (8.8.0): "+t],r))}}function Rl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nl.logLevel<=Uo.WARN){var r=e.map(Pl);Nl.warn.apply(Nl,ds(["Firestore (8.8.0): "+t],r))}}function Pl(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw Ll(e),new Error(e)}function Fl(t,e){t||Ml()}function Vl(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ul(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Bl(t,e){return t<e?-1:t>e?1:0}function ql(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Kl(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xl(Cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xl(Cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xl(Cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xl(Cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Bl(this.nanoseconds,t.nanoseconds):Bl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Hl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new zl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $l(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ml(),void 0===n?n=t.length-e:n>t.length-e&&Ml(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new xl(Cl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ql),Yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Yl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xl(Cl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new xl(Cl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xl(Cl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new xl(Cl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ql),Zl=function(){function t(t){this.fields=t,t.sort(Jl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ql(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),th=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Bl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();th.EMPTY_BYTE_STRING=new th("");var eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(t){if(Fl(!!t),"string"==typeof t){var e=0,n=eh.exec(t);if(Fl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rh(t.seconds),nanos:rh(t.nanos)}}function rh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ih(t){return"string"==typeof t?th.fromBase64String(t):th.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sh(t){var e=t.mapValue.fields.__previous_value__;return oh(e)?sh(e):e}function ah(t){var e=nh(t.mapValue.fields.__local_write_time__.timestampValue);return new zl(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t){return null==t}function ch(t){return 0===t&&1/t==-1/0}function lh(t){return"number"==typeof t&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Xl.fromString(e))},t.fromName=function(e){return new t(Xl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Xl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Xl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Xl(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oh(t)?4:10:Ml()}function dh(t,e){var n,r=fh(t);if(r!==fh(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nh(t.timestampValue),r=nh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,ih(t.bytesValue).isEqual(ih(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rh(t.geoPointValue.latitude)===rh(e.geoPointValue.latitude)&&rh(t.geoPointValue.longitude)===rh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rh(t.integerValue)===rh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rh(t.doubleValue),r=rh(e.doubleValue);return n===r?ch(n)===ch(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],dh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Gl(n)!==Gl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dh(n[i],r[i])))return!1;return!0}(t,e);default:return Ml()}}function ph(t,e){return void 0!==(t.values||[]).find((function(t){return dh(t,e)}))}function mh(t,e){var n,r,i,o,s=fh(t),a=fh(e);if(s!==a)return Bl(s,a);switch(s){case 0:return 0;case 1:return Bl(t.booleanValue,e.booleanValue);case 2:return r=e,i=rh((n=t).integerValue||n.doubleValue),o=rh(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return gh(t.timestampValue,e.timestampValue);case 4:return gh(ah(t),ah(e));case 5:return Bl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ih(t),r=ih(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Bl(n[i],r[i]);if(0!==o)return o}return Bl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Bl(rh(t.latitude),rh(e.latitude));return 0!==n?n:Bl(rh(t.longitude),rh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=mh(n[i],r[i]);if(o)return o}return Bl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Bl(r[s],o[s]);if(0!==a)return a;var u=mh(n[r[s]],i[o[s]]);if(0!==u)return u}return Bl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ml()}}function gh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Bl(t,e);var n=nh(t),r=nh(e),i=Bl(n.seconds,r.seconds);return 0!==i?i:Bl(n.nanos,r.nanos)}function vh(t){return yh(t)}function yh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=nh(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?ih(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,hh.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=yh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+yh(t.fields[o])}return e+"}"}(t.mapValue):Ml();var e,n,r,i}function bh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function wh(t){return!!t&&"integerValue"in t}function Ih(t){return!!t&&"arrayValue"in t}function Eh(t){return!!t&&"nullValue"in t}function Th(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _h(t){return!!t&&"mapValue"in t}function Sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Wl(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Sh(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sh(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!_h(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sh(e)},t.prototype.setAll=function(t){var e=this,n=Jl.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Sh(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());_h(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return dh(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];_h(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Wl(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Sh(this.value))},t}();function Ah(t){var e=[];return Wl(t.fields,(function(t,n){var r=new Jl([t]);if(_h(n)){var i=Ah(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Zl(e)}var Ch=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Hl.min(),kh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,kh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,kh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=kh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=kh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),xh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new xh(t,e,n,r,i,o,s)}function Dh(t){var e=Vl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+vh(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=zh(e.startAt)),e.endAt&&(n+="|ub:",n+=zh(e.endAt)),e.h=n}return e.h}function Oh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Gh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!dh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$h(t.startAt,e.startAt)&&$h(t.endAt,e.endAt)}function Lh(t){return hh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Rh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return ls(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ph(t,n,r):"array-contains"===n?new Uh(t,r):"in"===n?new jh(t,r):"not-in"===n?new Bh(t,r):"array-contains-any"===n?new qh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Mh(t,n):new Fh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(mh(e,this.value)):null!==e&&fh(this.value)===fh(e)&&this.m(mh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ml()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ph=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=hh.fromName(r.referenceValue),i}return ls(e,t),e.prototype.matches=function(t){var e=hh.comparator(t.key,this.key);return this.m(e)},e}(Rh),Mh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Vh("in",n),r}return ls(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Rh),Fh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Vh("not-in",n),r}return ls(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Rh);function Vh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return hh.fromName(t.referenceValue)}))}var Uh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return ls(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ih(e)&&ph(e.arrayValue,this.value)},e}(Rh),jh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return ls(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ph(this.value.arrayValue,e)},e}(Rh),Bh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return ls(e,t),e.prototype.matches=function(t){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ph(this.value.arrayValue,e)},e}(Rh),qh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return ls(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ih(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ph(e.value.arrayValue,t)}))},e}(Rh),Kh=function(t,e){this.position=t,this.before=e};function zh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return vh(t)})).join(",")}var Hh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Gh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Wh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?hh.comparator(hh.fromName(s.referenceValue),n.key):mh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function $h(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!dh(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Xh(t,e,n,r,i,o,s,a){return new Qh(t,e,n,r,i,o,s,a)}function Yh(t){return new Qh(t)}function Jh(t){return!uh(t.limit)&&"F"===t.limitType}function Zh(t){return!uh(t.limit)&&"L"===t.limitType}function tf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ef(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function nf(t){return null!==t.collectionGroup}function rf(t){var e=Vl(t);if(null===e.p){e.p=[];var n=ef(e),r=tf(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Hh(n)),e.p.push(new Hh(Jl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Hh(Jl.keyField(),u))}}}return e.p}function of(t){var e=Vl(t);if(!e.T)if("F"===e.limitType)e.T=Nh(e.path,e.collectionGroup,rf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=rf(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Hh(o.field,s))}var a=e.endAt?new Kh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Kh(e.startAt.position,!e.startAt.before):null;e.T=Nh(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function sf(t,e,n){return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return Oh(of(t),of(e))&&t.limitType===e.limitType}function uf(t){return Dh(of(t))+"|lt:"+t.limitType}function cf(t){return"Query(target="+(e=of(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+vh(e.value);var e})).join(", ")+"]"),uh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+zh(e.startAt)),e.endAt&&(n+=", endAt: "+zh(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function lf(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):hh.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Wh(t.startAt,rf(t),e)||t.endAt&&Wh(t.endAt,rf(t),e))}(t,e);var n,r,i}function hf(t){return function(e,n){for(var r=!1,i=0,o=rf(t);i<o.length;i++){var s=o[i],a=ff(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ff(t,e,n){var r,i,o,s,a=t.field.isKeyField()?hh.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?mh(o,s):Ml());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Ml()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function pf(t){return{integerValue:""+t}}function mf(t,e){return lh(e)?pf(e):df(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gf=function(){this._=void 0};function vf(t,e,n){return t instanceof wf?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof If?Ef(t,e):t instanceof Tf?_f(t,e):function(t,e){var n=bf(t,e),r=kf(n)+kf(t.A);return wh(n)&&wh(t.A)?pf(r):df(t.R,r)}(t,e);var r,i,o}function yf(t,e,n){return t instanceof If?Ef(t,e):t instanceof Tf?_f(t,e):n}function bf(t,e){return t instanceof Sf?wh(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e}(gf),If=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ls(e,t),e}(gf);function Ef(t,e){for(var n=Af(e),r=function(t){n.some((function(e){return dh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Tf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ls(e,t),e}(gf);function _f(t,e){for(var n=Af(e),r=function(t){n=n.filter((function(e){return!dh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return ls(e,t),e}(gf);function kf(t){return rh(t.integerValue||t.doubleValue)}function Af(t){return Ih(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cf=function(t,e){this.field=t,this.transform=e},xf=function(t,e){this.version=t,this.transformResults=e},Nf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Df(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Of=function(){};function Lf(t,e,n){var r,i,o,s,a;t instanceof Vf?(i=e,o=n,s=(r=t).value.clone(),a=Bf(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof Uf?function(t,e,n){if(Df(t.precondition,e)){var r=Bf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(jf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Rf(t,e,n){var r;t instanceof Vf?function(t,e,n){if(Df(t.precondition,e)){var r=t.value.clone(),i=qf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ff(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Uf?function(t,e,n){if(Df(t.precondition,e)){var r=qf(t.fieldTransforms,n,e),i=e.data;i.setAll(jf(t)),i.setAll(r),e.convertToFoundDocument(Ff(e),i).setHasLocalMutations()}}(t,e,n):(r=e,Df(t.precondition,r)&&r.convertToNoDocument(Hl.min()))}function Pf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=bf(o.transform,s||null);null!=a&&(null==n&&(n=kh.empty()),n.set(o.field,a))}return n||null}function Mf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&ql(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof If&&o instanceof If||i instanceof Tf&&o instanceof Tf?ql(i.elements,o.elements,dh):i instanceof Sf&&o instanceof Sf?dh(i.A,o.A):i instanceof wf&&o instanceof wf);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function Ff(t){return t.isFoundDocument()?t.version:Hl.min()}var Vf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return ls(e,t),e}(Of),Uf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return ls(e,t),e}(Of);function jf(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Bf(t,e,n){var r=new Map;Fl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,yf(s,a,n[i]))}return r}function qf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,vf(a,u,e))}return r}var Kf,zf,Hf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return ls(e,t),e}(Of),Gf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return ls(e,t),e}(Of),Wf=function(t){this.count=t};function $f(t){switch(t){case Cl.OK:return Ml();case Cl.CANCELLED:case Cl.UNKNOWN:case Cl.DEADLINE_EXCEEDED:case Cl.RESOURCE_EXHAUSTED:case Cl.INTERNAL:case Cl.UNAVAILABLE:case Cl.UNAUTHENTICATED:return!1;case Cl.INVALID_ARGUMENT:case Cl.NOT_FOUND:case Cl.ALREADY_EXISTS:case Cl.PERMISSION_DENIED:case Cl.FAILED_PRECONDITION:case Cl.ABORTED:case Cl.OUT_OF_RANGE:case Cl.UNIMPLEMENTED:case Cl.DATA_LOSS:return!0;default:return Ml()}}function Qf(t){if(void 0===t)return Ll("GRPC error has no .code"),Cl.UNKNOWN;switch(t){case Kf.OK:return Cl.OK;case Kf.CANCELLED:return Cl.CANCELLED;case Kf.UNKNOWN:return Cl.UNKNOWN;case Kf.DEADLINE_EXCEEDED:return Cl.DEADLINE_EXCEEDED;case Kf.RESOURCE_EXHAUSTED:return Cl.RESOURCE_EXHAUSTED;case Kf.INTERNAL:return Cl.INTERNAL;case Kf.UNAVAILABLE:return Cl.UNAVAILABLE;case Kf.UNAUTHENTICATED:return Cl.UNAUTHENTICATED;case Kf.INVALID_ARGUMENT:return Cl.INVALID_ARGUMENT;case Kf.NOT_FOUND:return Cl.NOT_FOUND;case Kf.ALREADY_EXISTS:return Cl.ALREADY_EXISTS;case Kf.PERMISSION_DENIED:return Cl.PERMISSION_DENIED;case Kf.FAILED_PRECONDITION:return Cl.FAILED_PRECONDITION;case Kf.ABORTED:return Cl.ABORTED;case Kf.OUT_OF_RANGE:return Cl.OUT_OF_RANGE;case Kf.UNIMPLEMENTED:return Cl.UNIMPLEMENTED;case Kf.DATA_LOSS:return Cl.DATA_LOSS;default:return Ml()}}(zf=Kf||(Kf={}))[zf.OK=0]="OK",zf[zf.CANCELLED=1]="CANCELLED",zf[zf.UNKNOWN=2]="UNKNOWN",zf[zf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zf[zf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zf[zf.NOT_FOUND=5]="NOT_FOUND",zf[zf.ALREADY_EXISTS=6]="ALREADY_EXISTS",zf[zf.PERMISSION_DENIED=7]="PERMISSION_DENIED",zf[zf.UNAUTHENTICATED=16]="UNAUTHENTICATED",zf[zf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zf[zf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zf[zf.ABORTED=10]="ABORTED",zf[zf.OUT_OF_RANGE=11]="OUT_OF_RANGE",zf[zf.UNIMPLEMENTED=12]="UNIMPLEMENTED",zf[zf.INTERNAL=13]="INTERNAL",zf[zf.UNAVAILABLE=14]="UNAVAILABLE",zf[zf.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xf=function(){function t(t,e){this.comparator=t,this.root=e||Jf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Yf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Yf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Yf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Yf(this.root,t,this.comparator,!0)},t}(),Yf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Jf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ml();if(this.right.isRed())throw Ml();var t=this.left.check();if(t!==this.right.check())throw Ml();return t+(this.isRed()?0:1)},t}();Jf.EMPTY=null,Jf.RED=!0,Jf.BLACK=!1,Jf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ml()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Jf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Zf=function(){function t(t){this.comparator=t,this.data=new Xf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new td(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new td(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),td=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ed=new Xf(hh.comparator);function nd(){return ed}var rd=new Xf(hh.comparator);function id(){return rd}var od=new Xf(hh.comparator);var sd=new Zf(hh.comparator);function ad(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=sd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ud=new Zf(Bl);function cd(){return ud}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ld=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Hl.min(),r,cd(),nd(),ad())},t}(),hd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(th.EMPTY_BYTE_STRING,n,ad(),ad(),ad())},t}(),fd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},dd=function(t,e){this.targetId=t,this.V=e},pd=function(t,e,n,r){void 0===n&&(n=th.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},md=function(){function t(){this.S=0,this.D=yd(),this.C=th.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ad(),e=ad(),n=ad();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ml()}})),new hd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=yd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),gd=function(){function t(t){this.W=t,this.G=new Map,this.H=nd(),this.J=vd(),this.Y=new Zf(Bl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Ml()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Lh(i))if(0===n){var o=new hh(i.path);this.tt(e,o,Ch.newNoDocument(o,Hl.min()))}else Fl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Lh(o.target)){var s=new hh(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Ch.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=ad();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ld(t,n,this.Y,this.H,r);return this.H=nd(),this.J=vd(),this.Y=new Zf(Bl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new md,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Zf(Bl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ol("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new md),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function vd(){return new Xf(hh.comparator)}function yd(){return new Xf(hh.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bd={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Id=function(t,e){this.databaseId=t,this.I=e};function Ed(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Td(t,e){return t.I?e.toBase64():e.toUint8Array()}function _d(t,e){return Ed(t,e.toTimestamp())}function Sd(t){return Fl(!!t),Hl.fromTimestamp((e=nh(t),new zl(e.seconds,e.nanos)));var e}function kd(t,e){return(n=t,new Xl(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ad(t){var e=Xl.fromString(t);return Fl(Xd(e)),e}function Cd(t,e){return kd(t.databaseId,e.path)}function xd(t,e){var n=Ad(e);if(n.get(1)!==t.databaseId.projectId)throw new xl(Cl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xl(Cl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new hh(Ld(n))}function Nd(t,e){return kd(t.databaseId,e)}function Dd(t){var e=Ad(t);return 4===e.length?Xl.emptyPath():Ld(e)}function Od(t){return new Xl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ld(t){return Fl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Rd(t,e,n){return{name:Cd(t,e),fields:n.value.mapValue.fields}}function Pd(t,e){var n,r,i;if(e instanceof Vf)n={update:Rd(t,e.key,e.value)};else if(e instanceof Hf)n={delete:Cd(t,e.key)};else if(e instanceof Uf)n={update:Rd(t,e.key,e.data),updateMask:Qd(e.fieldMask)};else{if(!(e instanceof Gf))return Ml();n={verify:Cd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof wf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof If)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ml()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:_d(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ml())),n}function Md(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?Nf.updateTime(Sd(n.updateTime)):void 0!==n.exists?Nf.exists(n.exists):Nf.none():Nf.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Fl("REQUEST_TIME"===e.setToServerValue),n=new wf;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new If(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Tf(i)}else"increment"in e?n=new Sf(t,e.increment):Ml();var o=Jl.fromServerFormat(e.fieldPath);return new Cf(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=xd(t,e.update.name),s=new kh({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Zl(e.map((function(t){return Jl.fromServerFormat(t)})))}(e.updateMask);return new Uf(o,s,a,r,i)}return new Vf(o,s,r,i)}if(e.delete){var u=xd(t,e.delete);return new Hf(u,r)}if(e.verify){var c=xd(t,e.verify);return new Gf(c,r)}return Ml()}function Fd(t,e){return{documents:[Nd(t,e.path)]}}function Vd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Nd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Nd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Th(t.value))return{unaryFilter:{field:Hd(t.field),op:"IS_NAN"}};if(Eh(t.value))return{unaryFilter:{field:Hd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Th(t.value))return{unaryFilter:{field:Hd(t.field),op:"IS_NOT_NAN"}};if(Eh(t.value))return{unaryFilter:{field:Hd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hd(t.field),op:zd(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Hd((e=t).field),direction:Kd(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||uh(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Bd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bd(e.endAt)),n}function Ud(t){var e=Dd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=jd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Hh(Gd((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=uh(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=qd(n.startAt));var f=null;return n.endAt&&(f=qd(n.endAt)),Xh(e,i,a,s,l,"F",h,f)}function jd(t){return t?void 0!==t.unaryFilter?[$d(t)]:void 0!==t.fieldFilter?[Wd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return jd(t)})).reduce((function(t,e){return t.concat(e)})):Ml():[]}function Bd(t){return{before:t.before,values:t.position}}function qd(t){var e=!!t.before,n=t.values||[];return new Kh(n,e)}function Kd(t){return bd[t]}function zd(t){return wd[t]}function Hd(t){return{fieldPath:t.canonicalString()}}function Gd(t){return Jl.fromServerFormat(t.fieldPath)}function Wd(t){return Rh.create(Gd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ml()}}(t.fieldFilter.op),t.fieldFilter.value)}function $d(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Gd(t.unaryFilter.field);return Rh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Gd(t.unaryFilter.field);return Rh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gd(t.unaryFilter.field);return Rh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gd(t.unaryFilter.field);return Rh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ml()}}function Qd(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Xd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Zd(e)),e=Jd(t.get(n),e);return Zd(e)}function Jd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Zd(t){return t+""}function tp(t){var e=t.length;if(Fl(e>=2),2===e)return Fl(""===t.charAt(0)&&""===t.charAt(1)),Xl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Ml(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Ml()}o=s+2}return new Xl(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ep=function(t,e){this.seconds=t,this.nanoseconds=e},np=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};np.store="owner",np.key="owner";var rp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};rp.store="mutationQueues",rp.keyPath="userId";var ip=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ip.store="mutations",ip.keyPath="batchId",ip.userMutationsIndex="userMutationsIndex",ip.userMutationsKeyPath=["userId","batchId"];var op=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Yd(e)]},t.key=function(t,e,n){return[t,Yd(e),n]},t}();op.store="documentMutations",op.PLACEHOLDER=new op;var sp=function(t,e){this.path=t,this.readTime=e},ap=function(t,e){this.path=t,this.version=e},up=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};up.store="remoteDocuments",up.readTimeIndex="readTimeIndex",up.readTimeIndexPath="readTime",up.collectionReadTimeIndex="collectionReadTimeIndex",up.collectionReadTimeIndexPath=["parentPath","readTime"];var cp=function(t){this.byteSize=t};cp.store="remoteDocumentGlobal",cp.key="remoteDocumentGlobalKey";var lp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};lp.store="targets",lp.keyPath="targetId",lp.queryTargetsIndexName="queryTargetsIndex",lp.queryTargetsKeyPath=["canonicalId","targetId"];var hp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};hp.store="targetDocuments",hp.keyPath=["targetId","path"],hp.documentTargetsIndex="documentTargetsIndex",hp.documentTargetsKeyPath=["path","targetId"];var fp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};fp.key="targetGlobalKey",fp.store="targetGlobal";var dp=function(t,e){this.collectionId=t,this.parent=e};dp.store="collectionParents",dp.keyPath=["collectionId","parent"];var pp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};pp.store="clientMetadata",pp.keyPath="clientId";var mp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};mp.store="bundles",mp.keyPath="bundleId";var gp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};gp.store="namedQueries",gp.keyPath="name";var vp=ds(ds([],ds(ds([],ds(ds([],ds(ds([],[rp.store,ip.store,op.store,up.store,lp.store,np.store,fp.store,hp.store]),[pp.store])),[cp.store])),[dp.store])),[mp.store,gp.store]),yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),wp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ip=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ml(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Ep=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new wp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Sp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Np(e.target.error);n.ft.reject(new Sp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Sp(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ol("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ap(e)},t}(),Tp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(yo())&&Ll("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ol("SimpleDb","Removing database:",t),Cp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=yo(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return hs(this,void 0,void 0,(function(){var e,n=this;return fs(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ol("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Sp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new xl(Cl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Sp(t,n))},i.onupgradeneeded=function(t){Ol("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Ol("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return hs(this,void 0,void 0,(function(){var i,o,s,a,u;return fs(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return fs(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ep.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Ip.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Ol("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_p=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Cp(this.Pt.delete())},t}(),Sp=function(t){function e(e,n){var r=this;return(r=t.call(this,Cl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return ls(e,t),e}(xl);function kp(t){return"IndexedDbTransactionError"===t.name}var Ap=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ol("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ol("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Cp(n)},t.prototype.add=function(t){return Ol("SimpleDb","ADD",this.store.name,t,t),Cp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Cp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ol("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ol("SimpleDb","DELETE",this.store.name,t),Cp(this.store.delete(t))},t.prototype.count=function(){return Ol("SimpleDb","COUNT",this.store.name),Cp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Ol("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ip((function(n,r){e.onerror=function(t){var e=Np(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Ip((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _p(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ip){var a=s.catch((function(t){return o.done(),Ip.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Ip.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Cp(t){return new Ip((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Np(t.target.error);n(e)}}))}var xp=!1;function Np(t){var e=Tp._t(yo());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new xl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xp||(xp=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return ls(e,t),e}(bp);function Op(t,e){var n=Vl(t);return Tp.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Lf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Rf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Rf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Hl.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ad())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ql(this.mutations,t.mutations,(function(t,e){return Mf(t,e)}))&&ql(this.baseMutations,t.baseMutations,(function(t,e){return Mf(t,e)}))},t}(),Rp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Fl(e.mutations.length===r.length);for(var i=od,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Pp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Hl.min()),void 0===o&&(o=Hl.min()),void 0===s&&(s=th.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Mp=function(t){this.Lt=t};function Fp(t,e){if(e.document)return function(t,e,n){var r=xd(t,e.name),i=Sd(e.updateTime),o=new kh({mapValue:{fields:e.fields}}),s=Ch.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=hh.fromSegments(e.noDocument.path),r=qp(e.noDocument.readTime),i=Ch.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=hh.fromSegments(e.unknownDocument.path);return r=qp(e.unknownDocument.version),Ch.newUnknownDocument(o,r)}return Ml()}function Vp(t,e,n){var r,i,o=Up(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:Cd(r=t.Lt,(i=e).key),fields:i.data.value.mapValue.fields,updateTime:Ed(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new up(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=Bp(e.version);return u=e.hasCommittedMutations,new up(null,new sp(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=Bp(e.version);return new up(new ap(h,f),null,null,!0,o,s)}return Ml()}function Up(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jp(t){var e=new zl(t[0],t[1]);return Hl.fromTimestamp(e)}function Bp(t){var e=t.toTimestamp();return new ep(e.seconds,e.nanoseconds)}function qp(t){var e=new zl(t.seconds,t.nanoseconds);return Hl.fromTimestamp(e)}function Kp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Md(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Md(t.Lt,e)})),a=zl.fromMillis(e.localWriteTimeMs);return new Lp(e.batchId,a,n,s)}function zp(t){var e,n,r=qp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?qp(t.lastLimboFreeSnapshotVersion):Hl.min();return void 0!==t.query.documents?(Fl(1===(n=t.query).documents.length),e=of(Yh(Dd(n.documents[0])))):e=of(Ud(t.query)),new Pp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,th.fromBase64String(t.resumeToken))}function Hp(t,e){var n,r=Bp(e.snapshotVersion),i=Bp(e.lastLimboFreeSnapshotVersion);n=Lh(e.target)?Fd(t.Lt,e.target):Vd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new lp(e.targetId,Dh(e.target),r,o,e.sequenceNumber,i,n)}function Gp(t){var e=Ud({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?sf(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return $p(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:qp(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return $p(t).put({bundleId:(n=e).id,createTime:Bp(Sd(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Qp(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Gp(e.bundledQuery),readTime:qp(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Qp(t).put({name:(n=e).name,readTime:Bp(Sd(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function $p(t){return Op(t,mp.store)}function Qp(t){return Op(t,gp.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xp=function(){function t(){this.Bt=new Yp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ip.resolve()},t.prototype.getCollectionParents=function(t,e){return Ip.resolve(this.Bt.getEntries(e))},t}(),Yp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Zf(Xl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Zf(Xl.comparator)).toArray()},t}(),Jp=function(){function t(){this.qt=new Yp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Yd(i)};return Zp(t).put(o)}return Ip.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Kl(e),""],!1,!0);return Zp(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(tp(o.parent))}return n}))},t}();function Zp(t){return Op(t,dp.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},em=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,n){var r=t.store(ip.store),i=t.store(op.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Fl(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=op.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ip.waitFor(o).next((function(){return c}))}function rm(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ml();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */em.DEFAULT_COLLECTION_PERCENTILE=10,em.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,em.DEFAULT=new em(41943040,em.DEFAULT_COLLECTION_PERCENTILE,em.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),em.DISABLED=new em(-1,0,0);var im=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Fl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sm(t).$t({index:ip.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=am(t),s=sm(t);return s.add({}).next((function(a){Fl("number"==typeof a);for(var u=new Lp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Pd(t.Lt,e)})),i=n.mutations.map((function(e){return Pd(t.Lt,e)}));return new ip(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Zf((function(t,e){return Bl(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=op.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,op.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),Ip.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return sm(t).get(e).next((function(t){return t?(Fl(t.userId===n.userId),Kp(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Ip.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sm(t).$t({index:ip.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Fl(e.batchId>=r),o=Kp(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sm(t).$t({index:ip.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sm(t).Nt(ip.userMutationsIndex,n).next((function(t){return t.map((function(t){return Kp(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=op.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return am(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=tp(u);if(a===n.userId&&e.path.isEqual(l))return sm(t).get(c).next((function(t){if(!t)throw Ml();Fl(t.userId===n.userId),o.push(Kp(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zf(Bl),i=[];return e.forEach((function(e){var o=op.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=am(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=tp(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Ip.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=op.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Zf(Bl);return am(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=tp(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(sm(t).get(e).next((function(t){if(null===t)throw Ml();Fl(t.userId===n.userId),r.push(Kp(n.R,t))})))})),Ip.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return nm(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Ip.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Ip.resolve();var r=IDBKeyRange.lowerBound(op.prefixForUser(e.userId)),i=[];return am(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=tp(t[1]);i.push(o)}else r.done()})).next((function(){Fl(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return om(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return um(t).get(this.userId).next((function(t){return t||new rp(e.userId,-1,"")}))},t}();function om(t,e,n){var r=op.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return am(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function sm(t){return Op(t,ip.store)}function am(t){return Op(t,op.store)}function um(t){return Op(t,rp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cm=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),lm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new cm(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Hl.fromTimestamp(new zl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return hm(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Fl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return hm(t).$t((function(s,a){var u=zp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Ip.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return hm(t).$t((function(t,n){var r=zp(n);e(r)}))},t.prototype.Xt=function(t){return fm(t).get(fp.key).next((function(t){return Fl(null!==t),t}))},t.prototype.Zt=function(t,e){return fm(t).put(fp.key,e)},t.prototype.te=function(t,e){return hm(t).put(Hp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Dh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hm(t).$t({range:r,index:lp.queryTargetsIndexName},(function(t,n,r){var o=zp(n);Oh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=dm(t);return e.forEach((function(e){var s=Yd(e.path);i.push(o.put(new hp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Ip.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=dm(t);return Ip.forEach(e,(function(e){var o=Yd(e.path);return Ip.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=dm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=dm(t),i=ad();return r.$t({range:n,kt:!0},(function(t,e,n){var r=tp(t[1]),o=new hh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Yd(e.path),r=IDBKeyRange.bound([n],[Kl(n)],!1,!0),i=0;return dm(t).$t({index:hp.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return hm(t).get(e).next((function(t){return t?zp(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return Op(t,lp.store)}function fm(t){return Op(t,fp.store)}function dm(t){return Op(t,hp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){return hs(this,void 0,void 0,(function(){return fs(this,(function(e){if(t.code!==Cl.FAILED_PRECONDITION||t.message!==yp)throw t;return Ol("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Bl(n,i);return 0===s?Bl(r,o):s}var gm=function(){function t(t){this.ne=t,this.buffer=new Zf(mm),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();mm(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vm=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ol("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return hs(e,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return kp(e=n.sent())?(Ol("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,pm(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ym=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ip.resolve(Al.o);var r=new gm(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ol("LruGarbageCollector","Garbage collection skipped; disabled"),Ip.resolve(tm)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ol("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tm):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ol("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Dl()<=Uo.DEBUG&&Ol("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ip.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),bm=function(){function t(t,e){this.db=t,this.garbageCollector=new ym(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return wm(t,n)},t.prototype.removeReference=function(t,e,n){return wm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return wm(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,um(n=t).Ot((function(t){return om(n,t,r).next((function(t){return t&&(i=!0),Ip.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),dm(t).delete([0,Yd(s.path)])}))}));i.push(u)}})).next((function(){return Ip.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return wm(t,e)},t.prototype.we=function(t,e){var n,r=dm(t),i=Al.o;return r.$t({index:hp.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var s=r.path,a=r.sequenceNumber;0===o?(i!==Al.o&&e(new hh(tp(n)),i),i=a,n=s):i=Al.o})).next((function(){i!==Al.o&&e(new hh(tp(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function wm(t,e){return dm(t).put((n=e,r=t.currentSequenceNumber,new hp(0,Yd(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Im=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Wl(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return $l(this.inner)},t}(),Em=function(){function t(){this.changes=new Im((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Hl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ch.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ip.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Tm=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return km(t).put(Am(e),n)},t.prototype.removeEntry=function(t,e){var n=km(t),r=Am(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return km(t).get(Am(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return km(t).get(Am(e)).next((function(t){return{document:n.ye(e,t),size:rm(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=nd();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=nd(),i=new Xf(hh.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,rm(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ip.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return km(t).$t({range:r},(function(t,e,r){for(var s=hh.fromSegments(t);o&&hh.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=nd(),o=e.path.length+1,s={};if(n.isEqual(Hl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Up(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=up.collectionReadTimeIndex}return km(t).$t(s,(function(t,n,s){if(t.length===o){var a=Fp(r.R,n);e.path.isPrefixOf(a.key.path)?lf(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new _m(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Sm(t).get(cp.key).next((function(t){return Fl(!!t),t}))},t.prototype.me=function(t,e){return Sm(t).put(cp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Fp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Hl.min()))return n}return Ch.newInvalidDocument(t)},t}(),_m=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Im((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return ls(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Zf((function(t,e){return Bl(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Vp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=rm(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Vp(e.Ie.R,Ch.newNoDocument(o,Hl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Ip.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Em);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){return Op(t,cp.store)}function km(t){return Op(t,up.store)}function Am(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Fl(n<r&&n>=0&&r<=11);var o=new Ep("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(np.store),function(t){t.createObjectStore(rp.store,{keyPath:rp.keyPath}),t.createObjectStore(ip.store,{keyPath:ip.keyPath,autoIncrement:!0}).createIndex(ip.userMutationsIndex,ip.userMutationsKeyPath,{unique:!0}),t.createObjectStore(op.store)}(t),xm(t),function(t){t.createObjectStore(up.store)}(t));var s=Ip.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(hp.store),t.deleteObjectStore(lp.store),t.deleteObjectStore(fp.store)}(t),xm(t)),s=s.next((function(){return function(t){var e=t.store(fp.store),n=new fp(0,0,Hl.min().toTimestamp(),0);return e.put(fp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ip.store).Nt().next((function(n){t.deleteObjectStore(ip.store),t.createObjectStore(ip.store,{keyPath:ip.keyPath,autoIncrement:!0}).createIndex(ip.userMutationsIndex,ip.userMutationsKeyPath,{unique:!0});var r=e.store(ip.store),i=n.map((function(t){return r.put(t)}));return Ip.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(pp.store,{keyPath:pp.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(cp.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(up.store);e.createIndex(up.readTimeIndex,up.readTimeIndexPath,{unique:!1}),e.createIndex(up.collectionReadTimeIndex,up.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(mp.store,{keyPath:mp.keyPath})}(t),function(t){t.createObjectStore(gp.store,{keyPath:gp.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(up.store).$t((function(t,n){e+=rm(n)})).next((function(){var n=new cp(e);return t.store(cp.store).put(cp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(rp.store),r=t.store(ip.store);return n.Nt().next((function(n){return Ip.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ip.userMutationsIndex,i).next((function(r){return Ip.forEach(r,(function(r){Fl(r.userId===n.userId);var i=Kp(e.R,r);return nm(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(hp.store),n=t.store(up.store);return t.store(fp.store).get(fp.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Xl(n),s=[0,Yd(o)];r.push(e.get(s).next((function(n){return n?Ip.resolve():(r=o,e.put(new hp(0,Yd(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return Ip.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(dp.store,{keyPath:dp.keyPath});var n=e.store(dp.store),r=new Yp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Yd(i)})}};return e.store(up.store).$t({kt:!0},(function(t,e){var n=new Xl(t);return i(n.popLast())})).next((function(){return e.store(op.store).$t({kt:!0},(function(t,e){t[0];var n=t[1];t[2];var r=tp(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(lp.store);return n.$t((function(t,r){var i=zp(r),o=Hp(e.R,i);return n.put(o)}))},t}();function xm(t){t.createObjectStore(hp.store,{keyPath:hp.keyPath}).createIndex(hp.documentTargetsIndex,hp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(lp.store,{keyPath:lp.keyPath}).createIndex(lp.queryTargetsIndexName,lp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(fp.store)}var Nm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dm=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new xl(Cl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new bm(this,i),this.Le=n+"main",this.R=new Mp(u),this.Be=new Tp(this.Le,11,new Cm(this.R)),this.qe=new lm(this.referenceDelegate,this.R),this.Ut=new Jp,this.Ue=(h=this.R,f=this.Ut,new Tm(h,f)),this.Ke=new Wp,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ll("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new xl(Cl.FAILED_PRECONDITION,Nm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Al(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return hs(e,void 0,void 0,(function(){return fs(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return hs(e,void 0,void 0,(function(){return fs(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return hs(e,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Lm(e).put(new pp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(kp(e))return Ol("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ol("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Om(t).get(np.key).next((function(t){return Ip.resolve(e.tn(t))}))},t.prototype.en=function(t){return Lm(t).delete(this.clientId)},t.prototype.nn=function(){return hs(this,void 0,void 0,(function(){var t,e,n,r,i=this;return fs(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Op(t,pp.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Ip.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ip.resolve(!0):Om(t).get(np.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new xl(Cl.FAILED_PRECONDITION,Nm);return!1}}return!(!e.networkEnabled||!e.inForeground)||Lm(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ol("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return hs(this,void 0,void 0,(function(){var t=this;return fs(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[np.store,pp.store],(function(e){var n=new Dp(e,Al.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Lm(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return im.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Ol("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,vp,(function(o){return i=new Dp(o,r.Ne?r.Ne.next():Al.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Ll("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new xl(Cl.FAILED_PRECONDITION,yp);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Om(t).get(np.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new xl(Cl.FAILED_PRECONDITION,Nm)}))},t.prototype.Ze=function(t){var e=new np(this.clientId,this.allowTabSynchronization,Date.now());return Om(t).put(np.key,e)},t.yt=function(){return Tp.yt()},t.prototype.Xe=function(t){var e=this,n=Om(t);return n.get(np.key).next((function(t){return e.tn(t)?(Ol("IndexedDbPersistence","Releasing primary lease."),n.delete(np.key)):Ip.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ll("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),!bo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ol("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return Ll("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ll("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Om(t){return Op(t,np.store)}function Lm(t){return Op(t,pp.store)}function Rm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Pm=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,hh.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):nf(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new hh(e)).next((function(t){var e=id();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=id();return this.Ut.getCollectionParents(t,i).next((function(s){return Ip.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new Qh(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Ch.newInvalidDocument(c),r=r.insert(c,l)),Rf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){lf(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ad(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Uf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Mm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ad(),i=ad(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Fm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Hl.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(Jh(e)||Zh(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(Dl()<=Uo.DEBUG&&Ol("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),cf(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Zf(hf(t));return e.forEach((function(e,r){lf(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Dl()<=Uo.DEBUG&&Ol("QueryEngine","Using full collection scan to execute query:",cf(e)),this.Sn.getDocumentsMatchingQuery(t,e,Hl.min())},t}(),Vm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Xf(Bl),this.kn=new Im((function(t){return Dh(t)}),Oh),this.$n=Hl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Pm(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e,n,r){return new Vm(t,e,n,r)}function jm(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o;return fs(this,(function(s){switch(s.label){case 0:return n=Vl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Pm(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=ad(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Bm(t,e){var n=Vl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=Ip.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);Fl(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function qm(t){var e=Vl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Km(t,e){var n=Vl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,Fl((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=nd();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=ad();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=nd();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Hl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Ol("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Hl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return Ip.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function zm(t,e){var n=Vl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Hm(t,e){var n=Vl(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Ip.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Pp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Gm(t,e,n){return hs(this,void 0,void 0,(function(){var r,i,o,s;return fs(this,(function(a){switch(a.label){case 0:r=Vl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!kp(s=a.sent()))throw s;return Ol("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Wm(t,e,n){var r=Vl(t),i=Hl.min(),o=ad();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=of(e),c=Vl(s),l=c.kn.get(u),void 0!==l?Ip.resolve(c.Fn.get(l)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Hl.min(),n?o:ad())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,l}))}function $m(t,e){var n=Vl(t),r=Vl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Qm(t){var e=Vl(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.On,r=t,i=e.$n,o=Vl(n),s=nd(),a=Up(i),u=km(r),c=IDBKeyRange.lowerBound(a,!0),u.$t({index:up.readTimeIndex,range:c},(function(t,e){var n=Fp(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:jp(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Xm(t){return hs(this,void 0,void 0,(function(){var e;return fs(this,(function(n){return[2,(e=Vl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=km(t),n=Hl.min(),e.$t({index:up.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=jp(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.$n=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ym=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ip.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Sd(n.createTime)}),Ip.resolve()},t.prototype.getNamedQuery=function(t,e){return Ip.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:Gp(n.bundledQuery),readTime:Sd(n.readTime)}),Ip.resolve();var n},t}(),Jm=function(){function t(){this.Wn=new Zf(Zm.Gn),this.zn=new Zf(Zm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Zm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Zm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new hh(new Xl([])),r=new Zm(n,t),i=new Zm(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new hh(new Xl([])),n=new Zm(e,t),r=new Zm(e,t+1),i=ad();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Zm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Zm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return hh.comparator(t.key,e.key)||Bl(t.ns,e.ns)},t.Hn=function(t,e){return Bl(t.ns,e.ns)||hh.comparator(t.key,e.key)},t}(),tg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Zf(Zm.Gn)}return t.prototype.checkEmpty=function(t){return Ip.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Lp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Zm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ip.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ip.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Ip.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ip.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ip.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Zm(e,0),i=new Zm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Ip.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zf(Bl);return e.forEach((function(t){var e=new Zm(t,0),i=new Zm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Ip.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;hh.isDocumentKey(i)||(i=i.child(""));var o=new Zm(new hh(i),0),s=new Zf(Bl);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Ip.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Fl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ip.forEach(e.mutations,(function(i){var o=new Zm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Zm(e,0),r=this.rs.firstAfterOrEqual(n);return Ip.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Ip.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),eg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Xf(hh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ip.resolve(n?n.document.clone():Ch.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=nd();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ch.newInvalidDocument(t))})),Ip.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=nd(),i=new hh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||lf(e,c)&&(r=r.insert(c.key,c.clone()))}return Ip.resolve(r)},t.prototype.fs=function(t,e){return Ip.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ng(this)},t.prototype.getSize=function(t){return Ip.resolve(this.size)},t}(),ng=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return ls(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Ip.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Em),rg=function(){function t(t){this.persistence=t,this.ds=new Im((function(t){return Dh(t)}),Oh),this.lastRemoteSnapshotVersion=Hl.min(),this.highestTargetId=0,this.ws=0,this._s=new Jm,this.targetCount=0,this.ys=cm.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Ip.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ip.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ip.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ip.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ip.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new cm(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ip.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ip.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ip.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Ip.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Ip.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ip.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ip.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Ip.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ip.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ip.resolve(n)},t.prototype.containsKey=function(t,e){return Ip.resolve(this._s.containsKey(e))},t}(),ig=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new Al(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new rg(this),this.Ut=new Xp,this.Ue=(n=this.Ut,new eg(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new Mp(e),this.Ke=new Ym(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new tg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Ol("MemoryPersistence","Starting transaction:",t);var i=new og(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Ip.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),og=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return ls(e,t),e}(bp),sg=function(){function t(t){this.persistence=t,this.As=new Jm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ml()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ip.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ip.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ip.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ip.forEach(this.vs,(function(r){var i=hh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ip.or([function(){return Ip.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ag=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){return"firestore_clients_"+t+"_"+e}function cg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function lg(t,e){return"firestore_targets_"+t+"_"+e}ag.UNAUTHENTICATED=new ag(null),ag.GOOGLE_CREDENTIALS=new ag("google-credentials-uid"),ag.FIRST_PARTY=new ag("first-party-uid");var hg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Ll("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xl(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ll("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cd(),s=0;i&&s<r.activeTargetIds.length;++s)i=lh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ll("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),pg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ll("SharedClientState","Failed to parse online state: "+e),null)},t}(),mg=function(){function t(){this.activeTargetIds=cd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),gg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Xf(Bl),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=ug(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new mg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return hs(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return fs(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(ug(this.persistenceKey,r)))&&(o=dg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(lg(this.persistenceKey,t));if(n){var r=fg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(lg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ol("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ol("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ol("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ol("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ll("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return hs(e,void 0,void 0,(function(){var t,e,r,i,o,s;return fs(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Al.o;if(null!=t)try{var n=JSON.parse(t);Fl("number"==typeof n),e=n}catch(r){Ll("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==Al.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new hg(this.currentUser,t,e,n),i=cg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=cg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=lg(this.persistenceKey,t),i=new fg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return dg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hg.Vs(new ag(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return fg.Vs(r,e)},t.prototype.js=function(t){return pg.Vs(t)},t.prototype.ii=function(t){return hs(this,void 0,void 0,(function(){return fs(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ol("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=cd();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),vg=function(){function t(){this.li=new mg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new mg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),yg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),bg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ol("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ol("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ig=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Eg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return ls(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new kl;s.listenOnce(wl.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case bl.NO_ERROR:var e=s.getResponseJson();Ol("Connection","XHR received:",JSON.stringify(e)),i(e);break;case bl.TIMEOUT:Ol("Connection",'RPC "'+t+'" timed out'),o(new xl(Cl.DEADLINE_EXCEEDED,"Request time out"));break;case bl.HTTP_ERROR:var n=s.getStatus();if(Ol("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Cl).indexOf(c)>=0?c:Cl.UNKNOWN);o(new xl(a,r.message))}else o(new xl(Cl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new xl(Cl.UNAVAILABLE,"Connection failed."));break;default:Ml()}}finally{Ol("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new pl,s=au(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new _l({})),this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yo())||"object"==typeof navigator&&"ReactNative"===navigator.product||yo().indexOf("Electron/")>=0||((r=yo()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||yo().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");Ol("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,h=!1,f=new Ig({Ei:function(t){h?Ol("Connection","Not sending because WebChannel is closed:",t):(l||(Ol("Connection","Opening WebChannel transport."),c.open(),l=!0),Ol("Connection","WebChannel sending:",t),c.send(t))},Ti:function(){return c.close()}}),d=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Sl.EventType.OPEN,(function(){h||Ol("Connection","WebChannel transport opened.")})),d(c,Sl.EventType.CLOSE,(function(){h||(h=!0,Ol("Connection","WebChannel transport closed"),f.Vi())})),d(c,Sl.EventType.ERROR,(function(t){h||(h=!0,Rl("Connection","WebChannel transport errored:",t),f.Vi(new xl(Cl.UNAVAILABLE,"The operation could not be completed")))})),d(c,Sl.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Fl(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ol("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Kf[t];if(void 0!==e)return Qf(e)}(o),a=i.message;void 0===s&&(s=Cl.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,f.Vi(new xl(s,a)),c.close()}else Ol("Connection","WebChannel received:",n),f.Si(n)}})),d(s,Il.STAT_EVENT,(function(t){t.stat===El?Ol("Connection","Detected buffering proxy"):t.stat===Tl&&Ol("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ol("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Ol("RestConnection","Received: ",t),t}),(function(e){throw Rl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=wg[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){return"undefined"!=typeof window?window:null}function _g(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){return new Id(t,!0)}var kg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ol("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ag=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new kg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return hs(this,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return hs(this,void 0,void 0,(function(){return fs(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return hs(this,void 0,void 0,(function(){return fs(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Cl.RESOURCE_EXHAUSTED?(Ll(e.toString()),Ll("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Cl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new xl(Cl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return hs(t,void 0,void 0,(function(){return fs(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Ol("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Ol("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Cg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return ls(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Ml(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Fl(void 0===e||"string"==typeof e),th.fromBase64String(e||"")):(Fl(void 0===e||e instanceof Uint8Array),th.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Cl.UNKNOWN:Qf(t.code);return new xl(e,t.message||"")}(u);n=new pd(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=xd(t,i.document.name),s=Sd(i.document.updateTime);var u=new kh({mapValue:{fields:i.document.fields}}),c=(a=Ch.newFoundDocument(o,s,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new fd(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=xd(t,i.document),s=i.readTime?Sd(i.readTime):Hl.min(),u=Ch.newNoDocument(o,s),a=i.removedTargetIds||[],n=new fd([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=xd(t,i.document),s=i.removedTargetIds||[],n=new fd([],s,o,null);else{if(!("filter"in e))return Ml();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new Wf(i),s=h.targetId,n=new dd(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Hl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Hl.min():e.readTime?Sd(e.readTime):Hl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=Od(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=Lh(i)?{documents:Fd(e,i)}:{query:Vd(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=Td(e,n.resumeToken):n.snapshotVersion.compareTo(Hl.min())>0&&(r.readTime=Ed(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ml()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=Od(this.R),e.removeTarget=t,this.cr(e)},e}(Ag),xg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return ls(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Fl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(Fl(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?Sd(e.updateTime):Sd(n)).isEqual(Hl.min())&&(r=Sd(n)),new xf(r,e.transformResults||[]);var e,n,r}))):[]),n=Sd(t.commitTime);return this.listener.Tr(n,e)}var r,i;return Fl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Od(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Pd(e.R,t)}))};this.cr(n)},e}(Ag),Ng=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return ls(e,t),e.prototype.br=function(){if(this.Rr)throw new xl(Cl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Cl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xl(Cl.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Cl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xl(Cl.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Dg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ll(e),this.Vr=!1):Ol("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Og=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return hs(o,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return Bg(this)?(Ol("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return hs(this,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return(e=Vl(t)).Or.add(4),[4,Rg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Lg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Dg(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){return hs(this,void 0,void 0,(function(){var e,n;return fs(this,(function(r){switch(r.label){case 0:if(!Bg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Rg(t){return hs(this,void 0,void 0,(function(){var e,n;return fs(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Pg(t,e){var n=Vl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),jg(n)?Ug(n):nv(n).er()&&Fg(n,e))}function Mg(t,e){var n=Vl(t),r=nv(n);n.$r.delete(e),r.er()&&Vg(n,e),0===n.$r.size&&(r.er()?r.ir():Bg(n)&&n.Br.set("Unknown"))}function Fg(t,e){t.qr.U(e.targetId),nv(t).mr(e)}function Vg(t,e){t.qr.U(e),nv(t).yr(e)}function Ug(t){t.qr=new gd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),nv(t).start(),t.Br.Sr()}function jg(t){return Bg(t)&&!nv(t).tr()&&t.$r.size>0}function Bg(t){return 0===Vl(t).Or.size}function qg(t){t.qr=void 0}function Kg(t){return hs(this,void 0,void 0,(function(){return fs(this,(function(e){return t.$r.forEach((function(e,n){Fg(t,e)})),[2]}))}))}function zg(t,e){return hs(this,void 0,void 0,(function(){return fs(this,(function(n){return qg(t),jg(t)?(t.Br.Nr(e),Ug(t)):t.Br.set("Unknown"),[2]}))}))}function Hg(t,e,n){return hs(this,void 0,void 0,(function(){var r,i,o;return fs(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof pd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o;return fs(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ol("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof fd?t.qr.X(e):e instanceof dd?t.qr.rt(e):t.qr.et(e),n.isEqual(Hl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,qm(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.$r.get(e);n&&a.$r.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.$r.get(t);if(e){a.$r.set(t,e.withResumeToken(th.EMPTY_BYTE_STRING,e.snapshotVersion)),Vg(a,t);var n=new Pp(e.target,t,1,e.sequenceNumber);Fg(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ol("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Gg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function Gg(t,e,n){return hs(this,void 0,void 0,(function(){var r=this;return fs(this,(function(i){switch(i.label){case 0:if(!kp(e))throw e;return t.Or.add(1),[4,Rg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return qm(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return hs(r,void 0,void 0,(function(){return fs(this,(function(e){switch(e.label){case 0:return Ol("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Lg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Wg(t,e){return e().catch((function(n){return Gg(t,n,e)}))}function $g(t){return hs(this,void 0,void 0,(function(){var e,n,r,i,o;return fs(this,(function(s){switch(s.label){case 0:e=Vl(t),n=rv(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(Bg(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,zm(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=rv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Gg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Qg(e)&&Xg(e),[2]}var a}))}))}function Qg(t){return Bg(t)&&!rv(t).tr()&&t.kr.length>0}function Xg(t){rv(t).start()}function Yg(t){return hs(this,void 0,void 0,(function(){return fs(this,(function(e){return rv(t).Ar(),[2]}))}))}function Jg(t){return hs(this,void 0,void 0,(function(){var e,n,r,i;return fs(this,(function(o){for(e=rv(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Zg(t,e,n){return hs(this,void 0,void 0,(function(){var r,i;return fs(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Rp.from(r,e,n),[4,Wg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,$g(t)];case 2:return o.sent(),[2]}}))}))}function tv(t,e){return hs(this,void 0,void 0,(function(){return fs(this,(function(n){switch(n.label){case 0:return e&&rv(t).pr?[4,function(t,e){return hs(this,void 0,void 0,(function(){var n,r;return fs(this,(function(i){switch(i.label){case 0:return $f(r=e.code)&&r!==Cl.ABORTED?(n=t.kr.shift(),rv(t).sr(),[4,Wg(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,$g(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qg(t)&&Xg(t),[2]}}))}))}function ev(t,e){return hs(this,void 0,void 0,(function(){var n;return fs(this,(function(r){switch(r.label){case 0:return n=Vl(t),e?(n.Or.delete(2),[4,Lg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Rg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function nv(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:Kg.bind(null,t),Ri:zg.bind(null,t),_r:Hg.bind(null,t)},(i=Vl(e)).br(),new Cg(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return hs(o,void 0,void 0,(function(){return fs(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),jg(t)?Ug(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),qg(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function rv(t){var e,n,r,i,o=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:Yg.bind(null,t),Ri:tv.bind(null,t),Ir:Jg.bind(null,t),Tr:Zg.bind(null,t)},(i=Vl(e)).br(),new xg(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return hs(o,void 0,void 0,(function(){return fs(this,(function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,$g(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),t.kr.length>0&&(Ol("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Kr}var iv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xl(Cl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ov(t,e){if(Ll("AsyncQueue",e+": "+t),kp(t))return new xl(Cl.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||hh.comparator(e.key,n.key)}:function(t,e){return hh.comparator(t.key,e.key)},this.keyedMap=id(),this.sortedSet=new Xf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),av=function(){function t(){this.Qr=new Xf(hh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ml():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),uv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,sv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&af(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),cv=function(){this.Wr=void 0,this.listeners=[]},lv=function(){this.queries=new Im((function(t){return uf(t)}),af),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return fs(this,(function(c){switch(c.label){case 0:if(n=Vl(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new cv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=ov(a,"Initialization of query '"+cf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&mv(n),[2]}}))}))}function fv(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o,s;return fs(this,(function(a){return n=Vl(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function dv(t,e){for(var n=Vl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&mv(n)}function pv(t,e,n){var r=Vl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function mv(t){t.Gr.forEach((function(t){t.next()}))}var gv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new uv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=uv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),vv=function(t){this.key=t},yv=function(t){this.key=t},bv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ad(),this.mutatedKeys=ad(),this.lo=hf(t),this.fo=new sv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new av,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Jh(this.query)&&i.size===this.query.limit?i.last():null,c=Zh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=lf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Jh(this.query)||Zh(this.query))for(;s.size>this.query.limit;){var l=Jh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ml()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new uv(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new av,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ad(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new yv(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new vv(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ad();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return uv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),wv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Iv=function(t){this.key=t,this.bo=!1},Ev=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Im((function(t){return uf(t)}),af),this.Vo=new Map,this.So=new Set,this.Do=new Xf(hh.comparator),this.Co=new Map,this.No=new Jm,this.xo={},this.Fo=new Map,this.ko=cm.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return fs(this,(function(u){switch(u.label){case 0:return n=Jv(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Hm(n.localStore,of(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,_v(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&Pg(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function _v(t,e,n,r){return hs(this,void 0,void 0,(function(){var i,o,s,a,u,c;return fs(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return hs(this,void 0,void 0,(function(){var i,o,s;return fs(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Wm(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Fv(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Wm(t.localStore,e,!0)];case 1:return i=l.sent(),o=new bv(e,i.Bn),s=o._o(i.documents),a=hd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Fv(t,n,u.To),c=new wv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Sv(t,e){return hs(this,void 0,void 0,(function(){var n,r,i;return fs(this,(function(o){switch(o.label){case 0:return n=Vl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!af(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Gm(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Mg(n.remoteStore,r.targetId),Pv(n,r.targetId)})).catch(pm)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Pv(n,r.targetId),[4,Gm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function kv(t,e,n){return hs(this,void 0,void 0,(function(){var r,i,o,s;return fs(this,(function(a){switch(a.label){case 0:r=Zv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=Vl(u),f=zl.now(),d=c.reduce((function(t,e){return t.add(e.key)}),ad()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,d).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=Pf(o,l.get(o.key));null!=s&&n.push(new Uf(o.key,s,Ah(s.value.mapValue),Nf.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Xf(Bl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,jv(r,i.changes)];case 3:return a.sent(),[4,$g(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=ov(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function Av(t,e){return hs(this,void 0,void 0,(function(){var n,r;return fs(this,(function(i){switch(i.label){case 0:n=Vl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Km(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Fl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Fl(r.bo):t.removedDocuments.size>0&&(Fl(r.bo),r.bo=!1))})),[4,jv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,pm(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Cv(t,e,n){var r=Vl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Vl(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&mv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xv(t,e,n){return hs(this,void 0,void 0,(function(){var r,i,o,s,a,u;return fs(this,(function(c){switch(c.label){case 0:return(r=Vl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Xf(hh.comparator)).insert(o,Ch.newNoDocument(o,Hl.min())),a=ad().add(o),u=new ld(Hl.min(),new Map,new Zf(Bl),s,a),[4,Av(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Uv(r),[3,4];case 2:return[4,Gm(r.localStore,e,!1).then((function(){return Pv(r,e,n)})).catch(pm)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Nv(t,e){return hs(this,void 0,void 0,(function(){var n,r,i;return fs(this,(function(o){switch(o.label){case 0:n=Vl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Bm(n.localStore,e)];case 2:return i=o.sent(),Rv(n,r,null),Lv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,jv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,pm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dv(t,e,n){return hs(this,void 0,void 0,(function(){var r,i;return fs(this,(function(o){switch(o.label){case 0:r=Vl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=Vl(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return Fl(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),Rv(r,e,n),Lv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,jv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,pm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function Ov(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o,s;return fs(this,(function(a){switch(a.label){case 0:Bg((n=Vl(t)).remoteStore)||Ol("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=Vl(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=ov(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function Lv(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Rv(t,e,n){var r=Vl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Pv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Mv(t,e)}))}function Mv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Mg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Uv(t))}function Fv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof vv?(t.No.addReference(o.key,e),Vv(t,o)):o instanceof yv?(Ol("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Mv(t,o.key)):Ml()}}function Vv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ol("SyncEngine","New document in limbo: "+n),t.So.add(r),Uv(t))}function Uv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new hh(Xl.fromString(e)),r=t.ko.next();t.Co.set(r,new Iv(n)),t.Do=t.Do.insert(n,r),Pg(t.remoteStore,new Pp(of(Yh(n.path)),r,2,Al.o))}}function jv(t,e,n){return hs(this,void 0,void 0,(function(){var r,i,o,s;return fs(this,(function(a){switch(a.label){case 0:return r=Vl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Mm.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return fs(this,(function(h){switch(h.label){case 0:n=Vl(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ip.forEach(e,(function(e){return Ip.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Ip.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!kp(r=h.sent()))throw r;return Ol("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Bv(t,e){return hs(this,void 0,void 0,(function(){var n,r;return fs(this,(function(i){switch(i.label){case 0:return(n=Vl(t)).currentUser.isEqual(e)?[3,3]:(Ol("SyncEngine","User change. New user:",e.toKey()),[4,jm(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new xl(Cl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,jv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function qv(t,e){var n=Vl(t),r=n.Co.get(e);if(r&&r.bo)return ad().add(r.key);var i=ad(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Kv(t,e){return hs(this,void 0,void 0,(function(){var n,r,i;return fs(this,(function(o){switch(o.label){case 0:return[4,Wm((n=Vl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Fv(n,e.targetId,i.To),i)]}}))}))}function zv(t){return hs(this,void 0,void 0,(function(){var e;return fs(this,(function(n){return[2,Qm((e=Vl(t)).localStore).then((function(t){return jv(e,t)}))]}))}))}function Hv(t,e,n,r){return hs(this,void 0,void 0,(function(){var i,o;return fs(this,(function(s){switch(s.label){case 0:return[4,(a=(i=Vl(t)).localStore,u=e,c=Vl(a),l=Vl(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):Ip.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,$g(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Rv(i,e,r||null),Lv(i,e),function(t,e){Vl(Vl(t)._n).Gt(e)}(i.localStore,e)):Ml(),s.label=4;case 4:return[4,jv(i,o)];case 5:return s.sent(),[3,7];case 6:Ol("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function Gv(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return fs(this,(function(l){switch(l.label){case 0:return Jv(n=Vl(t)),Zv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Wv(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,ev(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],Pg(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Pv(n,e),Gm(n.localStore,e,!0)})),Mg(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Wv(n,u)];case 5:return l.sent(),(h=Vl(n)).Co.forEach((function(t,e){Mg(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new Xf(hh.comparator),n.$o=!1,[4,ev(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function Wv(t,e,n){return hs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,m;return fs(this,(function(g){switch(g.label){case 0:n=Vl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Hm(n.localStore,of(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Kv(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,$m(n.localStore,a)];case 8:return m=g.sent(),[4,Hm(n.localStore,m)];case 9:return u=g.sent(),[4,_v(n,$v(m),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function $v(t){return Xh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qv(t){var e=Vl(t);return Vl(Vl(e.localStore).persistence).fn()}function Xv(t,e,n,r){return hs(this,void 0,void 0,(function(){var i,o,s;return fs(this,(function(a){switch(a.label){case 0:return(i=Vl(t)).$o?(Ol("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qm(i.localStore)];case 3:return o=a.sent(),s=ld.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,jv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Gm(i.localStore,e,!0)];case 6:return a.sent(),Pv(i,e,r),[3,8];case 7:Ml(),a.label=8;case 8:return[2]}}))}))}function Yv(t,e,n){return hs(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return fs(this,(function(d){switch(d.label){case 0:if(!(r=Jv(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(Ol("SyncEngine","Adding an already active target "+s),[3,5]):[4,$m(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,Hm(r.localStore,a)];case 3:return u=d.sent(),[4,_v(r,$v(a),u.targetId,!1)];case 4:d.sent(),Pg(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return fs(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Gm(r.localStore,t,!1).then((function(){Mg(r.remoteStore,t),Pv(r,t)})).catch(pm)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Jv(t){var e=Vl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Av.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xv.bind(null,e),e.vo._r=dv.bind(null,e.eventManager),e.vo.Mo=pv.bind(null,e.eventManager),e}function Zv(t){var e=Vl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dv.bind(null,e),e}var ty=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return hs(this,void 0,void 0,(function(){return fs(this,(function(e){switch(e.label){case 0:return this.R=Sg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Um(this.persistence,new Fm,t.initialUser,this.R)},t.prototype.qo=function(t){return new ig(sg.bs,this.R)},t.prototype.Bo=function(t){return new vg},t.prototype.terminate=function(){return hs(this,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return ls(e,t),e.prototype.initialize=function(e){return hs(this,void 0,void 0,(function(){return fs(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Xm(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Zv(this.Qo.syncEngine)];case 4:return n.sent(),[4,$g(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Um(this.persistence,new Fm,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new vm(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Rm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?em.withCacheSize(this.cacheSizeBytes):em.DEFAULT;return new Dm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Tg(),_g(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new vg},e}(ty),ny=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return ls(e,t),e.prototype.initialize=function(e){return hs(this,void 0,void 0,(function(){var n,r=this;return fs(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof gg?(this.sharedClientState.syncEngine={ui:Hv.bind(null,n),ai:Xv.bind(null,n),hi:Yv.bind(null,n),fn:Qv.bind(null,n),ci:zv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return hs(r,void 0,void 0,(function(){return fs(this,(function(e){switch(e.label){case 0:return[4,Gv(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Tg();if(!gg.yt(e))throw new xl(Cl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new gg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ey),ry=function(){function t(){}return t.prototype.initialize=function(t,e){return hs(this,void 0,void 0,(function(){var n=this;return fs(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Cv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Bv.bind(null,this.syncEngine),[4,ev(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new lv},t.prototype.createDatastore=function(t){var e,n,r=Sg(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new Eg(e));return n=t.credentials,new Ng(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Cv(s.syncEngine,t,0)},o=bg.yt()?new bg:new yg,new Og(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new Ev(n,r,i,o,s,a),u&&(c.$o=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return hs(this,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return e=Vl(t),Ol("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Rg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),iy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),oy=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return hs(this,void 0,void 0,(function(){var e,n=this;return fs(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new xl(Cl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return hs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return fs(this,(function(u){switch(u.label){case 0:return n=Vl(t),r=Od(n.R)+"/documents",i={documents:e.map((function(t){return Cd(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){Fl(!!e.found),e.found.name,e.found.updateTime;var n=xd(t,e.found.name),r=Sd(e.found.updateTime),i=new kh({mapValue:{fields:e.found.fields}});return Ch.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){Fl(!!e.missing),Fl(!!e.readTime);var n=xd(t,e.missing),r=Sd(e.readTime);return Ch.newNoDocument(n,r)}(e,r):Ml());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Fl(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Hf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return hs(this,void 0,void 0,(function(){var t,e=this;return fs(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=hh.fromPath(n);e.mutations.push(new Gf(r,e.precondition(r)))})),[4,function(t,e){return hs(this,void 0,void 0,(function(){var n,r,i;return fs(this,(function(o){switch(o.label){case 0:return n=Vl(t),r=Od(n.R)+"/documents",i={writes:e.map((function(t){return Pd(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ml();e=Hl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new xl(Cl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Nf.updateTime(e):Nf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Hl.min()))throw new xl(Cl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nf.updateTime(e)}return Nf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),sy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new kg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return hs(t,void 0,void 0,(function(){var t,e,n=this;return fs(this,(function(r){return t=new oy(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!uh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$f(e)}return!1},t}(),ay=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ag.UNAUTHENTICATED,this.clientId=jl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return hs(r,void 0,void 0,(function(){return fs(this,(function(e){switch(e.label){case 0:return Ol("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return hs(this,void 0,void 0,(function(){return fs(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new xl(Cl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new wp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return hs(t,void 0,void 0,(function(){var t,n;return fs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=ov(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function uy(t,e){return hs(this,void 0,void 0,(function(){var n,r,i=this;return fs(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ol("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return hs(i,void 0,void 0,(function(){return fs(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,jm(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function cy(t,e){return hs(this,void 0,void 0,(function(){var n,r;return fs(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ly(t)];case 1:return n=i.sent(),Ol("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return hs(this,void 0,void 0,(function(){var n,r;return fs(this,(function(i){switch(i.label){case 0:return(n=Vl(t)).asyncQueue.verifyOperationInProgress(),Ol("RemoteStore","RemoteStore received new credentials"),r=Bg(n),n.Or.add(3),[4,Rg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Lg(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function ly(t){return hs(this,void 0,void 0,(function(){return fs(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ol("FirestoreClient","Using default OfflineComponentProvider"),[4,uy(t,new ty)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function hy(t){return hs(this,void 0,void 0,(function(){return fs(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ol("FirestoreClient","Using default OnlineComponentProvider"),[4,cy(t,new ry)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function fy(t){return ly(t).then((function(t){return t.persistence}))}function dy(t){return ly(t).then((function(t){return t.localStore}))}function py(t){return hy(t).then((function(t){return t.remoteStore}))}function my(t){return hy(t).then((function(t){return t.syncEngine}))}function gy(t){return hs(this,void 0,void 0,(function(){var e,n;return fs(this,(function(r){switch(r.label){case 0:return[4,hy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Tv.bind(null,e.syncEngine),n.onUnlisten=Sv.bind(null,e.syncEngine),n)]}}))}))}function vy(t,e,n){var r=this;void 0===n&&(n={});var i=new wp;return t.asyncQueue.enqueueAndForget((function(){return hs(r,void 0,void 0,(function(){var r;return fs(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new iy({next:function(o){e.enqueueAndForget((function(){return fv(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new xl(Cl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new xl(Cl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new gv(Yh(n.path),o,{includeMetadataChanges:!0,so:!0});return hv(t,s)},[4,gy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function yy(t,e,n){var r=this;void 0===n&&(n={});var i=new wp;return t.asyncQueue.enqueueAndForget((function(){return hs(r,void 0,void 0,(function(){var r;return fs(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new iy({next:function(n){e.enqueueAndForget((function(){return fv(t,s)})),n.fromCache&&"server"===r.source?i.reject(new xl(Cl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new gv(n,o,{includeMetadataChanges:!0,so:!0});return hv(t,s)},[4,gy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var by=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},wy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Iy=new Map,Ey=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ty=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(ag.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_y=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Sy=function(){function t(t){var e=this;this.currentUser=ag.UNAUTHENTICATED,this.oc=new wp,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Ol("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Ol("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Ol("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Fl("string"==typeof n.accessToken),new Ey(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return hs(n,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Fl(null===t||"string"==typeof t),new ag(t)},t}(),ky=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ag.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Ay=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new ky(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(ag.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e,n){if(!n)throw new xl(Cl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xl(Cl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ny(t,e,n,r){if(!0===e&&!0===r)throw new xl(Cl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dy(t){if(!hh.isDocumentKey(t))throw new xl(Cl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Oy(t){if(hh.isDocumentKey(t))throw new xl(Cl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ly(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ml()}function Ry(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xl(Cl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ly(t);throw new xl(Cl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Py(t,e){if(e<=0)throw new xl(Cl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var My=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xl(Cl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xl(Cl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ny("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Fy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new My({}),this._settingsFrozen=!1,t instanceof wy?(this._databaseId=t,this._credentials=new Ty):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xl(Cl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wy(t.options.projectId)}(t),this._credentials=new Sy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new xl(Cl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new xl(Cl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new My(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ty;switch(t.type){case"gapi":var e=t.client;return Fl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ay(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xl(Cl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Iy.get(this))&&(Ol("ComponentProvider","Removing Datastore"),Iy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new jy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Uy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),jy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Yh(r))||this)._path=r,i.type="collection",i}return ls(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Vy(this.firestore,null,new hh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Uy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Co(t),Cy("collection","path",e),t instanceof Fy)return Oy(n=Xl.fromString.apply(Xl,ds([e],r))),new jy(t,null,n);if(!(t instanceof Vy||t instanceof jy))throw new xl(Cl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Oy(n=Xl.fromString.apply(Xl,ds([t.path],r)).child(Xl.fromString(e))),new jy(t.firestore,null,n)}function qy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Co(t),1===arguments.length&&(e=jl.u()),Cy("doc","path",e),t instanceof Fy)return Dy(n=Xl.fromString.apply(Xl,ds([e],r))),new Vy(t,null,new hh(n));if(!(t instanceof Vy||t instanceof jy))throw new xl(Cl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dy(n=t._path.child(Xl.fromString.apply(Xl,ds([e],r)))),new Vy(t.firestore,t instanceof jy?t.converter:null,new hh(n))}function Ky(t,e){return t=Co(t),e=Co(e),(t instanceof Vy||t instanceof jy)&&(e instanceof Vy||e instanceof jy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zy(t,e){return t=Co(t),e=Co(e),t instanceof Uy&&e instanceof Uy&&t.firestore===e.firestore&&af(t._query,e._query)&&t.converter===e.converter}var Hy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new kg(this,"async_queue_retry"),this.Ic=function(){var e=_g();e&&Ol("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=_g();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=_g();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new wp;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return hs(this,void 0,void 0,(function(){var t,e=this;return fs(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!kp(t=n.sent()))throw t;return Ol("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Ll("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=iv.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Ml()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return hs(this,void 0,void 0,(function(){var t;return fs(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Gy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Hy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return ls(e,t),e.prototype._terminate=function(){return this._firestoreClient||Qy(this),this._firestoreClient.terminate()},e}(Fy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){return t._firestoreClient||Qy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qy(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new by(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));t._firestoreClient=new ay(t._credentials,t._queue,a)}function Xy(t,e,n){var r=this,i=new wp;return t.asyncQueue.enqueue((function(){return hs(r,void 0,void 0,(function(){var r;return fs(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,uy(t,n)];case 1:return o.sent(),[4,cy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===Cl.FAILED_PRECONDITION||s.code===Cl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function Yy(t){if(t._initialized||t._terminated)throw new xl(Cl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new xl(Cl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Zy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(th.fromBase64String(e))}catch(n){throw new xl(Cl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(th.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),tb=function(t){this._methodName=t},eb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new xl(Cl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xl(Cl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Bl(this._lat,t._lat)||Bl(this._long,t._long)},t}(),nb=/^__.*__$/,rb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Uf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Vf(t,this.data,e,this.fieldTransforms)},t}(),ib=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Uf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ml()}}var sb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return kb(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(ob(this.Nc)&&nb.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ab=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Sg(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new sb({Nc:t,methodName:e,qc:n,path:Jl.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ub(t){var e=t._freezeSettings(),n=Sg(t._databaseId);return new ab(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Eb("Data must be an object, but it was:",s,r);var a,u,c=wb(r,s);if(o.merge)a=new Zl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Tb(e,f[h],n);if(!s.contains(d))throw new xl(Cl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ab(l,d)||l.push(d)}a=new Zl(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new rb(new kh(c),a,u)}var lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(tb);function hb(t,e,n){return new sb({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype._toFieldTransform=function(t){return new Cf(t.path,new wf)},e.prototype.isEqual=function(t){return t instanceof e},e}(tb),db=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ls(e,t),e.prototype._toFieldTransform=function(t){var e=hb(this,t,!0),n=this.Kc.map((function(t){return bb(t,e)})),r=new If(n);return new Cf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(tb),pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ls(e,t),e.prototype._toFieldTransform=function(t){var e=hb(this,t,!0),n=this.Kc.map((function(t){return bb(t,e)})),r=new Tf(n);return new Cf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(tb),mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return ls(e,t),e.prototype._toFieldTransform=function(t){var e=new Sf(t.R,mf(t.R,this.Qc));return new Cf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(tb);function gb(t,e,n,r){var i=t.Uc(1,e,n);Eb("Data must be an object, but it was:",i,r);var o=[],s=kh.empty();Wl(r,(function(t,r){var a=Sb(e,t,n);r=Co(r);var u=i.Oc(a);if(r instanceof lb)o.push(a);else{var c=bb(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Zl(o);return new ib(s,a,i.fieldTransforms)}function vb(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Tb(e,r,n)],u=[i];if(o.length%2!=0)throw new xl(Cl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Tb(e,o[c])),u.push(o[c+1]);for(var l=[],h=kh.empty(),f=a.length-1;f>=0;--f)if(!Ab(l,a[f])){var d=a[f],p=u[f];p=Co(p);var m=s.Oc(d);if(p instanceof lb)l.push(d);else{var g=bb(p,m);null!=g&&(l.push(d),h.set(d,g))}}var v=new Zl(l);return new ib(h,v,s.fieldTransforms)}function yb(t,e,n,r){return void 0===r&&(r=!1),bb(n,t.Uc(r?4:3,e))}function bb(t,e){if(Ib(t=Co(t)))return Eb("Unsupported field value:",e,t),wb(t,e);if(t instanceof tb)return function(t,e){if(!ob(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=bb(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Co(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=zl.fromDate(t);return{timestampValue:Ed(e.R,n)}}if(t instanceof zl)return n=new zl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ed(e.R,n)};if(t instanceof eb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zy)return{bytesValue:Td(e.R,t._byteString)};if(t instanceof Vy){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:kd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Ly(t))}(t,e)}function wb(t,e){var n={};return $l(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(t,(function(t,r){var i=bb(r,e.Fc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ib(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof zl||t instanceof eb||t instanceof Zy||t instanceof Vy||t instanceof tb)}function Eb(t,e,n){if(!Ib(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=Ly(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}var i}function Tb(t,e,n){if((e=Co(e))instanceof Jy)return e._internalPath;if("string"==typeof e)return Sb(t,e);throw kb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _b=new RegExp("[~\\*/\\[\\]]");function Sb(t,e,n){if(e.search(_b)>=0)throw kb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Jy.bind.apply(Jy,ds([void 0],e.split(".")))))._internalPath}catch(kw){throw kb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function kb(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new xl(Cl.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ab(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Nb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Cb);function Nb(t,e){return"string"==typeof e?Sb(t,e):e instanceof Jy?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Db=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ob=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return ls(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Nb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Cb),Lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ob),Rb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Db(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Lb(n._firestore,n._userDataWriter,r.key,r,new Db(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xl(Cl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Lb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Db(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Lb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Db(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Pb(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Pb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ml()}}function Mb(t,e){return t instanceof Ob&&e instanceof Ob?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Rb&&e instanceof Rb&&t._firestore===e._firestore&&zy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){if(Zh(t)&&0===t.explicitOrderBy.length)throw new xl(Cl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vb=function(){};function Ub(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var jb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return ls(e,t),e.prototype._apply=function(t){var e,n,r,i=ub(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xl(Cl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Wb(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(Gb(r,t,h))}a={arrayValue:{values:u}}}else a=Gb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wb(s,o),a=yb(n,"where",s,"in"===o||"not-in"===o);var f=Rh.create(i,o,a);return function(t,e){if(e.g()){var n=ef(t);if(null!==n&&!n.isEqual(e.field))throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=tf(t);null!==r&&$b(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new xl(Cl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new xl(Cl.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Uy(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new Qh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(Vb),Bb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return ls(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hh(e,n);return function(t,e){if(null===tf(t)){var n=ef(t);null!==n&&$b(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Uy(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new Qh(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(Vb),qb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return ls(e,t),e.prototype._apply=function(t){return new Uy(t.firestore,t.converter,sf(t._query,this.Hc,this.Jc))},e}(Vb),Kb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return ls(e,t),e.prototype._apply=function(t){var e,n,r=Hb(t,this.type,this.Yc,this.Xc);return new Uy(t.firestore,t.converter,(e=t._query,n=r,new Qh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(Vb),zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return ls(e,t),e.prototype._apply=function(t){var e,n,r=Hb(t,this.type,this.Yc,this.Xc);return new Uy(t.firestore,t.converter,(e=t._query,n=r,new Qh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(Vb);function Hb(t,e,n,r){if(n[0]=Co(n[0]),n[0]instanceof Cb)return function(t,e,n,r,i){if(!r)throw new xl(Cl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=rf(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(bh(e,r.key));else{var c=r.data.field(u.field);if(oh(c))throw new xl(Cl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Kh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ub(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new xl(Cl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!nf(t)&&-1!==c.indexOf("/"))throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Xl.fromString(c));if(!hh.isDocumentKey(l))throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new hh(l);a.push(bh(e,h))}else{var f=yb(n,r,c);a.push(f)}}return new Kh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Gb(t,e,n){if("string"==typeof(n=Co(n))){if(""===n)throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!nf(e)&&-1!==n.indexOf("/"))throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Xl.fromString(n));if(!hh.isDocumentKey(r))throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bh(t,new hh(r))}if(n instanceof Vy)return bh(t,n._key);throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ly(n)+".")}function Wb(t,e){if(!Array.isArray(t)||0===t.length)throw new xl(Cl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new xl(Cl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $b(t,e,n){if(!n.isEqual(e))throw new xl(Cl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),fh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ih(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ml()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Wl(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new eb(rh(t.latitude),rh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=sh(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ah(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=nh(t);return new zl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Xl.fromString(t);Fl(Xd(n));var r=new wy(n.get(1),n.get(3)),i=new hh(n.popFirst(5));return r.isEqual(e)||Ll("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Yb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ls(e,t),e.prototype.convertBytes=function(t){return new Zy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vy(this.firestore,null,e)},e}(Qb),Jb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ub(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Zb(t,this._firestore),i=Xb(r.converter,e,n),o=cb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Nf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Zb(t,this._firestore);return o="string"==typeof(e=Co(e))||e instanceof Jy?vb(this._dataReader,"WriteBatch.update",s._key,e,n,r):gb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Nf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Zb(t,this._firestore);return this._mutations=this._mutations.concat(new Hf(e._key,Nf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new xl(Cl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e){if((t=Co(t)).firestore!==e)throw new xl(Cl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ls(e,t),e.prototype.convertBytes=function(t){return new Zy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vy(this.firestore,null,e)},e}(Qb);function ew(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ry(t,Vy);var o=Ry(t.firestore,Wy),s=ub(o);return rw(o,[("string"==typeof(e=Co(e))||e instanceof Jy?vb(s,"updateDoc",t._key,e,n,r):gb(s,"updateDoc",t._key,e)).toMutation(t._key,Nf.exists(!0))])}function nw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Co(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Gy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Gy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Vy)c=Ry(t.firestore,Wy),l=Yh(t._key.path),u={next:function(e){i[a]&&i[a](iw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ry(t,Uy);c=Ry(d.firestore,Wy),l=d._query;var p=new tw(c);u={next:function(t){i[a]&&i[a](new Rb(c,p,d,t))},error:i[a+1],complete:i[a+2]},Fb(t._query)}return function(t,e,n,r){var i=this,o=new iy(r),s=new gv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return hs(i,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return e=hv,[4,gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return hs(i,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return e=fv,[4,gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}($y(c),l,h,u)}function rw(t,e){return function(t,e){var n=this,r=new wp;return t.asyncQueue.enqueueAndForget((function(){return hs(n,void 0,void 0,(function(){var n;return fs(this,(function(i){switch(i.label){case 0:return n=kv,[4,my(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}($y(t),e)}function iw(t,e,n){var r=n.docs.get(e._key),i=new tw(t);return new Ob(t,i,e._key,r,new Db(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ow=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return ls(e,t),e.prototype.get=function(e){var n=this,r=Zb(e,this._firestore),i=new tw(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Ob(n._firestore,i,r._key,t._document,new Db(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ub(t)}return t.prototype.get=function(t){var e=this,n=Zb(t,this._firestore),r=new Yb(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Ml();var i=t[0];if(i.isFoundDocument())return new Cb(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Cb(e._firestore,r,n._key,null,n.converter);throw Ml()}))},t.prototype.set=function(t,e,n){var r=Zb(t,this._firestore),i=Xb(r.converter,e,n),o=cb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Zb(t,this._firestore);return o="string"==typeof(e=Co(e))||e instanceof Jy?vb(this._dataReader,"Transaction.update",s._key,e,n,r):gb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Zb(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){if("undefined"==typeof Uint8Array)throw new xl(Cl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function aw(){if("undefined"==typeof atob)throw new xl(Cl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var uw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return aw(),new t(Zy.fromBase64String(e))},t.fromUint8Array=function(e){return sw(),new t(Zy.fromUint8Array(e))},t.prototype.toBase64=function(){return aw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return sw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),cw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Yy(t=Ry(t,Wy));var n=$y(t),r=t._freezeSettings(),i=new ry;return Xy(n,i,new ey(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Yy(t=Ry(t,Wy));var e=$y(t),n=t._freezeSettings(),r=new ry;return Xy(e,r,new ny(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new xl(Cl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new wp;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return hs(e,void 0,void 0,(function(){var e;return fs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return hs(this,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return Tp.yt()?(e=t+"main",[4,Tp.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Rm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),lw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof wy||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Rl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Ry(t,Fy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Rl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=po({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mo.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),mo.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new xl(Cl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new _y(new Ey(o,new ag(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return hs(e,void 0,void 0,(function(){var e,n;return fs(this,(function(r){switch(r.label){case 0:return[4,fy(t)];case 1:return e=r.sent(),[4,py(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=Vl(i),o.Or.delete(0),Lg(o))]}var i,o}))}))}))}($y(Ry(this._delegate,Wy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return hs(e,void 0,void 0,(function(){var e,n;return fs(this,(function(r){switch(r.label){case 0:return[4,fy(t)];case 1:return e=r.sent(),[4,py(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return hs(this,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return(e=Vl(t)).Or.add(0),[4,Rg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}($y(Ry(this._delegate,Wy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ny("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new wp;return t.asyncQueue.enqueueAndForget((function(){return hs(e,void 0,void 0,(function(){var e;return fs(this,(function(r){switch(r.label){case 0:return e=Ov,[4,my(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}($y(Ry(this._delegate,Wy)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new iy(e);return t.asyncQueue.enqueueAndForget((function(){return hs(n,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vl(t).Gr.add(e),e.next()},[4,gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return hs(n,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vl(t).Gr.delete(e)},[4,gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}($y(e=Ry(e,Wy)),Gy(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new xl(Cl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _w(this,By(this._delegate,t))}catch(e){throw gw(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new mw(this,qy(this._delegate,t))}catch(e){throw gw(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Iw(this,function(t,e){if(t=Ry(t,Fy),Cy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xl(Cl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Uy(t,null,(n=e,new Qh(Xl.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw gw(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new wp;return t.asyncQueue.enqueueAndForget((function(){return hs(n,void 0,void 0,(function(){var n;return fs(this,(function(i){switch(i.label){case 0:return[4,(o=t,hy(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new sy(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}($y(e=this._delegate),(function(r){return function(e){return t(new fw(n,e))}(new ow(e,r))}))},t.prototype.batch=function(){var t=this;return $y(this._delegate),new dw(new Jb(this._delegate,(function(e){return rw(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new xl(Cl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new xl(Cl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),hw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ls(e,t),e.prototype.convertBytes=function(t){return new uw(new Zy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return mw.eu(e,this.firestore,null)},e}(Qb);var fw=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new hw(t)}return t.prototype.get=function(t){var e=this,n=Sw(t);return this._delegate.get(n).then((function(t){return new bw(e._firestore,new Ob(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Sw(t);return n?(xy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Sw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ds([s,e,n],i)),this},t.prototype.delete=function(t){var e=Sw(t);return this._delegate.delete(e),this},t}(),dw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Sw(t);return n?(xy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Sw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ds([s,e,n],i)),this},t.prototype.delete=function(t){var e=Sw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),pw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Lb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ww(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new hw(e),n),i.set(n,o)),o},t}();pw.su=new WeakMap;var mw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hw(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new xl(Cl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Vy(n._delegate,r,new hh(e)))},t.eu=function(e,n,r){return new t(n,new Vy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _w(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _w(this.firestore,By(this._delegate,t))}catch(e){throw gw(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Co(t))instanceof Vy&&Ky(this._delegate,t)},t.prototype.set=function(t,e){e=xy("DocumentReference.set",e);try{return function(t,e,n){t=Ry(t,Vy);var r=Ry(t.firestore,Wy),i=Xb(t.converter,e,n);return rw(r,[cb(ub(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Nf.none())])}(this._delegate,t,e)}catch(n){throw gw(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ew(this._delegate,t):ew.apply(void 0,ds([this._delegate,t,e],n))}catch(i){throw gw(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return rw(Ry((t=this._delegate).firestore,Wy),[new Hf(t._key,Nf.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vw(e),i=yw(e,(function(e){return new bw(t.firestore,new Ob(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return nw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ry(t,Vy);var e=Ry(t.firestore,Wy),n=$y(e),r=new tw(e);return function(t,e){var n=this,r=new wp;return t.asyncQueue.enqueueAndForget((function(){return hs(n,void 0,void 0,(function(){var n;return fs(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return hs(this,void 0,void 0,(function(){var r,i;return fs(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=Vl(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new xl(Cl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ov(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,dy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Ob(e,r,t._key,n,new Db(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ry(t,Vy);var e=Ry(t.firestore,Wy);return vy($y(e),t._key,{source:"server"}).then((function(n){return iw(e,t,n)}))}(this._delegate):function(t){t=Ry(t,Vy);var e=Ry(t.firestore,Wy);return vy($y(e),t._key).then((function(n){return iw(e,t,n)}))}(this._delegate)).then((function(t){return new bw(e.firestore,new Ob(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(pw.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function gw(t,e,n){return t.message=t.message.replace(e,n),t}function vw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Gy(r))return r}return{}}function yw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Gy(t[0])?t[0]:Gy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new mw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Mb(this._delegate,t._delegate)},t}(),ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(bw),Iw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ub(this._delegate,(o=r,s=i=n,a=Nb("where",e),new jb(a,s,o))))}catch(i){throw gw(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ub(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Nb("orderBy",t);return new Bb(r,n)}(e,n)))}catch(r){throw gw(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ub(this._delegate,(Py("limit",n=e),new qb("limit",n,"F"))))}catch(r){throw gw(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ub(this._delegate,(Py("limitToLast",n=e),new qb("limitToLast",n,"L"))))}catch(r){throw gw(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ub(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kb("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw gw(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ub(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kb("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw gw(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ub(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw gw(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ub(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw gw(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return zy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ry(t,Uy);var e=Ry(t.firestore,Wy),n=$y(e),r=new tw(e);return function(t,e){var n=this,r=new wp;return t.asyncQueue.enqueueAndForget((function(){return hs(n,void 0,void 0,(function(){var n;return fs(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return hs(this,void 0,void 0,(function(){var r,i,o,s,a;return fs(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Wm(t,e,!0)];case 1:return a=u.sent(),r=new bv(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=ov(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,dy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Rb(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ry(t,Uy);var e=Ry(t.firestore,Wy),n=$y(e),r=new tw(e);return yy(n,t._query,{source:"server"}).then((function(n){return new Rb(e,r,t,n)}))}(this._delegate):function(t){t=Ry(t,Uy);var e=Ry(t.firestore,Wy),n=$y(e),r=new tw(e);return Fb(t._query),yy(n,t._query).then((function(n){return new Rb(e,r,t,n)}))}(this._delegate)).then((function(t){return new Tw(e.firestore,new Rb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vw(e),i=yw(e,(function(e){return new Tw(t.firestore,new Rb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return nw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(pw.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Ew=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ww(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Tw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Iw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new ww(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Ew(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new ww(n._firestore,r))}))},t.prototype.isEqual=function(t){return Mb(this._delegate,t._delegate)},t}(),_w=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return ls(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new mw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new mw(this.firestore,void 0===t?qy(this._delegate):qy(this._delegate,t))}catch(e){throw gw(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=Ry(e.firestore,Wy),i=qy(e),o=Xb(e.converter,n),rw(r,[cb(ub(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,Nf.exists(!1))]).then((function(){return i}))).then((function(t){return new mw(s.firestore,t)}))},e.prototype.isEqual=function(t){return Ky(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(pw.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(Iw);function Sw(t){return Ry(t,Vy)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw,Aw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Jy.bind.apply(Jy,ds([void 0],t)))}return t.documentId=function(){return new t(Jl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Co(t))instanceof Jy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Cw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new fb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new lb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new db("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pb("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new mb("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),xw={Firestore:lw,GeoPoint:eb,Timestamp:zl,Blob:uw,Transaction:fw,WriteBatch:dw,DocumentReference:mw,DocumentSnapshot:bw,Query:Iw,QueryDocumentSnapshot:ww,QuerySnapshot:Tw,CollectionReference:_w,FieldPath:Aw,FieldValue:Cw,setLogLevel:function(t){var e;e=t,Nl.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(kw=us).INTERNAL.registerComponent(new Ro("firestore",(function(t){return function(t,e){return new lw(t,new Wy(t,e),new cw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},xw))),kw.registerVersion("@firebase/firestore","2.3.9");var Nw={name:"ProgressBar",props:{value:Number,mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},computed:{containerClass(){return["p-progressbar p-component",{"p-progressbar-determinate":this.determinate,"p-progressbar-indeterminate":this.indeterminate}]},progressStyle(){return{width:this.value+"%",display:"block"}},indeterminate(){return"indeterminate"===this.mode},determinate(){return"determinate"===this.mode}}};const Dw={key:1,class:"p-progressbar-label"},Ow={key:2,class:"p-progressbar-indeterminate-container"},Lw=Vr("div",{class:"p-progressbar-value p-progressbar-value-animate"},null,-1);!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-progressbar {\n    position: relative;\n    overflow: hidden;\n}\n.p-progressbar-determinate .p-progressbar-value {\n    height: 100%;\n    width: 0%;\n    position: absolute;\n    display: none;\n    border: 0 none;\n}\n.p-progressbar-determinate .p-progressbar-value-animate {\n    -webkit-transition: width 1s ease-in-out;\n    transition: width 1s ease-in-out;\n}\n.p-progressbar-determinate .p-progressbar-label {\n    text-align: center;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    font-weight: bold;\n}\n.p-progressbar-indeterminate .p-progressbar-value::before {\n      content: '';\n      position: absolute;\n      background-color: inherit;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      will-change: left, right;\n      -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n              animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n}\n.p-progressbar-indeterminate .p-progressbar-value::after {\n    content: '';\n    position: absolute;\n    background-color: inherit;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    will-change: left, right;\n    -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n            animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n    -webkit-animation-delay: 1.15s;\n            animation-delay: 1.15s;\n}\n@-webkit-keyframes p-progressbar-indeterminate-anim {\n0% {\n    left: -35%;\n    right: 100%;\n}\n60% {\n    left: 100%;\n    right: -90%;\n}\n100% {\n    left: 100%;\n    right: -90%;\n}\n}\n@keyframes p-progressbar-indeterminate-anim {\n0% {\n    left: -35%;\n    right: 100%;\n}\n60% {\n    left: 100%;\n    right: -90%;\n}\n100% {\n    left: 100%;\n    right: -90%;\n}\n}\n@-webkit-keyframes p-progressbar-indeterminate-anim-short {\n0% {\n    left: -200%;\n    right: 100%;\n}\n60% {\n    left: 107%;\n    right: -8%;\n}\n100% {\n    left: 107%;\n    right: -8%;\n}\n}\n@keyframes p-progressbar-indeterminate-anim-short {\n0% {\n    left: -200%;\n    right: 100%;\n}\n60% {\n    left: 107%;\n    right: -8%;\n}\n100% {\n    left: 107%;\n    right: -8%;\n}\n}\n"),Nw.render=function(t,e,n,r,i,o){return xr(),Or("div",{role:"progressbar",class:o.containerClass,"aria-valuemin":"0","aria-valuenow":n.value,"aria-valuemax":"100"},[o.determinate?(xr(),Or("div",{key:0,class:"p-progressbar-value p-progressbar-value-animate",style:o.progressStyle},null,4)):Br("",!0),o.determinate&&n.value&&n.showValue?(xr(),Or("div",Dw,[Wr(t.$slots,"default",{},(()=>[jr(p(n.value+"%"),1)]))])):Br("",!0),o.indeterminate?(xr(),Or("div",Ow,[Lw])):Br("",!0)],10,["aria-valuenow"])};var Rw={name:"Message",emits:["close"],props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3}},timeout:null,data:()=>({visible:!0}),mounted(){this.sticky||setTimeout((()=>{this.visible=!1}),this.life)},methods:{close(t){this.visible=!1,this.$emit("close",t)}},computed:{containerClass(){return"p-message p-component p-message-"+this.severity},iconClass(){return["p-message-icon pi",{"pi-info-circle":"info"===this.severity,"pi-check":"success"===this.severity,"pi-exclamation-triangle":"warn"===this.severity,"pi-times-circle":"error"===this.severity}]}},directives:{ripple:ro}};const Pw={class:"p-message-wrapper"},Mw={class:"p-message-text"},Fw=Vr("i",{class:"p-message-close-icon pi pi-times"},null,-1);!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-message-wrapper {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-message-close {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-message-close.p-link {\n    margin-left: auto;\n    overflow: hidden;\n    position: relative;\n}\n.p-message-enter-from {\n    opacity: 0;\n}\n.p-message-enter-active {\n    -webkit-transition: opacity .3s;\n    transition: opacity .3s;\n}\n.p-message.p-message-leave-from {\n    max-height: 1000px;\n}\n.p-message.p-message-leave-to {\n    max-height: 0;\n    opacity: 0;\n    margin: 0 !important;\n}\n.p-message-leave-active {\n    overflow: hidden;\n    -webkit-transition: max-height .3s cubic-bezier(0, 1, 0, 1), opacity .3s, margin .15s;\n    transition: max-height .3s cubic-bezier(0, 1, 0, 1), opacity .3s, margin .15s;\n}\n.p-message-leave-active .p-message-close {\n    display: none;\n}\n"),Rw.render=function(t,e,n,r,i,o){const s=wr("ripple");return xr(),Or(Ni,{name:"p-message",appear:""},{default:Ge((()=>[nr(Vr("div",{class:o.containerClass,role:"alert"},[Vr("div",Pw,[Vr("span",{class:o.iconClass},null,2),Vr("div",Mw,[Wr(t.$slots,"default")]),n.closable?nr((xr(),Or("button",{key:0,class:"p-message-close p-link",onClick:e[1]||(e[1]=t=>o.close(t)),type:"button"},[Fw],512)),[[s]]):Br("",!0)])],2),[[zi,i.visible]])])),_:3})};var Vw={name:"FileUpload",emits:["select","uploader","before-upload","progress","upload","error","before-send","clear","remove"],props:{name:{type:String,default:null},url:{type:String,default:null},mode:{type:String,default:"advanced"},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},disabled:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},maxFileSize:{type:Number,default:null},invalidFileSizeMessage:{type:String,default:"{0}: Invalid file size, file size should be smaller than {1}."},invalidFileTypeMessage:{type:String,default:"{0}: Invalid file type, allowed file types: {1}."},fileLimit:{type:Number,default:null},invalidFileLimitMessage:{type:String,default:"Maximum number of files exceeded, limit is {0} at most."},withCredentials:{type:Boolean,default:!1},previewWidth:{type:Number,default:50},chooseLabel:{type:String,default:null},uploadLabel:{type:String,default:null},cancelLabel:{type:String,default:null},customUpload:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0}},duplicateIEEvent:!1,data:()=>({uploadedFileCount:0,files:[],messages:[],focused:!1,progress:null}),methods:{onFileSelect(t){if("drop"!==t.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.messages=[],this.files=this.files||[];let e=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let n of e)this.isFileSelected(n)||this.validate(n)&&(this.isImage(n)&&(n.objectURL=window.URL.createObjectURL(n)),this.files.push(n));this.$emit("select",{originalEvent:t,files:this.files}),this.fileLimit&&this.checkFileLimit(),this.auto&&this.hasFiles&&!this.isFileLimitExceeded()&&this.upload(),"drop"!==t.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()},choose(){this.$refs.fileInput.click()},upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("uploader",{files:this.files});else{let t=new XMLHttpRequest,e=new FormData;this.$emit("before-upload",{xhr:t,formData:e});for(let n of this.files)e.append(this.name,n,n.name);t.upload.addEventListener("progress",(t=>{t.lengthComputable&&(this.progress=Math.round(100*t.loaded/t.total)),this.$emit("progress",{originalEvent:t,progress:this.progress})})),t.onreadystatechange=()=>{4===t.readyState&&(this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("upload",{xhr:t,files:this.files})):this.$emit("error",{xhr:t,files:this.files}),this.clear())},t.open("POST",this.url,!0),this.$emit("before-send",{xhr:t,formData:e}),t.withCredentials=this.withCredentials,t.send(e)}},clear(){this.files=[],this.messages=null,this.$emit("clear"),this.isAdvanced&&this.clearInputElement()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},isFileSelected(t){if(this.files&&this.files.length)for(let e of this.files)if(e.name+e.type+e.size===t.name+t.type+t.size)return!0;return!1},isIE11:()=>!!window.MSInputMethodContext&&!!document.documentMode,validate(t){return this.accept&&!this.isFileTypeValid(t)?(this.messages.push(this.invalidFileTypeMessage.replace("{0}",t.name).replace("{1}",this.accept)),!1):!(this.maxFileSize&&t.size>this.maxFileSize)||(this.messages.push(this.invalidFileSizeMessage.replace("{0}",t.name).replace("{1}",this.formatSize(this.maxFileSize))),!1)},isFileTypeValid(t){let e=this.accept.split(",").map((t=>t.trim()));for(let n of e){if(this.isWildcard(n)?this.getTypeClass(t.type)===this.getTypeClass(n):t.type==n||this.getFileExtension(t).toLowerCase()===n.toLowerCase())return!0}return!1},getTypeClass:t=>t.substring(0,t.indexOf("/")),isWildcard:t=>-1!==t.indexOf("*"),getFileExtension:t=>"."+t.name.split(".").pop(),isImage:t=>/^image\//.test(t.type),onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())},onDragOver(t){this.disabled||(Qi.addClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault())},onDragLeave(){this.disabled||Qi.removeClass(this.$refs.content,"p-fileupload-highlight")},onDrop(t){if(!this.disabled){Qi.removeClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();const e=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||e&&1===e.length)&&this.onFileSelect(t)}},onBasicUploaderClick(){this.hasFiles?this.upload():this.$refs.fileInput.click()},remove(t){this.clearInputElement();let e=this.files.splice(t,1)[0];this.files=[...this.files],this.$emit("remove",{file:e,files:this.files})},clearInputElement(){this.$refs.fileInput.value=""},clearIEInput(){this.$refs.fileInput&&(this.duplicateIEEvent=!0,this.$refs.fileInput.value="")},formatSize(t){if(0===t)return"0 B";let e=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,e)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]},isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focused&&(this.focused=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount},checkFileLimit(){this.isFileLimitExceeded()&&this.messages.push(this.invalidFileLimitMessage.replace("{0}",this.fileLimit.toString()))}},computed:{isAdvanced(){return"advanced"===this.mode},isBasic(){return"basic"===this.mode},advancedChooseButtonClass(){return["p-button p-component p-fileupload-choose",{"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonClass(){return["p-button p-component p-fileupload-choose",{"p-fileupload-choose-selected":this.hasFiles,"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonIconClass(){return["p-button-icon p-button-icon-left pi",{"pi-plus":!this.hasFiles||this.auto,"pi-upload":this.hasFiles&&!this.auto}]},basicChooseButtonLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles?this.files[0].name:this.chooseButtonLabel},hasFiles(){return this.files&&this.files.length>0},chooseDisabled(){return this.disabled||this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount},uploadDisabled(){return this.disabled||!this.hasFiles||this.fileLimit&&this.fileLimit<this.files.length},cancelDisabled(){return this.disabled||!this.hasFiles},chooseButtonLabel(){return this.chooseLabel||this.$primevue.config.locale.choose},uploadButtonLabel(){return this.uploadLabel||this.$primevue.config.locale.upload},cancelButtonLabel(){return this.cancelLabel||this.$primevue.config.locale.cancel}},components:{FileUploadButton:uo,FileUploadProgressBar:Nw,FileUploadMessage:Rw},directives:{ripple:ro}};const Uw={key:0,class:"p-fileupload p-fileupload-advanced p-component"},jw={class:"p-fileupload-buttonbar"},Bw=Vr("span",{class:"p-button-icon p-button-icon-left pi pi-fw pi-plus"},null,-1),qw={class:"p-button-label"},Kw={key:1,class:"p-fileupload-files"},zw={class:"p-fileupload-filename"},Hw={key:2,class:"p-fileupload-empty"},Gw={key:1,class:"p-fileupload p-fileupload-basic p-component"},Ww={class:"p-button-label"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-fileupload-content {\n    position: relative;\n}\n.p-fileupload-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-fileupload-row > div {\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    width: 25%;\n}\n.p-fileupload-row > div:last-child {\n    text-align: right;\n}\n.p-fileupload-content .p-progressbar {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.p-button.p-fileupload-choose {\n    position: relative;\n    overflow: hidden;\n}\n.p-button.p-fileupload-choose input[type=file] {\n    display: none;\n}\n.p-fileupload-choose.p-fileupload-choose-selected input[type=file] {\n    display: none;\n}\n.p-fileupload-filename {\n    word-break: break-all;\n}\n.p-fluid .p-fileupload .p-button {\n    width: auto;\n}\n"),Vw.render=function(t,e,n,r,i,o){const s=yr("FileUploadButton"),a=yr("FileUploadProgressBar"),u=yr("FileUploadMessage"),c=wr("ripple");return o.isAdvanced?(xr(),Or("div",Uw,[Vr("div",jw,[nr(Vr("span",{class:o.advancedChooseButtonClass,onClick:e[2]||(e[2]=(...t)=>o.choose&&o.choose(...t)),onKeydown:e[3]||(e[3]=Ki(((...t)=>o.choose&&o.choose(...t)),["enter"])),onFocus:e[4]||(e[4]=(...t)=>o.onFocus&&o.onFocus(...t)),onBlur:e[5]||(e[5]=(...t)=>o.onBlur&&o.onBlur(...t)),tabindex:"0"},[Vr("input",{ref:"fileInput",type:"file",onChange:e[1]||(e[1]=(...t)=>o.onFileSelect&&o.onFileSelect(...t)),multiple:n.multiple,accept:n.accept,disabled:o.chooseDisabled},null,40,["multiple","accept","disabled"]),Bw,Vr("span",qw,p(o.chooseButtonLabel),1)],34),[[c]]),n.showUploadButton?(xr(),Or(s,{key:0,label:o.uploadButtonLabel,icon:"pi pi-upload",onClick:o.upload,disabled:o.uploadDisabled},null,8,["label","onClick","disabled"])):Br("",!0),n.showCancelButton?(xr(),Or(s,{key:1,label:o.cancelButtonLabel,icon:"pi pi-times",onClick:o.clear,disabled:o.cancelDisabled},null,8,["label","onClick","disabled"])):Br("",!0)]),Vr("div",{ref:"content",class:"p-fileupload-content",onDragenter:e[6]||(e[6]=(...t)=>o.onDragEnter&&o.onDragEnter(...t)),onDragover:e[7]||(e[7]=(...t)=>o.onDragOver&&o.onDragOver(...t)),onDragleave:e[8]||(e[8]=(...t)=>o.onDragLeave&&o.onDragLeave(...t)),onDrop:e[9]||(e[9]=(...t)=>o.onDrop&&o.onDrop(...t))},[o.hasFiles?(xr(),Or(a,{key:0,value:i.progress},null,8,["value"])):Br("",!0),(xr(!0),Or(Tr,null,Gr(i.messages,(t=>(xr(),Or(u,{severity:"error",key:t},{default:Ge((()=>[jr(p(t),1)])),_:2},1024)))),128)),o.hasFiles?(xr(),Or("div",Kw,[(xr(!0),Or(Tr,null,Gr(i.files,((t,e)=>(xr(),Or("div",{class:"p-fileupload-row",key:t.name+t.type+t.size},[Vr("div",null,[o.isImage(t)?(xr(),Or("img",{key:0,role:"presentation",alt:t.name,src:t.objectURL,width:n.previewWidth},null,8,["alt","src","width"])):Br("",!0)]),Vr("div",zw,p(t.name),1),Vr("div",null,p(o.formatSize(t.size)),1),Vr("div",null,[Vr(s,{type:"button",icon:"pi pi-times",onClick:t=>o.remove(e)},null,8,["onClick"])])])))),128))])):Br("",!0),t.$slots.empty&&!o.hasFiles?(xr(),Or("div",Hw,[Wr(t.$slots,"empty")])):Br("",!0)],544)])):o.isBasic?(xr(),Or("div",Gw,[(xr(!0),Or(Tr,null,Gr(i.messages,(t=>(xr(),Or(u,{severity:"error",key:t},{default:Ge((()=>[jr(p(t),1)])),_:2},1024)))),128)),nr(Vr("span",{class:o.basicChooseButtonClass,onMouseup:e[13]||(e[13]=(...t)=>o.onBasicUploaderClick&&o.onBasicUploaderClick(...t)),onKeydown:e[14]||(e[14]=Ki(((...t)=>o.choose&&o.choose(...t)),["enter"])),onFocus:e[15]||(e[15]=(...t)=>o.onFocus&&o.onFocus(...t)),onBlur:e[16]||(e[16]=(...t)=>o.onBlur&&o.onBlur(...t)),tabindex:"0"},[Vr("span",{class:o.basicChooseButtonIconClass},null,2),Vr("span",Ww,p(o.basicChooseButtonLabel),1),o.hasFiles?Br("",!0):(xr(),Or("input",{key:0,ref:"fileInput",type:"file",accept:n.accept,disabled:n.disabled,onChange:e[10]||(e[10]=(...t)=>o.onFileSelect&&o.onFileSelect(...t)),onFocus:e[11]||(e[11]=(...t)=>o.onFocus&&o.onFocus(...t)),onBlur:e[12]||(e[12]=(...t)=>o.onBlur&&o.onBlur(...t))},null,40,["accept","disabled"]))],34),[[c]])])):Br("",!0)};var $w={name:"Carousel",emits:["update:page"],props:{value:null,page:{type:Number,default:0},numVisible:{type:Number,default:1},numScroll:{type:Number,default:1},responsiveOptions:Array,orientation:{type:String,default:"horizontal"},verticalViewPortHeight:{type:String,default:"300px"},contentClass:String,containerClass:String,indicatorsContentClass:String,circular:{type:Boolean,default:!1},autoplayInterval:{type:Number,default:0}},data(){return{id:Ji(),remainingItems:0,d_numVisible:this.numVisible,d_numScroll:this.numScroll,d_oldNumScroll:0,d_oldNumVisible:0,d_oldValue:null,d_page:this.page,totalShiftedItems:this.page*this.numScroll*-1,allowAutoplay:!!this.autoplayInterval,d_circular:this.circular||this.allowAutoplay,swipeThreshold:20}},isRemainingItemsAdded:!1,watch:{page(t){this.d_page=t},circular(t){this.d_circular=t},numVisible(t,e){this.d_numVisible=t,this.d_oldNumVisible=e},numScroll(t,e){this.d_oldNumScroll=e,this.d_numScroll=t},value(t){this.d_oldValue=t}},methods:{step(t,e){let n=this.totalShiftedItems;const r=this.isCircular();if(null!=e)n=this.d_numScroll*e*-1,r&&(n-=this.d_numVisible),this.isRemainingItemsAdded=!1;else{n+=this.d_numScroll*t,this.isRemainingItemsAdded&&(n+=this.remainingItems-this.d_numScroll*t,this.isRemainingItemsAdded=!1);let i=r?n+this.d_numVisible:n;e=Math.abs(Math.floor(i/this.d_numScroll))}r&&this.d_page===this.totalIndicators-1&&-1===t?(n=-1*(this.value.length+this.d_numVisible),e=0):r&&0===this.d_page&&1===t?(n=0,e=this.totalIndicators-1):e===this.totalIndicators-1&&this.remainingItems>0&&(n+=-1*this.remainingItems-this.d_numScroll*t,this.isRemainingItemsAdded=!0),this.$refs.itemsContainer&&(Qi.removeClass(this.$refs.itemsContainer,"p-items-hidden"),this.$refs.itemsContainer.style.transform=this.isVertical()?`translate3d(0, ${n*(100/this.d_numVisible)}%, 0)`:`translate3d(${n*(100/this.d_numVisible)}%, 0, 0)`,this.$refs.itemsContainer.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=n,this.$emit("update:page",e),this.d_page=e},calculatePosition(){if(this.$refs.itemsContainer&&this.responsiveOptions){let t=window.innerWidth,e={numVisible:this.numVisible,numScroll:this.numScroll};for(let n=0;n<this.responsiveOptions.length;n++){let r=this.responsiveOptions[n];parseInt(r.breakpoint,10)>=t&&(e=r)}if(this.d_numScroll!==e.numScroll){let t=this.d_page;t=parseInt(t*this.d_numScroll/e.numScroll),this.totalShiftedItems=e.numScroll*t*-1,this.isCircular()&&(this.totalShiftedItems-=e.numVisible),this.d_numScroll=e.numScroll,this.$emit("update:page",t),this.d_page=t}this.d_numVisible!==e.numVisible&&(this.d_numVisible=e.numVisible)}},navBackward(t,e){(this.d_circular||0!==this.d_page)&&this.step(1,e),this.allowAutoplay=!1,t.cancelable&&t.preventDefault()},navForward(t,e){(this.d_circular||this.d_page<this.totalIndicators-1)&&this.step(-1,e),this.allowAutoplay=!1,t.cancelable&&t.preventDefault()},onIndicatorClick(t,e){let n=this.d_page;e>n?this.navForward(t,e):e<n&&this.navBackward(t,e)},onTransitionEnd(){this.$refs.itemsContainer&&(Qi.addClass(this.$refs.itemsContainer,"p-items-hidden"),this.$refs.itemsContainer.style.transition="",0!==this.d_page&&this.d_page!==this.totalIndicators-1||!this.isCircular()||(this.$refs.itemsContainer.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this.d_numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this.d_numVisible)}%, 0, 0)`))},onTouchStart(t){let e=t.changedTouches[0];this.startPos={x:e.pageX,y:e.pageY}},onTouchMove(t){t.cancelable&&t.preventDefault()},onTouchEnd(t){let e=t.changedTouches[0];this.isVertical()?this.changePageOnTouch(t,e.pageY-this.startPos.y):this.changePageOnTouch(t,e.pageX-this.startPos.x)},changePageOnTouch(t,e){Math.abs(e)>this.swipeThreshold&&(e<0?this.navForward(t):this.navBackward(t))},bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=t=>{this.calculatePosition(t)},window.addEventListener("resize",this.documentResizeListener))},unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)},startAutoplay(){this.interval=setInterval((()=>{this.d_page===this.totalIndicators-1?this.step(-1,0):this.step(-1,this.d_page+1)}),this.autoplayInterval)},stopAutoplay(){this.interval&&clearInterval(this.interval)},createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let t=`\n            #${this.id} .p-carousel-item {\n                flex: 1 0 ${100/this.d_numVisible}%\n            }\n        `;if(this.responsiveOptions){let e=[...this.responsiveOptions];e.sort(((t,e)=>{const n=t.breakpoint,r=e.breakpoint;let i=null;return i=null==n&&null!=r?-1:null!=n&&null==r?1:null==n&&null==r?0:"string"==typeof n&&"string"==typeof r?n.localeCompare(r,void 0,{numeric:!0}):n<r?-1:n>r?1:0,-1*i}));for(let n=0;n<e.length;n++){let r=e[n];t+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=t},isVertical(){return"vertical"===this.orientation},isCircular(){return this.value&&this.d_circular&&this.value.length>=this.d_numVisible},isAutoplay(){return this.autoplayInterval&&this.allowAutoplay},firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.d_numVisible):-1*this.totalShiftedItems},lastIndex(){return this.firstIndex()+this.d_numVisible-1}},mounted(){this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners()},updated(){const t=this.isCircular();let e=!1,n=this.totalShiftedItems;if(this.autoplayInterval&&this.stopAutoplay(),this.d_oldNumScroll!==this.d_numScroll||this.d_oldNumVisible!==this.d_numVisible||this.d_oldValue.length!==this.value.length){this.remainingItems=(this.value.length-this.d_numVisible)%this.d_numScroll;let r=this.d_page;0!==this.totalIndicators&&r>=this.totalIndicators&&(r=this.totalIndicators-1,this.$emit("update:page",r),this.d_page=r,e=!0),n=r*this.d_numScroll*-1,t&&(n-=this.d_numVisible),r===this.totalIndicators-1&&this.remainingItems>0?(n+=-1*this.remainingItems+this.d_numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,n!==this.totalShiftedItems&&(this.totalShiftedItems=n,e=!0),this.d_oldNumScroll=this.d_numScroll,this.d_oldNumVisible=this.d_numVisible,this.d_oldValue=this.value,this.$refs.itemsContainer.style.transform=this.isVertical()?`translate3d(0, ${n*(100/this.d_numVisible)}%, 0)`:`translate3d(${n*(100/this.d_numVisible)}%, 0, 0)`}t&&(0===this.d_page?n=-1*this.d_numVisible:0===n&&(n=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),n!==this.totalShiftedItems&&(this.totalShiftedItems=n,e=!0)),!e&&this.isAutoplay()&&this.startAutoplay()},beforeUnmount(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()},computed:{totalIndicators(){return this.value?Math.ceil((this.value.length-this.d_numVisible)/this.d_numScroll)+1:0},backwardIsDisabled(){return this.value&&(!this.circular||this.value.length<this.d_numVisible)&&0===this.d_page},forwardIsDisabled(){return this.value&&(!this.circular||this.value.length<this.d_numVisible)&&(this.d_page===this.totalIndicators-1||0===this.totalIndicators)},containerClasses(){return["p-carousel-container",this.containerClass]},contentClasses(){return["p-carousel-content ",this.contentClass]},indicatorsContentClasses(){return["p-carousel-indicators p-reset",this.indicatorsContentClass]}},directives:{ripple:ro}};const Qw={key:0,class:"p-carousel-header"},Xw={key:1,class:"p-carousel-footer"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-carousel {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: column;\n\t        flex-direction: column;\n}\n.p-carousel-content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: column;\n\t        flex-direction: column;\n\toverflow: auto;\n}\n.p-carousel-prev,\n.p-carousel-next {\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\t-webkit-box-flex: 0;\n\t    -ms-flex-positive: 0;\n\t        flex-grow: 0;\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    overflow: hidden;\n    position: relative;\n}\n.p-carousel-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: row;\n\t        flex-direction: row;\n}\n.p-carousel-items-content {\n\toverflow: hidden;\n    width: 100%;\n}\n.p-carousel-items-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: row;\n\t        flex-direction: row;\n}\n.p-carousel-indicators {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: row;\n\t        flex-direction: row;\n\t-webkit-box-pack: center;\n\t    -ms-flex-pack: center;\n\t        justify-content: center;\n\t-ms-flex-wrap: wrap;\n\t    flex-wrap: wrap;\n}\n.p-carousel-indicator > button {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n\n/* Vertical */\n.p-carousel-vertical .p-carousel-container {\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: column;\n\t        flex-direction: column;\n}\n.p-carousel-vertical .p-carousel-items-container {\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: column;\n\t        flex-direction: column;\n\theight: 100%;\n}\n\n/* Keyboard Support */\n.p-items-hidden .p-carousel-item {\n\tvisibility: hidden;\n}\n.p-items-hidden .p-carousel-item.p-carousel-item-active {\n\tvisibility: visible;\n}\n"),$w.render=function(t,e,n,r,i,o){const s=wr("ripple");return xr(),Or("div",{id:i.id,class:["p-carousel p-component",{"p-carousel-vertical":o.isVertical(),"p-carousel-horizontal":!o.isVertical()}]},[t.$slots.header?(xr(),Or("div",Qw,[Wr(t.$slots,"header")])):Br("",!0),Vr("div",{class:o.contentClasses},[Vr("div",{class:o.containerClasses},[nr(Vr("button",{class:["p-carousel-prev p-link",{"p-disabled":o.backwardIsDisabled}],disabled:o.backwardIsDisabled,onClick:e[1]||(e[1]=(...t)=>o.navBackward&&o.navBackward(...t)),type:"button"},[Vr("span",{class:["p-carousel-prev-icon pi",{"pi-chevron-left":!o.isVertical(),"pi-chevron-up":o.isVertical()}]},null,2)],10,["disabled"]),[[s]]),Vr("div",{class:"p-carousel-items-content",style:[{height:o.isVertical()?n.verticalViewPortHeight:"auto"}]},[Vr("div",{ref:"itemsContainer",class:"p-carousel-items-container",onTransitionend:e[2]||(e[2]=(...t)=>o.onTransitionEnd&&o.onTransitionEnd(...t)),onTouchend:e[3]||(e[3]=(...t)=>o.onTouchEnd&&o.onTouchEnd(...t)),onTouchstart:e[4]||(e[4]=(...t)=>o.onTouchStart&&o.onTouchStart(...t)),onTouchmove:e[5]||(e[5]=(...t)=>o.onTouchMove&&o.onTouchMove(...t))},[o.isCircular()?(xr(!0),Or(Tr,{key:0},Gr(n.value.slice(-1*i.d_numVisible),((e,r)=>(xr(),Or("div",{key:r+"_scloned",class:["p-carousel-item p-carousel-item-cloned",{"p-carousel-item-active":-1*i.totalShiftedItems===n.value.length+i.d_numVisible,"p-carousel-item-start":0===r,"p-carousel-item-end":n.value.slice(-1*i.d_numVisible).length-1===r}]},[Wr(t.$slots,"item",{data:e,index:r})],2)))),128)):Br("",!0),(xr(!0),Or(Tr,null,Gr(n.value,((e,n)=>(xr(),Or("div",{key:n,class:["p-carousel-item",{"p-carousel-item-active":o.firstIndex()<=n&&o.lastIndex()>=n,"p-carousel-item-start":o.firstIndex()===n,"p-carousel-item-end":o.lastIndex()===n}]},[Wr(t.$slots,"item",{data:e,index:n})],2)))),128)),o.isCircular()?(xr(!0),Or(Tr,{key:1},Gr(n.value.slice(0,i.d_numVisible),((e,r)=>(xr(),Or("div",{key:r+"_fcloned",class:["p-carousel-item p-carousel-item-cloned",{"p-carousel-item-active":0===i.totalShiftedItems,"p-carousel-item-start":0===r,"p-carousel-item-end":n.value.slice(0,i.d_numVisible).length-1===r}]},[Wr(t.$slots,"item",{data:e,index:r})],2)))),128)):Br("",!0)],544)],4),nr(Vr("button",{class:["p-carousel-next p-link",{"p-disabled":o.forwardIsDisabled}],disabled:o.forwardIsDisabled,onClick:e[6]||(e[6]=(...t)=>o.navForward&&o.navForward(...t)),type:"button"},[Vr("span",{class:["p-carousel-prev-icon pi",{"pi-chevron-right":!o.isVertical(),"pi-chevron-down":o.isVertical()}]},null,2)],10,["disabled"]),[[s]])],2),o.totalIndicators>=0?(xr(),Or("ul",{key:0,class:o.indicatorsContentClasses},[(xr(!0),Or(Tr,null,Gr(o.totalIndicators,((t,e)=>(xr(),Or("li",{key:"p-carousel-indicator-"+e.toString(),class:["p-carousel-indicator",{"p-highlight":i.d_page===e}]},[Vr("button",{class:"p-link",onClick:t=>o.onIndicatorClick(t,e),type:"button"},null,8,["onClick"])],2)))),128))],2)):Br("",!0)],2),t.$slots.footer?(xr(),Or("div",Xw,[Wr(t.$slots,"footer")])):Br("",!0)],10,["id"])};var Yw={name:"Tag",props:{value:null,severity:null,rounded:Boolean,icon:String},computed:{containerClass(){return["p-tag p-component",{"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}]},iconClass(){return["p-tag-icon",this.icon]}}};const Jw={class:"p-tag-value"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-tag {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-tag-icon,\n.p-tag-value,\n.p-tag-icon.pi {\n    line-height: 1.5;\n}\n.p-tag.p-tag-rounded {\n    border-radius: 10rem;\n}\n"),Yw.render=function(t,e,n,r,i,o){return xr(),Or("span",{class:o.containerClass},[Wr(t.$slots,"default",{},(()=>[n.icon?(xr(),Or("span",{key:0,class:o.iconClass},null,2)):Br("",!0),Vr("span",Jw,p(n.value),1)]))],2)};const Zw="equals",tI="notEquals",eI={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",emptyMessage:"No available options"},filterMatchModeOptions:{text:["startsWith","contains","notContains","endsWith",Zw,tI],numeric:[Zw,tI,"lt","lte","gt","gte"],date:["dateIs","dateIsNot","dateBefore","dateAfter"]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},nI=Symbol();var rI={install:(t,e)=>{const n={config:Jt(e?o(o({},eI),e):o({},eI))};t.config.globalProperties.$primevue=n,t.provide(nI,n)}};export{Tr as F,rI as P,uo as a,lo as b,Vw as c,dn as d,ze as e,us as f,Or as g,Vr as h,Ye as i,Gr as j,yr as k,Tn as l,$w as m,Yw as n,xr as o,Ke as p,ue as q,Jt as r,io as s,Br as t,p as u,jr as v,He as w,$i as x};
