var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,o=(t,o)=>{for(var s in o||(o={}))n.call(o,s)&&i(t,s,o[s]);if(e)for(var s of e(o))r.call(o,s)&&i(t,s,o[s]);return t};function s(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const a=s("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),u=s("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function c(t){if(k(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=c(D(r)?f(r):r);if(i)for(const t in i)e[t]=i[t]}return e}if(L(t))return t}const l=/;(?![^(]*\))/g,h=/:(.+)/;function f(t){const e={};return t.split(l).forEach((t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function d(t){let e="";if(D(t))e=t;else if(k(t))for(let n=0;n<t.length;n++){const r=d(t[n]);r&&(e+=r+" ")}else if(L(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const p=t=>null==t?"":L(t)?JSON.stringify(t,g,2):String(t),g=(t,e)=>N(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:C(e)?{[`Set(${e.size})`]:[...e.values()]}:!L(e)||k(e)||F(e)?e:String(e),m={},v=[],y=()=>{},b=()=>!1,w=/^on[^a-z]/,I=t=>w.test(t),E=t=>t.startsWith("onUpdate:"),T=Object.assign,S=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_=Object.prototype.hasOwnProperty,A=(t,e)=>_.call(t,e),k=Array.isArray,N=t=>"[object Map]"===M(t),C=t=>"[object Set]"===M(t),x=t=>"function"==typeof t,D=t=>"string"==typeof t,O=t=>"symbol"==typeof t,L=t=>null!==t&&"object"==typeof t,R=t=>L(t)&&x(t.then)&&x(t.catch),P=Object.prototype.toString,M=t=>P.call(t),F=t=>"[object Object]"===M(t),V=t=>D(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,U=s(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},B=/-(\w)/g,q=j((t=>t.replace(B,((t,e)=>e?e.toUpperCase():"")))),K=/\B([A-Z])/g,z=j((t=>t.replace(K,"-$1").toLowerCase())),H=j((t=>t.charAt(0).toUpperCase()+t.slice(1))),G=j((t=>t?`on${H(t)}`:"")),W=(t,e)=>t!==e&&(t==t||e==e),$=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Q=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},X=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Y=new WeakMap,J=[];let Z;const tt=Symbol(""),et=Symbol("");function nt(t,e=m){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return t();if(!J.includes(n)){ot(n);try{return at.push(st),st=!0,J.push(n),Z=n,t()}finally{J.pop(),ct(),Z=J[J.length-1]}}};return n.id=it++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function rt(t){t.active&&(ot(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let it=0;function ot(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let st=!0;const at=[];function ut(){at.push(st),st=!1}function ct(){const t=at.pop();st=void 0===t||t}function lt(t,e,n){if(!st||void 0===Z)return;let r=Y.get(t);r||Y.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Z)||(i.add(Z),Z.deps.push(i))}function ht(t,e,n,r,i,o){const s=Y.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==Z||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&k(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":k(t)?V(n)&&u(s.get("length")):(u(s.get(tt)),N(t)&&u(s.get(et)));break;case"delete":k(t)||(u(s.get(tt)),N(t)&&u(s.get(et)));break;case"set":N(t)&&u(s.get(tt))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const ft=s("__proto__,__v_isRef,__isVue"),dt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(O)),pt=bt(),gt=bt(!1,!0),mt=bt(!0),vt=yt();function yt(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=ie(this);for(let e=0,i=this.length;e<i;e++)lt(n,0,e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(ie)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){ut();const n=ie(this)[e].apply(this,t);return ct(),n}})),t}function bt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Xt:Qt:e?$t:Wt).get(n))return n;const o=k(n);if(!t&&o&&A(vt,r))return Reflect.get(vt,r,i);const s=Reflect.get(n,r,i);if(O(r)?dt.has(r):ft(r))return s;if(t||lt(n,0,r),e)return s;if(ae(s)){return!o||!V(r)?s.value:s}return L(s)?t?Zt(s):Jt(s):s}}function wt(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=ie(r),o=ie(o),!k(e)&&ae(o)&&!ae(r)))return o.value=r,!0;const s=k(e)&&V(n)?Number(n)<e.length:A(e,n),a=Reflect.set(e,n,r,i);return e===ie(i)&&(s?W(r,o)&&ht(e,"set",n,r):ht(e,"add",n,r)),a}}const It={get:pt,set:wt(),deleteProperty:function(t,e){const n=A(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ht(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return O(e)&&dt.has(e)||lt(t,0,e),n},ownKeys:function(t){return lt(t,0,k(t)?"length":tt),Reflect.ownKeys(t)}},Et={get:mt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Tt=T({},It,{get:gt,set:wt(!0)}),St=t=>L(t)?Jt(t):t,_t=t=>L(t)?Zt(t):t,At=t=>t,kt=t=>Reflect.getPrototypeOf(t);function Nt(t,e,n=!1,r=!1){const i=ie(t=t.__v_raw),o=ie(e);e!==o&&!n&&lt(i,0,e),!n&&lt(i,0,o);const{has:s}=kt(i),a=r?At:n?_t:St;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void(t!==i&&t.get(e))}function Ct(t,e=!1){const n=this.__v_raw,r=ie(n),i=ie(t);return t!==i&&!e&&lt(r,0,t),!e&&lt(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function xt(t,e=!1){return t=t.__v_raw,!e&&lt(ie(t),0,tt),Reflect.get(t,"size",t)}function Dt(t){t=ie(t);const e=ie(this);return kt(e).has.call(e,t)||(e.add(t),ht(e,"add",t,t)),this}function Ot(t,e){e=ie(e);const n=ie(this),{has:r,get:i}=kt(n);let o=r.call(n,t);o||(t=ie(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?W(e,s)&&ht(n,"set",t,e):ht(n,"add",t,e),this}function Lt(t){const e=ie(this),{has:n,get:r}=kt(e);let i=n.call(e,t);i||(t=ie(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ht(e,"delete",t,void 0),o}function Rt(){const t=ie(this),e=0!==t.size,n=t.clear();return e&&ht(t,"clear",void 0,void 0),n}function Pt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=ie(o),a=e?At:t?_t:St;return!t&&lt(s,0,tt),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Mt(t,e,n){return function(...r){const i=this.__v_raw,o=ie(i),s=N(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=n?At:e?_t:St;return!e&&lt(o,0,u?et:tt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Ft(t){return function(...e){return"delete"!==t&&this}}function Vt(){const t={get(t){return Nt(this,t)},get size(){return xt(this)},has:Ct,add:Dt,set:Ot,delete:Lt,clear:Rt,forEach:Pt(!1,!1)},e={get(t){return Nt(this,t,!1,!0)},get size(){return xt(this)},has:Ct,add:Dt,set:Ot,delete:Lt,clear:Rt,forEach:Pt(!1,!0)},n={get(t){return Nt(this,t,!0)},get size(){return xt(this,!0)},has(t){return Ct.call(this,t,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Pt(!0,!1)},r={get(t){return Nt(this,t,!0,!0)},get size(){return xt(this,!0)},has(t){return Ct.call(this,t,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:Pt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{t[i]=Mt(i,!1,!1),n[i]=Mt(i,!0,!1),e[i]=Mt(i,!1,!0),r[i]=Mt(i,!0,!0)})),[t,n,e,r]}const[Ut,jt,Bt,qt]=Vt();function Kt(t,e){const n=e?t?qt:Bt:t?jt:Ut;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(A(n,r)&&r in e?n:e,r,i)}const zt={get:Kt(!1,!1)},Ht={get:Kt(!1,!0)},Gt={get:Kt(!0,!1)},Wt=new WeakMap,$t=new WeakMap,Qt=new WeakMap,Xt=new WeakMap;function Yt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>M(t).slice(8,-1))(t))}function Jt(t){return t&&t.__v_isReadonly?t:te(t,!1,It,zt,Wt)}function Zt(t){return te(t,!0,Et,Gt,Qt)}function te(t,e,n,r,i){if(!L(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Yt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function ee(t){return ne(t)?ee(t.__v_raw):!(!t||!t.__v_isReactive)}function ne(t){return!(!t||!t.__v_isReadonly)}function re(t){return ee(t)||ne(t)}function ie(t){return t&&ie(t.__v_raw)||t}function oe(t){return Q(t,"__v_skip",!0),t}const se=t=>L(t)?Jt(t):t;function ae(t){return Boolean(t&&!0===t.__v_isRef)}function ue(t){return function(t,e=!1){if(ae(t))return t;return new ce(t,e)}(t)}class ce{constructor(t,e=!1){this._shallow=e,this.__v_isRef=!0,this._rawValue=e?t:ie(t),this._value=e?t:se(t)}get value(){return lt(ie(this),0,"value"),this._value}set value(t){t=this._shallow?t:ie(t),W(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:se(t),ht(ie(this),"set","value",t))}}const le={get:(t,e,n)=>{return ae(r=Reflect.get(t,e,n))?r.value:r;var r},set:(t,e,n,r)=>{const i=t[e];return ae(i)&&!ae(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function he(t){return ee(t)?t:new Proxy(t,le)}class fe{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=nt(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ht(ie(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=ie(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),lt(t,0,"value"),t._value}set value(t){this._setter(t)}}function de(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){ge(o,e,n)}return i}function pe(t,e,n,r){if(x(t)){const i=de(t,e,n,r);return i&&R(i)&&i.catch((t=>{ge(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(pe(t[o],e,n,r));return i}function ge(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void de(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let me=!1,ve=!1;const ye=[];let be=0;const we=[];let Ie=null,Ee=0;const Te=[];let Se=null,_e=0;const Ae=Promise.resolve();let ke=null,Ne=null;function Ce(t){const e=ke||Ae;return t?e.then(this?t.bind(this):t):e}function xe(t){if(!(ye.length&&ye.includes(t,me&&t.allowRecurse?be+1:be)||t===Ne)){const e=function(t){let e=be+1,n=ye.length;const r=Pe(t);for(;e<n;){const t=e+n>>>1;Pe(ye[t])<r?e=t+1:n=t}return e}(t);e>-1?ye.splice(e,0,t):ye.push(t),De()}}function De(){me||ve||(ve=!0,ke=Ae.then(Me))}function Oe(t,e,n,r){k(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),De()}function Le(t,e=null){if(we.length){for(Ne=e,Ie=[...new Set(we)],we.length=0,Ee=0;Ee<Ie.length;Ee++)Ie[Ee]();Ie=null,Ee=0,Ne=null,Le(t,e)}}function Re(t){if(Te.length){const t=[...new Set(Te)];if(Te.length=0,Se)return void Se.push(...t);for(Se=t,Se.sort(((t,e)=>Pe(t)-Pe(e))),_e=0;_e<Se.length;_e++)Se[_e]();Se=null,_e=0}}const Pe=t=>null==t.id?1/0:t.id;function Me(t){ve=!1,me=!0,Le(t),ye.sort(((t,e)=>Pe(t)-Pe(e)));try{for(be=0;be<ye.length;be++){const t=ye[be];t&&!1!==t.active&&de(t,null,14)}}finally{be=0,ye.length=0,Re(),me=!1,ke=null,(ye.length||we.length||Te.length)&&Me(t)}}function Fe(t,e,...n){const r=t.vnode.props||m;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||m;o?i=n.map((t=>t.trim())):e&&(i=n.map(X))}let a,u=r[a=G(e)]||r[a=G(q(e))];!u&&o&&(u=r[a=G(z(e))]),u&&pe(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else t.emitted={};t.emitted[a]=!0,pe(c,t,6,i)}}function Ve(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(void 0!==i)return i;const o=t.emits;let s={},a=!1;if(!x(t)){const r=t=>{const n=Ve(t,e,!0);n&&(a=!0,T(s,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return o||a?(k(o)?o.forEach((t=>s[t]=null)):T(s,o),r.set(t,s),s):(r.set(t,null),null)}function Ue(t,e){return!(!t||!I(e))&&(e=e.slice(2).replace(/Once$/,""),A(t,e[0].toLowerCase()+e.slice(1))||A(t,z(e))||A(t,e))}let je=null,Be=null;function qe(t){const e=je;return je=t,Be=t&&t.type.__scopeId||null,e}function Ke(t){Be=t}function ze(){Be=null}const He=t=>Ge;function Ge(t,e=je,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Dr(-1);const i=qe(e),o=t(...n);return qe(i),r._d&&Dr(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function We(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=t;let m;const v=qe(t);try{let t;if(4&n.shapeFlag){const e=i||r;m=qr(l.call(e,e,h,o,d,f,p)),t=u}else{const n=e;0,m=qr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:$e(u)}let v=m;if(t&&!1!==g){const e=Object.keys(t),{shapeFlag:n}=v;e.length&&(1&n||6&n)&&(s&&e.some(E)&&(t=Qe(t,s)),v=Ur(v,t))}0,n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),m=v}catch(y){kr.length=0,ge(y,t,1),m=Vr(_r)}return qe(v),m}const $e=t=>{let e;for(const n in t)("class"===n||"style"===n||I(n))&&((e||(e={}))[n]=t[n]);return e},Qe=(t,e)=>{const n={};for(const r in t)E(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Xe(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Ue(n,o))return!0}return!1}function Ye(t,e,n=!1){const r=ei||je;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&x(e)?e.call(r.proxy):e}}const Je={};function Ze(t,e,n){return tn(t,e,n)}function tn(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=m,a=ei){let u,c,l=!1,h=!1;if(ae(t)?(u=()=>t.value,l=!!t._shallow):ee(t)?(u=()=>t,r=!0):k(t)?(h=!0,l=t.some(ee),u=()=>t.map((t=>ae(t)?t.value:ee(t)?rn(t):x(t)?de(t,a,2):void 0))):u=x(t)?e?()=>de(t,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),pe(t,a,3,[f])}:y,e&&r){const t=u;u=()=>rn(t())}let f=t=>{c=v.options.onStop=()=>{de(t,a,4)}},d=h?[]:Je;const p=()=>{if(v.active)if(e){const t=v();(r||l||(h?t.some(((t,e)=>W(t,d[e]))):W(t,d)))&&(c&&c(),pe(e,a,3,[t,d===Je?void 0:d,f]),d=t)}else v()};let g;p.allowRecurse=!!e,g="sync"===i?p:"post"===i?()=>ur(p,a&&a.suspense):()=>{!a||a.isMounted?function(t){Oe(t,Ie,we,Ee)}(p):p()};const v=nt(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:g});return ci(v,a),e?n?p():d=v():"post"===i?ur(v,a&&a.suspense):v(),()=>{rt(v),a&&S(a.effects,v)}}function en(t,e,n){const r=this.proxy,i=D(t)?t.includes(".")?nn(r,t):()=>r[t]:t.bind(r,r);let o;return x(e)?o=e:(o=e.handler,n=e),tn(i,o.bind(r),n,this)}function nn(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function rn(t,e=new Set){if(!L(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),ae(t))rn(t.value,e);else if(k(t))for(let n=0;n<t.length;n++)rn(t[n],e);else if(C(t)||N(t))t.forEach((t=>{rn(t,e)}));else if(F(t))for(const n in t)rn(t[n],e);return t}const on=[Function,Array],sn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:on,onEnter:on,onAfterEnter:on,onEnterCancelled:on,onBeforeLeave:on,onLeave:on,onAfterLeave:on,onLeaveCancelled:on,onBeforeAppear:on,onAppear:on,onAfterAppear:on,onAppearCancelled:on},setup(t,{slots:e}){const n=ni(),r=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tn((()=>{t.isMounted=!0})),An((()=>{t.isUnmounting=!0})),t}();let i;return()=>{const o=e.default&&fn(e.default(),!0);if(!o||!o.length)return;const s=ie(t),{mode:a}=s,u=o[0];if(r.isLeaving)return cn(u);const c=ln(u);if(!c)return cn(u);const l=un(c,s,r,n);hn(c,l);const h=n.subTree,f=h&&ln(h);let d=!1;const{getTransitionKey:p}=c.type;if(p){const t=p();void 0===i?i=t:t!==i&&(i=t,d=!0)}if(f&&f.type!==_r&&(!Rr(c,f)||d)){const t=un(f,s,r,n);if(hn(f,t),"out-in"===a)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},cn(u);"in-out"===a&&c.type!==_r&&(t.delayLeave=(t,e,n)=>{an(r,f)[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return u}}};function an(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function un(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:y}=e,b=String(t.key),w=an(n,t),I=(t,e)=>{t&&pe(t,r,9,e)},E={mode:o,persisted:s,beforeEnter(e){let r=a;if(!n.isMounted){if(!i)return;r=g||a}e._leaveCb&&e._leaveCb(!0);const o=w[b];o&&Rr(t,o)&&o.el._leaveCb&&o.el._leaveCb(),I(r,[e])},enter(t){let e=u,r=c,o=l;if(!n.isMounted){if(!i)return;e=m||u,r=v||c,o=y||l}let s=!1;const a=t._enterCb=e=>{s||(s=!0,I(e?o:r,[t]),E.delayedLeave&&E.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();I(h,[e]);let o=!1;const s=e._leaveCb=n=>{o||(o=!0,r(),I(n?p:d,[e]),e._leaveCb=void 0,w[i]===t&&delete w[i])};w[i]=t,f?(f(e,s),f.length<=1&&s()):s()},clone:t=>un(t,e,n,r)};return E}function cn(t){if(gn(t))return(t=Ur(t)).children=null,t}function ln(t){return gn(t)?t.children?t.children[0]:void 0:t}function hn(t,e){6&t.shapeFlag&&t.component?hn(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fn(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===Tr?(128&o.patchFlag&&r++,n=n.concat(fn(o.children,e))):(e||o.type!==_r)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function dn(t){return x(t)?{setup:t,name:t.name}:t}const pn=t=>!!t.type.__asyncLoader,gn=t=>t.type.__isKeepAlive;function mn(t,e){yn(t,"a",e)}function vn(t,e){yn(t,"da",e)}function yn(t,e,n=ei){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(wn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)gn(t.parent.vnode)&&bn(r,e,n,t),t=t.parent}}function bn(t,e,n,r){const i=wn(e,t,r,!0);kn((()=>{S(r[e],i)}),n)}function wn(t,e,n=ei,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;ut(),ri(n);const i=pe(e,n,t,r);return ri(null),ct(),i});return r?i.unshift(o):i.push(o),o}}const In=t=>(e,n=ei)=>(!oi||"sp"===t)&&wn(t,e,n),En=In("bm"),Tn=In("m"),Sn=In("bu"),_n=In("u"),An=In("bum"),kn=In("um"),Nn=In("sp"),Cn=In("rtg"),xn=In("rtc");function Dn(t,e=ei){wn("ec",t,e)}let On=!0;function Ln(t){const e=Mn(t),n=t.proxy,r=t.ctx;On=!1,e.beforeCreate&&Rn(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:b,destroyed:w,unmounted:I,render:E,renderTracked:T,renderTriggered:S,errorCaptured:_,serverPrefetch:A,expose:N,inheritAttrs:C,components:D,directives:O,filters:R}=e;if(c&&function(t,e,n=y){k(t)&&(t=jn(t));for(const r in t){const n=t[r];L(n)?e[r]="default"in n?Ye(n.from||r,n.default,!0):Ye(n.from||r):e[r]=Ye(n)}}(c,r,null),s)for(const y in s){const t=s[y];x(t)&&(r[y]=t.bind(n))}if(i){const e=i.call(n,n);L(e)&&(t.data=Jt(e))}if(On=!0,o)for(const k in o){const t=o[k],e=hi({get:x(t)?t.bind(n,n):x(t.get)?t.get.bind(n,n):y,set:!x(t)&&x(t.set)?t.set.bind(n):y});Object.defineProperty(r,k,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}if(a)for(const y in a)Pn(a[y],r,n,y);if(u){const t=x(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{!function(t,e){if(ei){let n=ei.provides;const r=ei.parent&&ei.parent.provides;r===n&&(n=ei.provides=Object.create(r)),n[t]=e}}(e,t[e])}))}function P(t,e){k(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(l&&Rn(l,t,"c"),P(En,h),P(Tn,f),P(Sn,d),P(_n,p),P(mn,g),P(vn,m),P(Dn,_),P(xn,T),P(Cn,S),P(An,b),P(kn,I),P(Nn,A),k(N))if(N.length){const e=t.exposed||(t.exposed={});N.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});E&&t.render===y&&(t.render=E),null!=C&&(t.inheritAttrs=C),D&&(t.components=D),O&&(t.directives=O)}function Rn(t,e,n){pe(k(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Pn(t,e,n,r){const i=r.includes(".")?nn(n,r):()=>n[r];if(D(t)){const n=e[t];x(n)&&Ze(i,n)}else if(x(t))Ze(i,t.bind(n));else if(L(t))if(k(t))t.forEach((t=>Pn(t,e,n,r)));else{const r=x(t.handler)?t.handler.bind(n):e[t.handler];x(r)&&Ze(i,r,t)}}function Mn(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let u;return a?u=a:i.length||n||r?(u={},i.length&&i.forEach((t=>Fn(u,t,s,!0))),Fn(u,e,s)):u=e,o.set(e,u),u}function Fn(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Fn(t,o,n,!0),i&&i.forEach((e=>Fn(t,e,n,!0)));for(const s in e)if(r&&"expose"===s);else{const r=Vn[s]||n&&n[s];t[s]=r?r(t[s],e[s]):e[s]}return t}const Vn={data:Un,props:qn,emits:qn,methods:qn,computed:qn,beforeCreate:Bn,created:Bn,beforeMount:Bn,mounted:Bn,beforeUpdate:Bn,updated:Bn,beforeDestroy:Bn,destroyed:Bn,activated:Bn,deactivated:Bn,errorCaptured:Bn,serverPrefetch:Bn,components:qn,directives:qn,watch:function(t,e){if(!t)return e;if(!e)return t;const n=T(Object.create(null),t);for(const r in e)n[r]=Bn(t[r],e[r]);return n},provide:Un,inject:function(t,e){return qn(jn(t),jn(e))}};function Un(t,e){return e?t?function(){return T(x(t)?t.call(this,this):t,x(e)?e.call(this,this):e)}:e:t}function jn(t){if(k(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Bn(t,e){return t?[...new Set([].concat(t,e))]:e}function qn(t,e){return t?T(T(Object.create(null),t),e):e}function Kn(t,e,n,r=!1){const i={},o={};Q(o,Pr,1),t.propsDefaults=Object.create(null),zn(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:te(i,!1,Tt,Ht,$t):t.type.props?t.props=i:t.props=o,t.attrs=o}function zn(t,e,n,r){const[i,o]=t.propsOptions;let s,a=!1;if(e)for(let u in e){if(U(u))continue;const c=e[u];let l;i&&A(i,l=q(u))?o&&o.includes(l)?(s||(s={}))[l]=c:n[l]=c:Ue(t.emitsOptions,u)||c!==r[u]&&(r[u]=c,a=!0)}if(o){const e=ie(n),r=s||m;for(let s=0;s<o.length;s++){const a=o[s];n[a]=Hn(i,e,a,r[a],t,!A(r,a))}}return a}function Hn(t,e,n,r,i,o){const s=t[n];if(null!=s){const t=A(s,"default");if(t&&void 0===r){const t=s.default;if(s.type!==Function&&x(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(ri(i),r=o[n]=t.call(null,e),ri(null))}else r=t}s[0]&&(o&&!t?r=!1:!s[1]||""!==r&&r!==z(n)||(r=!0))}return r}function Gn(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let u=!1;if(!x(t)){const r=t=>{u=!0;const[n,r]=Gn(t,e,!0);T(s,n),r&&a.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!o&&!u)return r.set(t,v),v;if(k(o))for(let l=0;l<o.length;l++){const t=q(o[l]);Wn(t)&&(s[t]=m)}else if(o)for(const l in o){const t=q(l);if(Wn(t)){const e=o[l],n=s[t]=k(e)||x(e)?{type:e}:e;if(n){const e=Xn(Boolean,n.type),r=Xn(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||A(n,"default"))&&a.push(t)}}}const c=[s,a];return r.set(t,c),c}function Wn(t){return"$"!==t[0]}function $n(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qn(t,e){return $n(t)===$n(e)}function Xn(t,e){return k(e)?e.findIndex((e=>Qn(e,t))):x(e)&&Qn(e,t)?0:-1}const Yn=t=>"_"===t[0]||"$stable"===t,Jn=t=>k(t)?t.map(qr):[qr(t)],Zn=(t,e,n)=>{const r=Ge((t=>Jn(e(t))),n);return r._c=!1,r},tr=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Yn(i))continue;const n=t[i];if(x(n))e[i]=Zn(0,n,r);else if(null!=n){const t=Jn(n);e[i]=()=>t}}},er=(t,e)=>{const n=Jn(e);t.slots.default=()=>n};function nr(t,e){if(null===je)return t;const n=je.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[t,o,s,a=m]=e[i];x(t)&&(t={mounted:t,updated:t}),t.deep&&rn(o),r.push({dir:t,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function rr(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(ut(),pe(u,n,8,[t.el,a,t,e]),ct())}}function ir(){return{app:null,config:{isNativeTag:b,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let or=0;function sr(t,e){return function(n,r=null){null==r||L(r)||(r=null);const i=ir(),o=new Set;let s=!1;const a=i.app={_uid:or++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:fi,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&x(t.install)?(o.add(t),t.install(a,...e)):x(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||i.mixins.push(t),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u,c){if(!s){const l=Vr(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),s=!0,a._container=o,o.__vue_app__=a,l.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}const ar={scheduler:xe,allowRecurse:!0},ur=function(t,e){e&&e.pendingBranch?k(t)?e.effects.push(...t):e.effects.push(t):Oe(t,Se,Te,_e)},cr=(t,e,n,r,i=!1)=>{if(k(t))return void t.forEach(((t,o)=>cr(t,e&&(k(e)?e[o]:e),n,r,i)));if(pn(r)&&!i)return;const o=4&r.shapeFlag?ui(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=t,c=e&&e.r,l=a.refs===m?a.refs={}:a.refs,h=a.setupState;if(null!=c&&c!==u&&(D(c)?(l[c]=null,A(h,c)&&(h[c]=null)):ae(c)&&(c.value=null)),D(u)){const t=()=>{l[u]=s,A(h,u)&&(h[u]=s)};s?(t.id=-1,ur(t,n)):t()}else if(ae(u)){const t=()=>{u.value=s};s?(t.id=-1,ur(t,n)):t()}else x(u)&&de(u,a,12,[s,l])};function lr(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:f,setScopeId:d=y,cloneNode:p,insertStaticContent:g}=t,b=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!!e.dynamicChildren)=>{t&&!Rr(t,e)&&(r=et(t),X(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case Sr:w(t,e,n,r);break;case _r:I(t,e,n,r);break;case Ar:null==t&&E(e,n,r,s);break;case Tr:P(t,e,n,r,i,o,s,a,u);break;default:1&h?k(t,e,n,r,i,o,s,a,u):6&h?M(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,ot)}null!=l&&i&&cr(l,t&&t.ref,o,e||t,!e)},w=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},I=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},E=(t,e,n,r)=>{[t.el,t.anchor]=g(t.children,e,n,r)},S=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=f(t),n(t,r,i),t=o;n(e,r,i)},_=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=f(t),r(t),t=n;r(e)},k=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?N(e,n,r,i,o,s,a,u):D(t,e,i,o,s,a,u)},N=(t,e,r,o,a,u,c,h)=>{let f,d;const{type:g,props:m,shapeFlag:v,transition:y,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==p&&-1===b)f=t.el=p(t.el);else{if(f=t.el=s(t.type,u,m&&m.is,m),8&v?l(f,t.children):16&v&&x(t.children,f,null,o,a,u&&"foreignObject"!==g,c,h),w&&rr(t,null,o,"created"),m){for(const e in m)U(e)||i(f,e,null,m[e],u,t.children,o,a,tt);(d=m.onVnodeBeforeMount)&&hr(d,o,t)}C(f,t,t.scopeId,c,o)}w&&rr(t,null,o,"beforeMount");const I=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;I&&y.beforeEnter(f),n(f,e,r),((d=m&&m.onVnodeMounted)||I||w)&&ur((()=>{d&&hr(d,o,t),I&&y.enter(f),w&&rr(t,null,o,"mounted")}),a)},C=(t,e,n,r,i)=>{if(n&&d(t,n),r)for(let o=0;o<r.length;o++)d(t,r[o]);if(i){if(e===i.subTree){const e=i.vnode;C(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},x=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=a?Kr(t[c]):qr(t[c]);b(null,u,e,n,r,i,o,s,a)}},D=(t,e,n,r,s,a,u)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:f,dirs:d}=e;h|=16&t.patchFlag;const p=t.props||m,g=e.props||m;let v;if((v=g.onVnodeBeforeUpdate)&&hr(v,n,e,t),d&&rr(e,t,n,"beforeUpdate"),h>0){if(16&h)L(c,e,p,g,n,r,s);else if(2&h&&p.class!==g.class&&i(c,"class",null,g.class,s),4&h&&i(c,"style",p.style,g.style,s),8&h){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const u=a[e],l=p[u],h=g[u];(h!==l||o&&o(c,u))&&i(c,u,l,h,s,t.children,n,r,tt)}}1&h&&t.children!==e.children&&l(c,e.children)}else u||null!=f||L(c,e,p,g,n,r,s);const y=s&&"foreignObject"!==e.type;f?O(t.dynamicChildren,f,c,n,r,y,a):u||K(t,e,c,null,n,r,y,a,!1),((v=g.onVnodeUpdated)||d)&&ur((()=>{v&&hr(v,n,e,t),d&&rr(e,t,n,"updated")}),r)},O=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.el&&(u.type===Tr||!Rr(u,c)||6&u.shapeFlag||64&u.shapeFlag)?h(u.el):n;b(u,c,l,null,r,i,o,s,!0)}},L=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(U(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,tt)}if(n!==m)for(const o in n)U(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,tt)}},P=(t,e,r,i,o,s,u,c,l)=>{const h=e.el=t?t.el:a(""),f=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:g}=e;p&&(l=!0),g&&(c=c?c.concat(g):g),null==t?(n(h,r,i),n(f,r,i),x(e.children,r,f,o,s,u,c,l)):d>0&&64&d&&p&&t.dynamicChildren?(O(t.dynamicChildren,p,r,o,s,u,c),(null!=e.key||o&&e===o.subTree)&&fr(t,e,!0)):K(t,e,r,f,o,s,u,c,l)},M=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):F(e,n,r,i,o,s,u):V(t,e,u)},F=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Zr,o={uid:ti++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gn(r,i),emitsOptions:Ve(r,i),emit:null,emitted:null,propsDefaults:m,inheritAttrs:r.inheritAttrs,ctx:m,data:m,props:m,attrs:m,slots:m,refs:m,setupState:m,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Fe.bind(null,o),o}(t,r,i);if(gn(t)&&(a.ctx.renderer=ot),function(t,e=!1){oi=e;const{props:n,children:r}=t.vnode,i=ii(t);Kn(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=ie(e),Q(e,"_",n)):tr(e,t.slots={})}else t.slots={},e&&er(t,e);Q(t.slots,Pr,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=oe(new Proxy(t.ctx,Yr));const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=e||{}};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;ei=t,ut();const i=de(r,t,0,[t.props,n]);if(ct(),ei=null,R(i)){const n=()=>{ei=null};if(i.then(n,n),e)return i.then((e=>{si(t,e)})).catch((e=>{ge(e,t,0)}));t.asyncDep=i}else si(t,i)}else ai(t)}(t,e):void 0;oi=!1}(a),a.asyncDep){if(i&&i.registerDep(a,j),!t.el){const t=a.subTree=Vr(_r);I(null,t,e,n)}}else j(a,t,e,n,i,o,s)},V=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Xe(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Xe(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Ue(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,e,n);r.next=e,function(t){const e=ye.indexOf(t);e>be&&ye.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},j=(t,e,n,r,i,o,s)=>{t.update=nt((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,B(t,n,s)):n=c,r&&$(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&hr(e,u,n,c);const f=We(t),d=t.subTree;t.subTree=f,b(d,f,h(d.el),et(d),t,i,o),n.el=f.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,f.el),a&&ur(a,i),(e=n.props&&n.props.onVnodeUpdated)&&ur((()=>hr(e,u,n,c)),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;if(c&&$(c),(s=u&&u.onVnodeBeforeMount)&&hr(s,h,e),a&&at){const n=()=>{t.subTree=We(t),at(a,t.subTree,t,i,null)};pn(e)?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const s=t.subTree=We(t);b(null,s,n,r,t,i,o),e.el=s.el}if(l&&ur(l,i),s=u&&u.onVnodeMounted){const t=e;ur((()=>hr(s,h,t)),i)}256&e.shapeFlag&&t.a&&ur(t.a,i),t.isMounted=!0,e=n=r=null}}),ar)},B=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ie(i),[u]=t.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;zn(t,e,i,o)&&(c=!0);for(const o in a)e&&(A(e,o)||(r=z(o))!==o&&A(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Hn(u,a,o,void 0,t,!0)):delete i[o]);if(o!==a)for(const t in o)e&&A(e,t)||(delete o[t],c=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];const l=e[s];if(u)if(A(o,s))l!==o[s]&&(o[s]=l,c=!0);else{const e=q(s);i[e]=Hn(u,a,e,l,t,!1)}else l!==o[s]&&(o[s]=l,c=!0)}}c&&ht(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=m;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(T(i,e),n||1!==t||delete i._):(o=!e.$stable,tr(e,i)),s=e}else e&&(er(t,e),s={default:1});if(o)for(const a in i)Yn(a)||a in s||delete i[a]})(t,e.children,n),ut(),Le(void 0,t.update),ct()},K=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,f=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void G(c,f,n,r,i,o,s,a,u);if(256&d)return void H(c,f,n,r,i,o,s,a,u)}8&p?(16&h&&tt(c,i,o),f!==c&&l(n,f)):16&h?16&p?G(c,f,n,r,i,o,s,a,u):tt(c,i,o,!0):(8&h&&l(n,""),16&p&&x(f,n,r,i,o,s,a,u))},H=(t,e,n,r,i,o,s,a,u)=>{e=e||v;const c=(t=t||v).length,l=e.length,h=Math.min(c,l);let f;for(f=0;f<h;f++){const r=e[f]=u?Kr(e[f]):qr(e[f]);b(t[f],r,n,null,i,o,s,a,u)}c>l?tt(t,i,o,!0,!1,h):x(e,n,r,i,o,s,a,u,h)},G=(t,e,n,r,i,o,s,a,u)=>{let c=0;const l=e.length;let h=t.length-1,f=l-1;for(;c<=h&&c<=f;){const r=t[c],l=e[c]=u?Kr(e[c]):qr(e[c]);if(!Rr(r,l))break;b(r,l,n,null,i,o,s,a,u),c++}for(;c<=h&&c<=f;){const r=t[h],c=e[f]=u?Kr(e[f]):qr(e[f]);if(!Rr(r,c))break;b(r,c,n,null,i,o,s,a,u),h--,f--}if(c>h){if(c<=f){const t=f+1,h=t<l?e[t].el:r;for(;c<=f;)b(null,e[c]=u?Kr(e[c]):qr(e[c]),n,h,i,o,s,a,u),c++}}else if(c>f)for(;c<=h;)X(t[c],i,o,!0),c++;else{const d=c,p=c,g=new Map;for(c=p;c<=f;c++){const t=e[c]=u?Kr(e[c]):qr(e[c]);null!=t.key&&g.set(t.key,c)}let m,y=0;const w=f-p+1;let I=!1,E=0;const T=new Array(w);for(c=0;c<w;c++)T[c]=0;for(c=d;c<=h;c++){const r=t[c];if(y>=w){X(r,i,o,!0);continue}let l;if(null!=r.key)l=g.get(r.key);else for(m=p;m<=f;m++)if(0===T[m-p]&&Rr(r,e[m])){l=m;break}void 0===l?X(r,i,o,!0):(T[l-p]=c+1,l>=E?E=l:I=!0,b(r,e[l],n,null,i,o,s,a,u),y++)}const S=I?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(T):v;for(m=S.length-1,c=w-1;c>=0;c--){const t=p+c,h=e[t],f=t+1<l?e[t+1].el:r;0===T[c]?b(null,h,n,f,i,o,s,a,u):I&&(m<0||c!==S[m]?W(h,n,f,2):m--)}}},W=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void W(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,ot);if(a===Tr){n(s,e,r);for(let t=0;t<c.length;t++)W(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===Ar)return void S(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),ur((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},X=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&cr(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const d=1&l&&f;let p;if((p=s&&s.onVnodeBeforeUnmount)&&hr(p,e,t),6&l)Z(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);d&&rr(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,ot,r):c&&(o!==Tr||h>0&&64&h)?tt(c,e,n,!1,!0):(o===Tr&&(128&h||256&h)||!i&&16&l)&&tt(u,e,n),r&&Y(t)}((p=s&&s.onVnodeUnmounted)||d)&&ur((()=>{p&&hr(p,e,t),d&&rr(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===Tr)return void J(n,i);if(e===Ar)return void _(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},J=(t,e)=>{let n;for(;t!==e;)n=f(t),r(t),t=n;r(e)},Z=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&$(r),i)for(let u=0;u<i.length;u++)rt(i[u]);o&&(rt(o),X(s,t,e,n)),a&&ur(a,e),ur((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},tt=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)X(t[s],e,n,r,i)},et=t=>6&t.shapeFlag?et(t.component.subTree):128&t.shapeFlag?t.suspense.next():f(t.anchor||t.el),it=(t,e,n)=>{null==t?e._vnode&&X(e._vnode,null,null,!0):b(e._vnode||null,t,e,null,null,null,n),Re(),e._vnode=t},ot={p:b,um:X,m:W,r:Y,mt:F,mc:x,pc:K,pbc:O,n:et,o:t};let st,at;e&&([st,at]=e(ot));return{render:it,hydrate:st,createApp:sr(it,st)}}(t)}function hr(t,e,n,r=null){pe(t,e,7,[n,r])}function fr(t,e,n=!1){const r=t.children,i=e.children;if(k(r)&&k(i))for(let o=0;o<r.length;o++){const t=r[o];let e=i[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[o]=Kr(i[o]),e.el=t.el),n||fr(t,e))}}const dr=t=>t&&(t.disabled||""===t.disabled),pr=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,gr=(t,e)=>{const n=t&&t.to;if(D(n)){if(e){return e(n)}return null}return n};function mr(t,e,n,{o:{insert:r},m:i},o=2){0===o&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:u,children:c,props:l}=t,h=2===o;if(h&&r(s,e,n),(!h||dr(l))&&16&u)for(let f=0;f<c.length;f++)i(c[f],e,n,2);h&&r(a,e,n)}const vr={__isTeleport:!0,process(t,e,n,r,i,o,s,a,u,c){const{mc:l,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:g,createComment:m}}=c,v=dr(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(null==t){const t=e.el=g(""),c=e.anchor=g("");d(t,n,r),d(c,n,r);const h=e.target=gr(e.props,p),f=e.targetAnchor=g("");h&&(d(f,h),s=s||pr(h));const m=(t,e)=>{16&y&&l(b,t,e,i,o,s,a,u)};v?m(n,c):h&&m(h,f)}else{e.el=t.el;const r=e.anchor=t.anchor,l=e.target=t.target,d=e.targetAnchor=t.targetAnchor,g=dr(t.props),m=g?n:l,y=g?r:d;if(s=s||pr(l),w?(f(t.dynamicChildren,w,m,i,o,s,a),fr(t,e,!0)):u||h(t,e,m,y,i,o,s,a,!1),v)g||mr(e,n,r,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=gr(e.props,p);t&&mr(e,t,null,c,0)}else g&&mr(e,l,d,c,1)}},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:u,anchor:c,targetAnchor:l,target:h,props:f}=t;if(h&&o(l),(s||!dr(f))&&(o(c),16&a))for(let d=0;d<u.length;d++){const t=u[d];i(t,e,n,!0,!!t.dynamicChildren)}},move:mr,hydrate:function(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:u}},c){const l=e.target=gr(e.props,u);if(l){const u=l._lpa||l.firstChild;16&e.shapeFlag&&(dr(e.props)?(e.anchor=c(s(t),e,a(t),n,r,i,o),e.targetAnchor=u):(e.anchor=s(t),e.targetAnchor=c(u,e,l,n,r,i,o)),l._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}};function yr(t,e){return Ir("components",t,!0,e)||t}const br=Symbol();function wr(t){return Ir("directives",t)}function Ir(t,e,n=!0,r=!1){const i=je||ei;if(i){const n=i.type;if("components"===t){const t=li(n);if(t&&(t===e||t===q(e)||t===H(q(e))))return n}const o=Er(i[t]||n[t],e)||Er(i.appContext[t],e);return!o&&r?n:o}}function Er(t,e){return t&&(t[e]||t[q(e)]||t[H(q(e))])}const Tr=Symbol(void 0),Sr=Symbol(void 0),_r=Symbol(void 0),Ar=Symbol(void 0),kr=[];let Nr=null;function Cr(t=!1){kr.push(Nr=t?null:[])}let xr=1;function Dr(t){xr+=t}function Or(t,e,n,r,i){const o=Vr(t,e,n,r,i,!0);return o.dynamicChildren=xr>0?Nr||v:null,kr.pop(),Nr=kr[kr.length-1]||null,xr>0&&Nr&&Nr.push(o),o}function Lr(t){return!!t&&!0===t.__v_isVNode}function Rr(t,e){return t.type===e.type&&t.key===e.key}const Pr="__vInternal",Mr=({key:t})=>null!=t?t:null,Fr=({ref:t})=>null!=t?D(t)||ae(t)||x(t)?{i:je,r:t}:t:null,Vr=function(t,e=null,n=null,r=0,i=null,o=!1){t&&t!==br||(t=_r);if(Lr(t)){const r=Ur(t,e,!0);return n&&zr(r,n),r}s=t,x(s)&&"__vccOpts"in s&&(t=t.__vccOpts);var s;if(e){(re(e)||Pr in e)&&(e=T({},e));let{class:t,style:n}=e;t&&!D(t)&&(e.class=d(t)),L(n)&&(re(n)&&!k(n)&&(n=T({},n)),e.style=c(n))}const a=D(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:L(t)?4:x(t)?2:0,u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Mr(e),ref:e&&Fr(e),scopeId:Be,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};zr(u,n),128&a&&t.normalize(u);xr>0&&!o&&Nr&&(r>0||6&a)&&32!==r&&Nr.push(u);return u};function Ur(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,a=e?Hr(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Mr(a),ref:e&&e.ref?n&&i?k(i)?i.concat(Fr(e)):[i,Fr(e)]:Fr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Tr?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ur(t.ssContent),ssFallback:t.ssFallback&&Ur(t.ssFallback),el:t.el,anchor:t.anchor}}function jr(t=" ",e=0){return Vr(Sr,null,t,e)}function Br(t="",e=!1){return e?(Cr(),Or(_r,null,t)):Vr(_r,null,t)}function qr(t){return null==t||"boolean"==typeof t?Vr(_r):k(t)?Vr(Tr,null,t.slice()):"object"==typeof t?Kr(t):Vr(Sr,null,String(t))}function Kr(t){return null===t.el?t:Ur(t)}function zr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(k(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),zr(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||Pr in e?3===r&&je&&(1===je.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=je}}else x(e)?(e={default:e,_ctx:je},n=32):(e=String(e),64&r?(n=16,e=[jr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Hr(...t){const e=T({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=d([e.class,r.class]));else if("style"===t)e.style=c([e.style,r.style]);else if(I(t)){const n=e[t],i=r[t];n!==i&&(e[t]=n?[].concat(n,i):i)}else""!==t&&(e[t]=r[t])}return e}function Gr(t,e){let n;if(k(t)||D(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(L(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}function Wr(t,e,n={},r,i){let o=t[e];o&&o._c&&(o._d=!1),Cr();const s=o&&$r(o(n)),a=Or(Tr,{key:n.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function $r(t){return t.some((t=>!Lr(t)||t.type!==_r&&!(t.type===Tr&&!$r(t.children))))?t:null}const Qr=t=>t?ii(t)?ui(t)||t.proxy:Qr(t.parent):null,Xr=T(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qr(t.parent),$root:t=>Qr(t.root),$emit:t=>t.emit,$options:t=>Mn(t),$forceUpdate:t=>()=>xe(t.update),$nextTick:t=>Ce.bind(t.proxy),$watch:t=>en.bind(t)}),Yr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==m&&A(r,e))return s[e]=0,r[e];if(i!==m&&A(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&A(c,e))return s[e]=2,o[e];if(n!==m&&A(n,e))return s[e]=3,n[e];On&&(s[e]=4)}}const l=Xr[e];let h,f;return l?("$attrs"===e&&lt(t,0,e),l(t)):(h=a.__cssModules)&&(h=h[e])?h:n!==m&&A(n,e)?(s[e]=3,n[e]):(f=u.config.globalProperties,A(f,e)?f[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==m&&A(i,e))i[e]=n;else if(r!==m&&A(r,e))r[e]=n;else if(A(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==m&&A(t,s)||e!==m&&A(e,s)||(a=o[0])&&A(a,s)||A(r,s)||A(Xr,s)||A(i.config.globalProperties,s)}},Jr=T({},Yr,{get(t,e){if(e!==Symbol.unscopables)return Yr.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!a(e)}),Zr=ir();let ti=0;let ei=null;const ni=()=>ei||je,ri=t=>{ei=t};function ii(t){return 4&t.vnode.shapeFlag}let oi=!1;function si(t,e,n){x(e)?t.render=e:L(e)&&(t.setupState=he(e)),ai(t)}function ai(t,e,n){const r=t.type;t.render||(t.render=r.render||y,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Jr))),ei=t,ut(),Ln(t),ct(),ei=null}function ui(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(he(oe(t.exposed)),{get:(e,n)=>n in e?e[n]:n in Xr?Xr[n](t):void 0}))}function ci(t,e=ei){e&&(e.effects||(e.effects=[])).push(t)}function li(t){return x(t)&&t.displayName||t.name}function hi(t){const e=function(t){let e,n;return x(t)?(e=t,n=y):(e=t.get,n=t.set),new fe(e,n,x(t)||!t.set)}(t);return ci(e.effect),e}const fi="3.1.5",di="undefined"!=typeof document?document:null,pi=new Map,gi={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?di.createElementNS("http://www.w3.org/2000/svg",t):di.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>di.createTextNode(t),createComment:t=>di.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>di.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=n?n.previousSibling:e.lastChild;let o=pi.get(t);if(!o){const e=di.createElement("template");if(e.innerHTML=r?`<svg>${t}</svg>`:t,o=e.content,r){const t=o.firstChild;for(;t.firstChild;)o.appendChild(t.firstChild);o.removeChild(t)}pi.set(t,o)}return e.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};const mi=/\s*!important$/;function vi(t,e,n){if(k(n))n.forEach((n=>vi(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=bi[e];if(n)return n;let r=q(e);if("filter"!==r&&r in t)return bi[e]=r;r=H(r);for(let i=0;i<yi.length;i++){const n=yi[i]+r;if(n in t)return bi[e]=n}return e}(t,e);mi.test(n)?t.setProperty(z(r),n.replace(mi,""),"important"):t[r]=n}}const yi=["Webkit","Moz","ms"],bi={};const wi="http://www.w3.org/1999/xlink";let Ii=Date.now,Ei=!1;if("undefined"!=typeof window){Ii()>document.createEvent("Event").timeStamp&&(Ii=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Ei=!!(t&&Number(t[1])<=53)}let Ti=0;const Si=Promise.resolve(),_i=()=>{Ti=0};function Ai(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(ki.test(t)){let n;for(e={};n=t.match(ki);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[z(t.slice(2)),e]}(e);if(r){!function(t,e,n,r){t.addEventListener(e,n,r)}(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||Ii();(Ei||r>=n.attached-1)&&pe(function(t,e){if(k(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Ti||(Si.then(_i),Ti=Ii()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const ki=/(?:Once|Passive|Capture)$/;const Ni=/^on[a-z]/;const Ci="transition",xi=(t,{slots:e})=>function(t,e,n){const r=arguments.length;return 2===r?L(e)&&!k(e)?Lr(e)?Vr(t,null,[e]):Vr(t,e):Vr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Lr(n)&&(n=[n]),Vr(t,e,n))}(sn,function(t){const e={};for(const T in t)T in Di||(e[T]=t[T]);if(!1===t.css)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:c=s,appearToClass:l=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=function(t){if(null==t)return null;if(L(t))return[Ri(t.enter),Ri(t.leave)];{const e=Ri(t);return[e,e]}}(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:I,onBeforeAppear:E=v,onAppear:S=y,onAppearCancelled:_=b}=e,A=(t,e,n)=>{Mi(t,e?l:a),Mi(t,e?c:s),n&&n()},k=(t,e)=>{Mi(t,d),Mi(t,f),e&&e()},N=t=>(e,n)=>{const i=t?S:y,s=()=>A(e,t,n);Oi(i,[e,s]),Fi((()=>{Mi(e,t?u:o),Pi(e,t?l:a),Li(i)||Ui(e,r,g,s)}))};return T(e,{onBeforeEnter(t){Oi(v,[t]),Pi(t,o),Pi(t,s)},onBeforeAppear(t){Oi(E,[t]),Pi(t,u),Pi(t,c)},onEnter:N(!1),onAppear:N(!0),onLeave(t,e){const n=()=>k(t,e);Pi(t,h),document.body.offsetHeight,Pi(t,f),Fi((()=>{Mi(t,h),Pi(t,d),Li(w)||Ui(t,r,m,n)})),Oi(w,[t,n])},onEnterCancelled(t){A(t,!1),Oi(b,[t])},onAppearCancelled(t){A(t,!0),Oi(_,[t])},onLeaveCancelled(t){k(t),Oi(I,[t])}})}(t),e);xi.displayName="Transition";const Di={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};xi.props=T({},sn.props,Di);const Oi=(t,e=[])=>{k(t)?t.forEach((t=>t(...e))):t&&t(...e)},Li=t=>!!t&&(k(t)?t.some((t=>t.length>1)):t.length>1);function Ri(t){return X(t)}function Pi(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function Mi(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Fi(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Vi=0;function Ui(t,e,n,r){const i=t._endId=++Vi,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=function(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r("transitionDelay"),o=r("transitionDuration"),s=ji(i,o),a=r("animationDelay"),u=r("animationDuration"),c=ji(a,u);let l=null,h=0,f=0;e===Ci?s>0&&(l=Ci,h=s,f=o.length):"animation"===e?c>0&&(l="animation",h=c,f=u.length):(h=Math.max(s,c),l=h>0?s>c?Ci:"animation":null,f=l?l===Ci?o.length:u.length:0);const d=l===Ci&&/\b(transform|all)(,|$)/.test(n.transitionProperty);return{type:l,timeout:h,propCount:f,hasTransform:d}}(t,e);if(!s)return r();const c=s+"end";let l=0;const h=()=>{t.removeEventListener(c,f),o()},f=e=>{e.target===t&&++l>=u&&h()};setTimeout((()=>{l<u&&h()}),a+1),t.addEventListener(c,f)}function ji(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>Bi(e)+Bi(t[n]))))}function Bi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}const qi={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ki=(t,e)=>n=>{if(!("key"in n))return;const r=z(n.key);return e.some((t=>t===r||qi[t]===r))?t(n):void 0},zi={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):Hi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Hi(t,!0),r.enter(t)):r.leave(t,(()=>{Hi(t,!1)})):Hi(t,e))},beforeUnmount(t,{value:e}){Hi(t,e)}};function Hi(t,e){t.style.display=e?t._vod:"none"}const Gi=T({patchProp:(t,e,n,r,i=!1,o,s,a,c)=>{switch(e){case"class":!function(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,r,i);break;case"style":!function(t,e,n){const r=t.style;if(n)if(D(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)vi(r,t,n[t]);if(e&&!D(e))for(const t in e)null==n[t]&&vi(r,t,"")}else t.removeAttribute("style")}(t,n,r);break;default:I(e)?E(e)||Ai(t,e,0,r,s):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&Ni.test(e)&&x(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(Ni.test(e)&&D(n))return!1;return e in t}(t,e,r,i)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName){t._value=n;const r=null==n?"":n;return t.value!==r&&(t.value=r),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r){try{t[e]=0}catch(a){}return void t.removeAttribute(e)}}try{t[e]=n}catch(Rw){}}(t,e,r,o,s,a,c):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),function(t,e,n,r,i){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(wi,e.slice(6,e.length)):t.setAttributeNS(wi,e,n);else{const r=u(e);null==n||r&&!1===n?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}(t,e,r,i))}},forcePatchProp:(t,e)=>"value"===e},gi);let Wi;const $i=(...t)=>{const e=(Wi||(Wi=lr(Gi))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(D(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;x(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};var Qi={name:"Card"};const Xi={class:"p-card p-component"},Yi={key:0,class:"p-card-header"},Ji={class:"p-card-body"},Zi={key:0,class:"p-card-title"},to={key:1,class:"p-card-subtitle"},eo={class:"p-card-content"},no={key:2,class:"p-card-footer"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-card-header img {\n    width: 100%;\n}\n"),Qi.render=function(t,e,n,r,i,o){return Cr(),Or("div",Xi,[t.$slots.header?(Cr(),Or("div",Yi,[Wr(t.$slots,"header")])):Br("",!0),Vr("div",Ji,[t.$slots.title?(Cr(),Or("div",Zi,[Wr(t.$slots,"title")])):Br("",!0),t.$slots.subtitle?(Cr(),Or("div",to,[Wr(t.$slots,"subtitle")])):Br("",!0),Vr("div",eo,[Wr(t.$slots,"content")]),t.$slots.footer?(Cr(),Or("div",no,[Wr(t.$slots,"footer")])):Br("",!0)])])};class ro{static innerWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static width(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static getOuterWidth(t,e){if(t){let n=t.offsetWidth;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)}return n}return 0}static getOuterHeight(t,e){if(t){let n=t.offsetHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}return 0}static getClientHeight(t,e){if(t){let n=t.clientHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}return 0}static getViewport(){let t=window,e=document,n=e.documentElement,r=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||r.clientWidth,height:t.innerHeight||n.clientHeight||r.clientHeight}}static getOffset(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static index(t){let e=t.parentNode.childNodes,n=0;for(var r=0;r<e.length;r++){if(e[r]===t)return n;1===e[r].nodeType&&n++}return-1}static addMultipleClasses(t,e){if(t.classList){let n=e.split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}else{let n=e.split(" ");for(let e=0;e<n.length;e++)t.className+=" "+n[e]}}static addClass(t,e){t.classList?t.classList.add(e):t.className+=" "+e}static removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,e){return!!t&&(t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className))}static find(t,e){return t.querySelectorAll(e)}static findSingle(t,e){return t.querySelector(e)}static getHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}static getWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}static absolutePosition(t,e){let n,r,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=i.height,s=i.width,a=e.offsetHeight,u=e.offsetWidth,c=e.getBoundingClientRect(),l=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();c.top+a+o>f.height?(n=c.top+l-o,t.style.transformOrigin="bottom",n<0&&(n=l)):(n=a+c.top+l,t.style.transformOrigin="top"),r=c.left+s>f.width?Math.max(0,c.left+h+u-s):c.left+h,t.style.top=n+"px",t.style.left=r+"px"}static relativePosition(t,e){let n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const r=e.offsetHeight,i=e.getBoundingClientRect(),o=this.getViewport();let s,a;i.top+r+n.height>o.height?(s=-1*n.height,t.style.transformOrigin="bottom",i.top+s<0&&(s=-1*i.top)):(s=r,t.style.transformOrigin="top"),a=n.width>o.width?-1*i.left:i.left+n.width>o.width?-1*(i.left+n.width-o.width):0,t.style.top=s+"px",t.style.left=a+"px"}static getParents(t,e=[]){return null===t.parentNode?e:this.getParents(t.parentNode,e.concat([t.parentNode]))}static getScrollableParents(t){let e=[];if(t){let n=this.getParents(t);const r=/(auto|scroll)/,i=t=>{let e=window.getComputedStyle(t,null);return r.test(e.getPropertyValue("overflow"))||r.test(e.getPropertyValue("overflowX"))||r.test(e.getPropertyValue("overflowY"))};for(let t of n){let n=1===t.nodeType&&t.dataset.scrollselectors;if(n){let r=n.split(",");for(let n of r){let r=this.findSingle(t,n);r&&i(r)&&e.push(r)}}9!==t.nodeType&&i(t)&&e.push(t)}}return e}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementDimensions(t){var e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e}static fadeIn(t,e){t.style.opacity=0;var n=+new Date,r=0,i=function(){r=+t.style.opacity+((new Date).getTime()-n)/e,t.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}static fadeOut(t,e){var n=1,r=50/e;let i=setInterval((()=>{(n-=r)<=0&&(n=0,clearInterval(i)),t.style.opacity=n}),50)}static getUserAgent(){return navigator.userAgent}static appendChild(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.elElement)throw new Error("Cannot append "+e+" to "+t);e.elElement.appendChild(t)}}static scrollInView(t,e){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(t).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=t.getBoundingClientRect(),a=e.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,u=t.scrollTop,c=t.clientHeight,l=this.getOuterHeight(e);a<0?t.scrollTop=u+a:a+l>c&&(t.scrollTop=u+a-c+l)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static calculateScrollbarWidth(){if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),e=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}static isVisible(t){return null!=t.offsetParent}static invokeElementMethod(t,e,n){t[e].apply(t,n)}static getFocusableElements(t){let e=ro.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),n=[];for(let r of e)"none"!=getComputedStyle(r).display&&"hidden"!=getComputedStyle(r).visibility&&n.push(r);return n}static isClickable(t){const e=t.nodeName,n=t.parentElement&&t.parentElement.nodeName;return"INPUT"==e||"BUTTON"==e||"A"==e||"INPUT"==n||"BUTTON"==n||"A"==n||this.hasClass(t,"p-button")||this.hasClass(t.parentElement,"p-button")||this.hasClass(t.parentElement,"p-checkbox")||this.hasClass(t.parentElement,"p-radiobutton")}static applyStyle(t,e){if("string"==typeof e)t.style.cssText=this.style;else for(let n in this.style)t.style[n]=e[n]}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}}var io=function(){let t=[];const e=t=>t&&parseInt(t.style.zIndex,10)||0;return{get:e,set:(e,n,r)=>{n&&(n.style.zIndex=String(((e,n)=>{let r=t.length>0?t[t.length-1]:{key:e,value:n},i=r.value+(r.key===e?0:n)+1;return t.push({key:e,value:i}),i})(e,r)))},clear:n=>{var r;n&&(r=e(n),t=t.filter((t=>t.value!==r)),n.style.zIndex="")},getCurrent:()=>t.length>0?t[t.length-1].value:0}}(),oo=0;function so(t="pv_id_"){return`${t}${++oo}`}function ao(t){let e=lo(t);e&&(!function(t){t.removeEventListener("mousedown",uo)}(t),e.removeEventListener("animationend",co),e.remove())}function uo(t){let e=t.currentTarget,n=lo(e);if(!n||"none"===getComputedStyle(n,null).display)return;if(ro.removeClass(n,"p-ink-active"),!ro.getHeight(n)&&!ro.getWidth(n)){let t=Math.max(ro.getOuterWidth(e),ro.getOuterHeight(e));n.style.height=t+"px",n.style.width=t+"px"}let r=ro.getOffset(e),i=t.pageX-r.left+document.body.scrollTop-ro.getWidth(n)/2,o=t.pageY-r.top+document.body.scrollLeft-ro.getHeight(n)/2;n.style.top=o+"px",n.style.left=i+"px",ro.addClass(n,"p-ink-active")}function co(t){ro.removeClass(t.currentTarget,"p-ink-active")}function lo(t){for(let e=0;e<t.children.length;e++)if("string"==typeof t.children[e].className&&-1!==t.children[e].className.indexOf("p-ink"))return t.children[e];return null}const ho={mounted(t,e){e.instance.$primevue&&e.instance.$primevue.config&&e.instance.$primevue.config.ripple&&(function(t){let e=document.createElement("span");e.className="p-ink",t.appendChild(e),e.addEventListener("animationend",co)}(t),function(t){t.addEventListener("mousedown",uo)}(t))},unmounted(t){ao(t)}};var fo={name:"Dialog",inheritAttrs:!1,emits:["update:visible","show","hide","maximize","unmaximize","dragend"],props:{header:null,footer:null,visible:Boolean,modal:Boolean,contentStyle:null,contentClass:String,rtl:Boolean,maximizable:Boolean,dismissableMask:Boolean,closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},ariaCloseLabel:{type:String,default:"close"},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0}},data(){return{containerVisible:this.visible,maximized:!1}},documentKeydownListener:null,container:null,mask:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask=null,this.container&&this.autoZIndex&&io.clear(this.container),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{close(){this.$emit("update:visible",!1)},onBeforeEnter(t){this.autoZIndex&&io.set("modal",t,this.baseZIndex+this.$primevue.config.zIndex.modal),t.setAttribute(this.attributeSelector,"")},onEnter(){this.mask.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1),this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners()},onBeforeLeave(){ro.addClass(this.mask,"p-dialog-mask-leave")},onLeave(){this.$emit("hide")},onAfterLeave(t){this.autoZIndex&&io.clear(t),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners()},onMaskClick(t){this.dismissableMask&&this.closable&&this.modal&&this.mask===t.target&&this.close()},focus(){let t=this.container.querySelector("[autofocus]");t&&t.focus()},maximize(t){this.maximized?(this.maximized=!1,this.$emit("unmaximize",t)):(this.maximized=!0,this.$emit("maximize",t)),this.modal||(this.maximized?ro.addClass(document.body,"p-overflow-hidden"):ro.removeClass(document.body,"p-overflow-hidden"))},enableDocumentSettings(){(this.modal||this.maximizable&&this.maximized)&&ro.addClass(document.body,"p-overflow-hidden")},unbindDocumentState(){(this.modal||this.maximizable&&this.maximized)&&ro.removeClass(document.body,"p-overflow-hidden")},onKeyDown(t){if(9===t.which){t.preventDefault();let e=ro.getFocusableElements(this.container);if(e&&e.length>0)if(document.activeElement){let n=e.indexOf(document.activeElement);t.shiftKey?-1==n||0===n?e[e.length-1].focus():e[n-1].focus():-1==n||n===e.length-1?e[0].focus():e[n+1].focus()}else e[0].focus()}else 27===t.which&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},getPositionClass(){const t=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find((t=>t===this.position));return t?`p-dialog-${t}`:""},containerRef(t){this.container=t},maskRef(t){this.mask=t},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let e in this.breakpoints)t+=`\n                        @media screen and (max-width: ${e}) {\n                            .p-dialog[${this.attributeSelector}] {\n                                width: ${this.breakpoints[e]} !important;\n                            }\n                        }\n                    `;this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag(t){ro.hasClass(t.target,"p-dialog-header-icon")||ro.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",ro.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener(){this.documentDragListener=t=>{if(this.dragging){let e=ro.getOuterWidth(this.container),n=ro.getOuterHeight(this.container),r=t.pageX-this.lastPageX,i=t.pageY-this.lastPageY,o=this.container.getBoundingClientRect(),s=o.left+r,a=o.top+i,u=ro.getViewport();this.container.style.position="fixed",this.keepInViewport?(s>=this.minX&&s+e<u.width&&(this.lastPageX=t.pageX,this.container.style.left=s+"px"),a>=this.minY&&a+n<u.height&&(this.lastPageY=t.pageY,this.container.style.top=a+"px")):(this.lastPageX=t.pageX,this.container.style.left=s+"px",this.lastPageY=t.pageY,this.container.style.top=a+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener(){this.documentDragEndListener=t=>{this.dragging&&(this.dragging=!1,ro.removeClass(document.body,"p-unselectable-text"),this.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maskClass(){return["p-dialog-mask",{"p-component-overlay":this.modal},this.getPositionClass()]},dialogClass(){return["p-dialog p-component",{"p-dialog-rtl":this.rtl,"p-dialog-maximized":this.maximizable&&this.maximized,"p-input-filled":"filled"===this.$primevue.config.inputStyle,"p-ripple-disabled":!1===this.$primevue.config.ripple}]},maximizeIconClass(){return["p-dialog-header-maximize-icon pi",{"pi-window-maximize":!this.maximized,"pi-window-minimize":this.maximized}]},ariaId:()=>so(),ariaLabelledById(){return null!=this.header?this.ariaId+"_header":null},attributeSelector:()=>so(),contentStyleClass(){return["p-dialog-content",this.contentClass]}},directives:{ripple:ho}};const po={class:"p-dialog-header-icons"},go=Vr("span",{class:"p-dialog-header-close-icon pi pi-times"},null,-1),mo={key:1,class:"p-dialog-footer"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-dialog-mask {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    pointer-events: none;\n    background-color: transparent;\n    -webkit-transition-property: background-color;\n    transition-property: background-color;\n}\n.p-dialog-mask.p-component-overlay {\n    pointer-events: auto;\n}\n.p-dialog {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    pointer-events: auto;\n    max-height: 90%;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n}\n.p-dialog-content {\n    overflow-y: auto;\n}\n.p-dialog-header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n}\n.p-dialog-footer {\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n}\n.p-dialog .p-dialog-header-icons {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-dialog .p-dialog-header-icon {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    overflow: hidden;\n    position: relative;\n}\n\n/* Fluid */\n.p-fluid .p-dialog-footer .p-button {\n    width: auto;\n}\n\n/* Animation */\n/* Center */\n.p-dialog-enter-active {\n    -webkit-transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n}\n.p-dialog-leave-active {\n    -webkit-transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n.p-dialog-enter-from,\n.p-dialog-leave-to {\n    opacity: 0;\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7);\n}\n.p-dialog-mask.p-dialog-mask-leave {\n    background-color: transparent;\n}\n\n/* Top, Bottom, Left, Right, Top* and Bottom* */\n.p-dialog-top .p-dialog,\n.p-dialog-bottom .p-dialog,\n.p-dialog-left .p-dialog,\n.p-dialog-right .p-dialog,\n.p-dialog-topleft .p-dialog,\n.p-dialog-topright .p-dialog,\n.p-dialog-bottomleft .p-dialog,\n.p-dialog-bottomright .p-dialog {\n    margin: .75rem;\n    -webkit-transform: translate3d(0px, 0px, 0px);\n            transform: translate3d(0px, 0px, 0px);\n}\n.p-dialog-top .p-dialog-enter-active,\n.p-dialog-top .p-dialog-leave-active,\n.p-dialog-bottom .p-dialog-enter-active,\n.p-dialog-bottom .p-dialog-leave-active,\n.p-dialog-left .p-dialog-enter-active,\n.p-dialog-left .p-dialog-leave-active,\n.p-dialog-right .p-dialog-enter-active,\n.p-dialog-right .p-dialog-leave-active,\n.p-dialog-topleft .p-dialog-enter-active,\n.p-dialog-topleft .p-dialog-leave-active,\n.p-dialog-topright .p-dialog-enter-active,\n.p-dialog-topright .p-dialog-leave-active,\n.p-dialog-bottomleft .p-dialog-enter-active,\n.p-dialog-bottomleft .p-dialog-leave-active,\n.p-dialog-bottomright .p-dialog-enter-active,\n.p-dialog-bottomright .p-dialog-leave-active {\n    -webkit-transition: all .3s ease-out;\n    transition: all .3s ease-out;\n}\n.p-dialog-top .p-dialog-enter-from,\n.p-dialog-top .p-dialog-leave-to {\n    -webkit-transform: translate3d(0px, -100%, 0px);\n            transform: translate3d(0px, -100%, 0px);\n}\n.p-dialog-bottom .p-dialog-enter-from,\n.p-dialog-bottom .p-dialog-leave-to {\n    -webkit-transform: translate3d(0px, 100%, 0px);\n            transform: translate3d(0px, 100%, 0px);\n}\n.p-dialog-left .p-dialog-enter-from,\n.p-dialog-left .p-dialog-leave-to,\n.p-dialog-topleft .p-dialog-enter-from,\n.p-dialog-topleft .p-dialog-leave-to,\n.p-dialog-bottomleft .p-dialog-enter-from,\n.p-dialog-bottomleft .p-dialog-leave-to {\n    -webkit-transform: translate3d(-100%, 0px, 0px);\n            transform: translate3d(-100%, 0px, 0px);\n}\n.p-dialog-right .p-dialog-enter-from,\n.p-dialog-right .p-dialog-leave-to,\n.p-dialog-topright .p-dialog-enter-from,\n.p-dialog-topright .p-dialog-leave-to,\n.p-dialog-bottomright .p-dialog-enter-from,\n.p-dialog-bottomright .p-dialog-leave-to {\n    -webkit-transform: translate3d(100%, 0px, 0px);\n            transform: translate3d(100%, 0px, 0px);\n}\n\n/* Maximize */\n.p-dialog-maximized {\n    -webkit-transition: none;\n    transition: none;\n    -webkit-transform: none;\n            transform: none;\n    width: 100vw !important;\n    max-height: 100%;\n    height: 100%;\n}\n.p-dialog-maximized .p-dialog-content {\n    -webkit-box-flex: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n}\n\n/* Position */\n.p-dialog-left {\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n}\n.p-dialog-right {\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n}\n.p-dialog-top {\n    -webkit-box-align: start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n}\n.p-dialog-topleft {\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n}\n.p-dialog-topright {\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n    -webkit-box-align: start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n}\n.p-dialog-bottom {\n    -webkit-box-align: end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n}\n.p-dialog-bottomleft {\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n}\n.p-dialog-bottomright {\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n    -webkit-box-align: end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n}\n.p-confirm-dialog .p-dialog-content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n"),fo.render=function(t,e,n,r,i,o){const s=wr("ripple");return Cr(),Or(vr,{to:"body"},[i.containerVisible?(Cr(),Or("div",{key:0,ref:o.maskRef,class:o.maskClass,onClick:e[4]||(e[4]=(...t)=>o.onMaskClick&&o.onMaskClick(...t))},[Vr(xi,{name:"p-dialog",onBeforeEnter:o.onBeforeEnter,onEnter:o.onEnter,onBeforeLeave:o.onBeforeLeave,onLeave:o.onLeave,onAfterLeave:o.onAfterLeave,appear:""},{default:Ge((()=>[n.visible?(Cr(),Or("div",Hr({key:0,ref:o.containerRef,class:o.dialogClass},t.$attrs,{role:"dialog","aria-labelledby":o.ariaLabelledById,"aria-modal":n.modal}),[n.showHeader?(Cr(),Or("div",{key:0,class:"p-dialog-header",onMousedown:e[3]||(e[3]=(...t)=>o.initDrag&&o.initDrag(...t))},[Wr(t.$slots,"header",{},(()=>[n.header?(Cr(),Or("span",{key:0,id:o.ariaLabelledById,class:"p-dialog-title"},p(n.header),9,["id"])):Br("",!0)])),Vr("div",po,[n.maximizable?nr((Cr(),Or("button",{key:0,class:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:e[1]||(e[1]=(...t)=>o.maximize&&o.maximize(...t)),type:"button",tabindex:"-1"},[Vr("span",{class:o.maximizeIconClass},null,2)],512)),[[s]]):Br("",!0),n.closable?nr((Cr(),Or("button",{key:1,class:"p-dialog-header-icon p-dialog-header-close p-link",onClick:e[2]||(e[2]=(...t)=>o.close&&o.close(...t)),"aria-label":n.ariaCloseLabel,type:"button",tabindex:"-1"},[go],8,["aria-label"])),[[s]]):Br("",!0)])],32)):Br("",!0),Vr("div",{class:o.contentStyleClass,style:n.contentStyle},[Wr(t.$slots,"default")],6),n.footer||t.$slots.footer?(Cr(),Or("div",mo,[Wr(t.$slots,"footer",{},(()=>[jr(p(n.footer),1)]))])):Br("",!0)],16,["aria-labelledby","aria-modal"])):Br("",!0)])),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],2)):Br("",!0)])};var vo={name:"Button",props:{label:{type:String},icon:{type:String},iconPos:{type:String,default:"left"},badge:{type:String},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",{"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&1===String(this.badge).length}]},disabled(){return this.$attrs.disabled||this.loading}},directives:{ripple:ho}};const yo={class:"p-button-label"};vo.render=function(t,e,n,r,i,o){const s=wr("ripple");return nr((Cr(),Or("button",{class:o.buttonClass,type:"button",disabled:o.disabled},[Wr(t.$slots,"default",{},(()=>[n.loading&&!n.icon?(Cr(),Or("span",{key:0,class:o.iconClass},null,2)):Br("",!0),n.icon?(Cr(),Or("span",{key:1,class:o.iconClass},null,2)):Br("",!0),Vr("span",yo,p(n.label||" "),1),n.badge?(Cr(),Or("span",{key:2,class:o.badgeStyleClass},p(n.badge),3)):Br("",!0)]))],10,["disabled"])),[[s]])};var bo={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(t){this.$emit("update:modelValue",t.target.value)}},computed:{filled(){return null!=this.modelValue&&this.modelValue.toString().length>0}}};bo.render=function(t,e,n,r,i,o){return Cr(),Or("input",{class:["p-inputtext p-component",{"p-filled":o.filled}],value:n.modelValue,onInput:e[1]||(e[1]=(...t)=>o.onInput&&o.onInput(...t))},null,42,["value"])};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var wo=function(){return(wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Io=function(t,e){return(Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eo=function(){return(Eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},To={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=So(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ao(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ko(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Rw){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var No=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Co.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),Co=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?xo(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new No(i,a,r);return u},t}();function xo(t,e){return t.replace(Do,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Do=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lo(t,e){var n=new Ro(t,e);return n.subscribe.bind(n)}var Ro=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Po),void 0===r.error&&(r.error=Po),void 0===r.complete&&(r.complete=Po);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Rw){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(Rw){"undefined"!=typeof console&&console.error&&console.error(Rw)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Po(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return t&&t._delegate?t._delegate:t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fo(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(Rw){o(Rw)}}function a(t){try{u(r.throw(t))}catch(Rw){o(Rw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Vo(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(Rw){o=[6,Rw],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Uo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jo(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Bo(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var qo=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Ko=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new _o;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(Rw){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Rw){if(r)return null;throw Rw}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(Rw){}try{for(var r=Uo(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=jo(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(Rw){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Fo(this,void 0,void 0,(function(){var t;return Vo(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Bo(Bo([],jo(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),jo(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var a=Uo(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=jo(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(s)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=Uo(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo,Ho=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ko(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Go(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo,$o,Qo=[];($o=Wo||(Wo={}))[$o.DEBUG=0]="DEBUG",$o[$o.VERBOSE=1]="VERBOSE",$o[$o.INFO=2]="INFO",$o[$o.WARN=3]="WARN",$o[$o.ERROR=4]="ERROR",$o[$o.SILENT=5]="SILENT";var Xo,Yo={debug:Wo.DEBUG,verbose:Wo.VERBOSE,info:Wo.INFO,warn:Wo.WARN,error:Wo.ERROR,silent:Wo.SILENT},Jo=Wo.INFO,Zo=((zo={})[Wo.DEBUG]="log",zo[Wo.VERBOSE]="log",zo[Wo.INFO]="info",zo[Wo.WARN]="warn",zo[Wo.ERROR]="error",zo),ts=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Zo[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Go(["["+i+"]  "+t.name+":"],n))}},es=function(){function t(t){this.name=t,this._logLevel=Jo,this._logHandler=ts,this._userLogHandler=null,Qo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Wo))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Yo[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,Wo.DEBUG],t)),this._logHandler.apply(this,Go([this,Wo.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,Wo.VERBOSE],t)),this._logHandler.apply(this,Go([this,Wo.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,Wo.INFO],t)),this._logHandler.apply(this,Go([this,Wo.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,Wo.WARN],t)),this._logHandler.apply(this,Go([this,Wo.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,Wo.ERROR],t)),this._logHandler.apply(this,Go([this,Wo.ERROR],t))},t}();function ns(t){Qo.forEach((function(e){e.setLogLevel(t)}))}var rs,is=((Xo={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Xo["bad-app-name"]="Illegal App name: '{$appName}",Xo["duplicate-app"]="Firebase App named '{$appName}' already exists",Xo["app-deleted"]="Firebase App named '{$appName}' already deleted",Xo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Xo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Xo),os=new Co("app","Firebase",is),ss=((rs={})["@firebase/app"]="fire-core",rs["@firebase/analytics"]="fire-analytics",rs["@firebase/app-check"]="fire-app-check",rs["@firebase/auth"]="fire-auth",rs["@firebase/database"]="fire-rtdb",rs["@firebase/functions"]="fire-fn",rs["@firebase/installations"]="fire-iid",rs["@firebase/messaging"]="fire-fcm",rs["@firebase/performance"]="fire-perf",rs["@firebase/remote-config"]="fire-rc",rs["@firebase/storage"]="fire-gcs",rs["@firebase/firestore"]="fire-fst",rs["fire-js"]="fire-js",rs["firebase-wrapper"]="fire-js-all",rs),as=new es("@firebase/app"),us=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=So(void 0,t),this.container=new Ho(e.name),this._addComponent(new qo("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(Rw){as.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,Rw)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw os.create("app-deleted",{appName:this.name_})},t}();us.prototype.name&&us.prototype.options||us.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cs(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw os.create("bad-app-name",{appName:String(s)});if(Oo(e,s))throw os.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ss[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void as.warn(u.join(" "))}o(new qo(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:ns,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw os.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Yo[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Wo[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Qo;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Oo(e,t=t||"[DEFAULT]"))throw os.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return as.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw os.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&So(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls=function t(){var e=cs(us);return e.INTERNAL=wo(wo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){So(e,t)},createSubscribe:Lo,ErrorFactory:Co,deepExtend:So}),e}(),hs=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){as.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fs=self.firebase.SDK_VERSION;fs&&fs.indexOf("LITE")>=0&&as.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ds=ls.initializeApp;ls.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ko()&&as.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ds.apply(void 0,t)};var ps,gs,ms=ls;(ps=ms).INTERNAL.registerComponent(new qo("platform-logger",(function(t){return new hs(t)}),"PRIVATE")),ps.registerVersion("@firebase/app","0.6.28",gs),ps.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ms.registerVersion("firebase","8.8.0","app"),ms.SDK_VERSION="8.8.0",function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ra(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||k[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var _,A="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function C(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}_=C("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(O,D),O.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new R((function(){return new U}),(function(t){t.reset()}));function V(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=j(t,e)}function G(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function vt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ta=!0,mt.prototype.sa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===kt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=vt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(_t,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?vt(t):encodeURIComponent(String(t))})))}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Nt(t,e){this.a=e===Pt?t:""}function Ct(t){return t instanceof Nt&&t.constructor===Nt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Ot.test(t))t=new Nt(t,Pt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&xt.test(e[1])?new Nt(t,Pt):null}return t}function Rt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Pt))}var Pt={},Mt=new Nt("about:invalid#zClosurez",Pt);function Ft(t,e,n){this.a=n===Vt?t:""}Ft.prototype.ta=!0,Ft.prototype.sa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t,e,n,r){return t=t instanceof Nt?t:Rt(t),e=e||s,n=n instanceof mt?vt(n):n||"",e.open(Ct(t),n,r,void 0)}function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=l;var Kt,zt,Ht=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),$t=Wt||Gt,Qt=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(zt=X,Qt?/rv:([^\);]+)(\)|;)/.exec(zt):Wt?/Edge\/([\d\.]+)/.exec(zt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Xt?/WebKit\/(\S+)/.exec(zt):Ht?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Gt){var te=Yt();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(Kt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Gt){var ie=Yt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var se=!Gt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}B(s?Q(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function ge(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),me||(le(),me=!0),ve.add(t,e)}var me=!1,ve=new M;function ye(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){pe(e)}P(F,t)}me=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Le(n,Ie,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(Rw){}Le(n,Ee,t)}))}catch(r){Le(this,Ee,r)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new R((function(){return new Te}),(function(t){t.reset()}));function _e(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(l);return Le(e,Ie,t),e}function ke(t){return new be((function(e,n){n(t)}))}function Ne(t,e,n){Re(t,e,n,null)||ge(w(e,t))}function Ce(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function xe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?xe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ee,e)))}t.c=null}else Le(t,Ee,e)}function De(t,e){t.b||t.a!=Ie&&t.a!=Ee||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=_e(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,De(t,i),i.a}function Le(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ge((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof be)return De(t,_e(e||l,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Pe(t){t.h||(t.h=!0,ge(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(Rw){Ue.call(null,Rw)}P(Se,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Oe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=_e(t,t,e)).c=!0,De(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ge((function(){xe(this,e)}),this)}},t.$c=function(t){this.a=we,Le(this,Ie,t)},t.ad=function(t){this.a=we,Le(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=pe;function je(t){D.call(this,t)}function Be(){this.ya=this.ya,this.pa=this.pa}I(je,D),je.prototype.name="cancel";var qe={};function Ke(t){if(!t.ya&&(t.ya=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}(t);delete qe[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},He=!Gt||9<=Number(oe),Ge=Gt&&!re("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Qe,$e);var Xe=ze({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Je,this.wa=this.Qa=!1}function tn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=mn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?In(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ye])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&hn(t),n.call(r,e)}function gn(t,e){if(t.wa)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function bn(){Be.call(this),this.v=new en(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Sn(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function _n(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(bn,Be),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;pt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=kn.prototype).X=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,Rn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Ln(this,n[4]),this.f=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function On(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Hn)),t.b=new Wn(e,t.i))}function Pn(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Fn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Vn(t,e,n,r){var i=new Dn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Ln(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,qn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Gn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var qn=/[#\/\?@]/g,Kn=/[#\?:]/g,zn=/[#\?]/g,Hn=/[#\?@]/g,Gn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=_n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){$n(t),e=tr(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Yn(t,e){return $n(t),e=tr(t,e),Cn(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Q(n)),t.b+=n.length)}function Zn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){$n(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){$n(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){$n(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=$(e,this.a.get(tr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=kr();return Gt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Ct(Lt(t)||Mt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||kr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Sr(kr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Lt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Rt(e),s.href=Ct(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ut("",r,n,s),t=Ct(e),s&&($t&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Ft(t=(r=It())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ut(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function vr(t){return t=t||kr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return ms.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ms.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function Sr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Er:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var _r={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Sr(i=kr()):"Worker"===r&&(r=Sr(i=kr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function kr(){return s.navigator&&s.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function xr(){return(Dr()||"chrome-extension:"===Or()||vr())&&!Ir()&&Cr()&&!br()}function Dr(){return"http:"===Or()||"https:"===Or()}function Or(){return s.location&&s.location.protocol||null}function Lr(t){return!hr(t=t||kr())&&Sr(t)!=Er}function Rr(t){return void 0===t?null:er(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Sr(t=t||kr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=kr(),e=wr(),this.b=hr(t)||"ReactNative"===e}function Br(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Kr(){return!(!Nr("fireauth.oauthhelper",s)&&!Nr("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Dr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Hr={};function Gr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Wr.abcd}catch(zt){zr=!1}function $r(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function Xr(t){var e={};return Qr(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,Yr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ni]),$r(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(n){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),$r(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Zr(t[li]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[mi]=n||null,e[di]=r):(e[pi]=r||null,e[mi]=r||null,e[di]=n||null),e[gi]=t||null,$r(this,yi,i),$r(this,vi,Yr(e))}I(ii,Jr),ii.prototype.w=function(){var t=ii.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",gi="multiFactorInfo",mi="previousEmail",vi="data",yi="operation";function bi(t){var e=Mn(t=Fn(t),wi)||null,n=Mn(t,Ii)||null,r=Mn(t,Si)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+Ii+"and "+Si+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ei)||null,languageCode:Mn(t,Ti)||null,tenantId:Mn(t,_i)||null})}var wi="apiKey",Ii="oobCode",Ei="continueUrl",Ti="languageCode",Si="mode",_i="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function ki(t){try{return new bi(t)}catch(e){return null}}function Ni(t){var e=t[Li];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Mi];var r=n[Ri];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new T("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",xi="dynamicLinkDomain",Di="handleCodeInApp",Oi="iOS",Li="url",Ri="installApp",Pi="minimumVersion",Mi="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Bi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Bi(t)}catch(e){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function $i(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Qi])return new Yi(t)}catch(r){}return null}var Qi="idToken",Xi="providerId";function Yi(t){var e=t[Xi];if(!e&&t[Qi]){var n=qi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function Ji(t){Yi.call(this,t),$r(this,"profile",Yr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function ro(t){var e=Fn(t),n=Mn(e,"link"),r=Mn(Fn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Fn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}I(Ji,Yi),I(Zi,Ji),I(to,Ji),I(eo,Ji),I(no,Ji);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then((function(t){if(t[Js]){var n=qi(t[Js]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function co(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Wi(t)||{}).Ja||null,this.pb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function yo(t){mo.call(this,t,Hi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){yo.call(this,"github.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){yo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function _o(){mo.call(this,"twitter.com",zi)}function Ao(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function Co(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Do(e)))throw new T("argument-error","Invalid email link!");return new ko(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function Do(t){return(t=ki(t=ro(t)))&&t.operation===ai?t:null}function Oo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Oo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Po(t){try{this.a=t||ms.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Oo({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(t){return wa(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,Ia(t,n)},co.prototype.c=function(t,e){return uo(Ea(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return wa(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,Ia(t,n)},fo.prototype.c=function(t,e){return uo(Ea(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=ft(t),this},I(vo,mo),I(yo,mo),yo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},yo.prototype.Rb=function(){return Q(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},I(bo,yo),$r(bo,"PROVIDER_ID","facebook.com"),$r(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Io,yo),$r(Io,"PROVIDER_ID","github.com"),$r(Io,"GITHUB_SIGN_IN_METHOD","github.com"),I(To,yo),$r(To,"PROVIDER_ID","google.com"),$r(To,"GOOGLE_SIGN_IN_METHOD","google.com"),I(_o,mo),$r(_o,"PROVIDER_ID","twitter.com"),$r(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,xa,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Da,{idToken:e,email:this.a,oobCode:this.f}):ru(t,za,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return uo(this.ka(t),e)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Co,{PROVIDER_ID:"password"}),Qr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.gb(Ro(this))},Oo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,ru(t,tu,n)},Oo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",uo(t=ru(t,eu,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.gb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return ru(t,Ga,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return ru(t,Wa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Po,{PROVIDER_ID:"phone"}),Qr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Ko=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Kb&&$r(this,"email",t.Kb),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.$b&&$r(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Wo(){}function $o(t){return t.c||(t.c=t.b())}function Qo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(Rw){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}I(zo,T),I(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,I(Qo,Wo),Qo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Qo,I(Yo,Wo),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(L("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(d(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function fs(t){this.f=t}function ds(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(fs,Wo),fs.prototype.a=function(){return new ds(this.f)},fs.prototype.b=function(t){return function(){return t}}({}),I(ds,bn);var ps=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function vs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){bn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vs(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?vs(this):ys(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,vs(this))},t.sc=function(t){this.a&&(this.response=t,vs(this))},t.Va=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&vs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(bs,bn);var ws="";bs.prototype.b=ls("goog.net.XhrIo");var Is=/^https?$/i,Es=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=t.D?$o(t.D):$o(qo),t.a.onreadystatechange=b(t.Wb,t);try{hs(t.b,Os(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return hs(t.b,Os(t,"Error opening Xhr: "+a.message)),void _s(t,a)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=An(t),r=_n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ss,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!H(Es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Cs(t),0<t.g&&(t.u=function(t){return Gt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),hs(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){hs(t.b,Os(t,"Send error: "+a.message)),_s(t,a)}}function Ss(t){return"content-type"==t.toLowerCase()}function _s(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,As(t),Ns(t)}function As(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ks(t){if(t.c&&void 0!==o)if(t.C[1]&&4==xs(t)&&2==Ds(t))hs(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==xs(t))Tn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){hs(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(xn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Is.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xs(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ds(t)+"]",As(t)}}finally{Ns(t)}}}function Ns(t,e){if(t.a){Cs(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Rw){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+Rw.message,void 0)}}}function Cs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Os(t,e){return e+" ["+t.P+" "+t.l+" "+Ds(t)+"]"}function Ls(t){var e=zs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Vs(t)}function Ps(t){if(t.a){if(!t.v)throw new Us(t);t.v=!1}}function Ms(t,e,n,r){t.g.push([e,n,r]),t.a&&Vs(t)}function Fs(t){return z(t.g,(function(t){return d(t[1])}))}function Vs(t){if(t.h&&t.a&&Fs(t)){var e=t.h,n=qs[e];n&&(s.clearTimeout(n.a),delete qs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Fs(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ls?(Ms(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Bs(e),qs[e.a]=e,t.h=e.a)}function Us(){D.call(this)}function js(){D.call(this)}function Bs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ns(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ns(this,!0)),bs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?ks(this):this.Jc())},t.Jc=function(){ks(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Ls.prototype.cancel=function(t){if(this.a)this.c instanceof Ls&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Ps(this),Rs(this,!1,t))}},Ls.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},Ls.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ms(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},Ls.prototype.$goog_Thenable=!0,I(Us,D),Us.prototype.message="Deferred has already fired",Us.prototype.name="AlreadyCalledError",I(js,D),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",Bs.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function Ks(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ls(o);return e=window.setTimeout((function(){Hs(i,!0);var t=new $s(Ws,"Timeout reached for loading script "+r);Ps(a),Rs(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,!1,e),Ps(a),Rs(a,!0,null))},i.onerror=function(){Hs(i,!0,e);var t=new $s(Gs,"Error while loading script "+r);Ps(a),Rs(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function zs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,Ws=1;function $s(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Qs(t){this.f=t}function Xs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=ft(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=ft(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&ms.INTERNAL.node&&ms.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new fs(self):Ir()?this.f=new Qs(n):this.f=new Yo,this.b=null}I($s,D),I(Qs,Wo),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Ys,Js="idToken",Zs=new jr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new jr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=kr();return!((t=Sr(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Ys||(Ys=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ms(t,null,e,void 0)}(Ks(St(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Xs.prototype.T=function(){return this.b},Xs.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),Ke(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),Ts(a,t,n,r,i)};var ua=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function la(t,e,n,r,i,o,s){var a=Fn(e+n);Pn(a,"key",t.c),s&&Pn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Pn(a,c,i[c]);return new be((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:er(Pr(i)),t.a,t.v.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!gr.test(t))throw new T("invalid-email")}function fa(t){"email"in t&&ha(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Xs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xs.prototype.Ab=function(){return ru(this,Ha,{})},Xs.prototype.Cb=function(t,e){return ru(this,Ka,{idToken:t,email:e})},Xs.prototype.Db=function(t,e){return ru(this,za,{idToken:t,password:e})};var ga={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ma(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,$a,e)}function Ia(t,e){return e.returnIdpCredential=!0,ru(t,Xa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qa,e)}function Ta(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Xs.prototype).Eb=function(t,e){var n={idToken:t},r=[];return lt(ga,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ka,n)},t.wb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Va,t)},t.xb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Pa,t)},t.vb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ma,t)},t.Fb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fa,t)},t.gb=function(t){return ru(this,Za,t)},t.ob=function(t,e){return ru(this,Ba,{oobCode:t,newPassword:e})},t.Sa=function(t){return ru(this,_a,{oobCode:t})},t.kb=function(t){return ru(this,Sa,{oobCode:t})};var Sa={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},_a={endpoint:"resetPassword",A:Ta,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Aa={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new T("weak-password")},G:da,V:!0,B:!0},ka={endpoint:"createAuthUri",B:!0},Na={endpoint:"deleteAccount",O:["idToken"]},Ca={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},xa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ha,G:da,V:!0,B:!0},Da={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ha,G:da,V:!0},Oa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},La={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},Ra={endpoint:"getAccountInfo"},Pa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Va={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ua={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ja={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ba={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},qa={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ka={endpoint:"setAccountInfo",O:["idToken"],A:fa,V:!0},za={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fa(t),!t.password)throw new T("weak-password")},G:da,V:!0},Ha={endpoint:"signupNewUser",G:da,V:!0,B:!0},Ga={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},$a={endpoint:"verifyAssertion",A:va,Za:ya,G:ba,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:va,Za:ya,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);da(t)},V:!0,B:!0},Xa={endpoint:"verifyAssertion",A:function(t){if(va(t),!t.idToken)throw new T("internal-error")},Za:ya,G:ba,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:da,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new T("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");pa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);da(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return ke(new T("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ae(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),la(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Rr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.sb=function(t){return(lu||(lu=new be((function(t,e){function n(){Ur(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},Ae(Ks(r=St(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new be((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new jr(3e4,6e4),cu=new jr(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Pn(this.a,"apiKey",this.h),Pn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return ms.app(t).auth().Ga()}catch(e){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function gu(t){var e=ur();return function(t){return ru(t,Ua,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(ur())}))}function mu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?Ar(t.c,du(t.b)):null,t.l=new Xs(t.g,C(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.zb(l).toString()}function bu(t){if(this.a=t||ms.INTERNAL.reactNative&&ms.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Pn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Pn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Pn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Pn(t,"apiKey",this.s),Pn(t,"appName",this.c),Pn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=ms.app(this.c).auth().la()}catch(a){n=null}for(var r in e.pb=n,Pn(t,"providerId",this.a.providerId),e=Pr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ht(e)||Pn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Pn(t,"scopes",n.join(","))),this.l?Pn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Pn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Pn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Pn(t,s,this.b[s]);return this.h?Pn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Pn(t,"eid",this.f):Xn(t.b,"eid"),(s=du(this.c)).length&&Pn(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Pb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return mu(t).then((function(){return function(t,e){return t.sb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Sn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=kr();return!Lr(t)&&!Vr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new T("popup-blocked"));if(s&&!Lr())return this.ma().o((function(e){fr(t),i(e)})),r(),Ae();this.a||(this.a=gu(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),s)||cr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=gu(vu(this)));var i=this;return this.a.then((function(){Vo(e),cr(yu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return mu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){W(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Rr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Eu=[];function Tu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Su(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Nu(){if(!Ou())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(B(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Tu(this.v,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new _u(new Su(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Cu(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Cu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function xu(t){return t.i||(t.i=Cu(t)),t.i}function Du(t,e){var n=0;return new be((function r(i,o){xu(t).then(e).then(i).o((function(e){if(!(3<++n))return xu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!s.indexedDB}catch(zt){return!1}}function Lu(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Fu(t){return xu(t).then((function(t){var e=Lu(Ru(t,!1));return e.getAll?Pu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Ou()){var t=Fr(),r="__sak"+t;return Iu||(Iu=new Nu),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function ju(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==wr();if(!(t=qu()||t&&ms.INTERNAL.node&&ms.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=qu()||ms.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){this.type="nullStorage"}function zu(){if(!function(){var t="Node"==wr();if(!(t=Hu()||t&&ms.INTERNAL.node&&ms.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Hu()||ms.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gu(){var t={};t.Browser=Qu,t.Node=Xu,t.ReactNative=Yu,t.Worker=Ju,this.a=t[wr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),Ce(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Su.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Pu((e=Lu(Ru(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=Lu(Ru(o,!0)),i)return i.value=e,Pu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Pu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Du(this,(function(e){return Pu(Lu(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Pu(Lu(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=ju.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&ln(s.window,"storage",t)},(t=Ku.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=zu.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,$u,Qu={F:Bu,cb:zu},Xu={F:Bu,cb:zu},Yu={F:bu,cb:Ku},Ju={F:Bu,cb:Ku},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(kr())||!yr()),e=Lr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Gu),t=Wu;try{this.g=!ar()&&Kr()||!s.indexedDB?new t.a.F:new Uu(br()?new ju:new t.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new ju}this.v=new ju,this.f=b(this.Zb,this),this.b={}}function ec(){return $u||($u=new tc),$u}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(nc(this,"local").ca(this.f),this.h||(ar()||!Kr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Gt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(yc):yc),this.reset()}I(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var gc=$(128,dc);function mc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(mc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(mc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Q(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}I(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,gc,56-e.c):vc(e,gc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(mc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Sc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Fn(i),"firebaseError")||null))?S(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Sc(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Sn(500).then((function(){return Ac(t).then((function(){r||Sc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ko||(Ko=new Bo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?mr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Pb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ae()},t.Nb=function(){return ke(new T("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return ke(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ae().then((function(){return Vo(e),_c(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",s),l={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!kr().toLowerCase().match(/android/))return ke(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=kr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Sn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){Br()&&c()},o.addEventListener("resume",c,!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),_c(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ta=function(t){W(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function Cc(t){return ic(t.b,Nc,t.a)}function xc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Hc,this.C=new Xc,this.g=new kc(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,_,this.J)}function Dc(t,e,n,r,i){var o=ms.SDK_VERSION||null;return vr()?new Ic(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function Oc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Lc(t){t.a.Yb()&&Oc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Ub()||Gc(t.b)}function Rc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Cc(t.g).then((function(){Oc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):Lc(t)})).o((function(){Lc(t)}))}function Pc(t,e){W(t.h,(function(t){return t==e}))}xc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},xc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Gc(this.b),e};var Mc=new jr(2e3,1e4),Fc=new jr(3e4,6e4);function Vc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Uc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new be((function(){})):Cc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Bc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Mc.get())}xc.prototype.ra=function(){return this.b.ra()};var qc={};function Kc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function zc(t,e,n,r){var i=Kc(e,n,r);return qc[i]||(qc[i]=new xc(t,e,n,r)),qc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function $c(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):$c(t,n):$c(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Jc(t,e){this.a=e,$r(this,"verificationId",t)}function Zc(t,e,n,r){return new Po(t).gb(e,n).then((function(t){return new Jc(t,r)}))}function tl(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;B(e[nl]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Qc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Qc(t,a,e,null)})).o((function(e){Qc(t,a,null,e)}))}(this,t,e):ke(new T("invalid-auth-event")):(Qc(this,!1,null,null),Ae())}else ke(new T("invalid-auth-event"))},Hc.prototype.ra=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Sn(Fc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):ke(new T("invalid-auth-event"))}else ke(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),$r(this,"resolver",this.b)}function ol(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function sl(){}function al(t){$r(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,$r(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Br()||!t?Ae():new be((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dl(t,!0)})).o((function(e){t.i(e)&&dl(t,!1)}))}function pl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function gl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function ml(t,e){t.b=qi(e[Js]||""),t.a=e.refreshToken,gl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function vl(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,gl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function bl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=ms.SDK_VERSION?Ar(ms.SDK_VERSION):null;this.a=new Xs(this.l,C(_),r),(this.u=t.emulatorConfig||null)&&ia(this.a,this.u),this.h=new pl(this.a),Cl(this,e[Js]),ml(this.h,e),$r(this,"refreshToken",this.h.a),Ol(this,n||{}),bn.call(this),this.P=!1,this.s&&xr()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){Il(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Sl(i,t.f)},this.ja=null,this.S=new ll(this,n),$r(this,"multiFactor",this.S)}function Il(t,e){t.u=e,ia(t.a,e),t.b&&(e=t.b,t.b=zc(t.s,t.l,t.m,t.u),t.P&&(Pc(e,t),Rc(t.b,t)))}function El(t,e){t.qa&&ln(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&an(e,"languageCodeChanged",t.Pa)}function Tl(t,e){t.$&&ln(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&an(e,"emulatorConfigChanged",t.Ba)}function Sl(t,e){t.aa=e,sa(t.a,ms.SDK_VERSION?Ar(ms.SDK_VERSION,t.aa):null)}function _l(t,e){t.ja&&ln(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&an(e,"frameworkChanged",t.Oa)}function Al(t){try{return ms.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function kl(t){t.J||t.D.b||(t.D.start(),ln(t,"tokenChanged",t.ba),an(t,"tokenChanged",t.ba))}function Nl(t){ln(t,"tokenChanged",t.ba),t.D.stop()}function Cl(t,e){t.Aa=e,$r(t,"_lat",e)}function xl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ce(e).then((function(){return t}))}function Dl(t){t.b&&!t.P&&(t.P=!0,Rc(t.b,t))}function Ol(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ll(){}function Rl(t){return Ae().then((function(){if(t.J)throw new T("app-deleted")}))}function Pl(t){return K(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(Fl(t,e.providerId),t.providerData.push(e))}function Fl(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Vl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Ul(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new yl(t.a,t.b)}(e.metadata)):$r(t,"metadata",new yl),B(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),$r(t,"refreshToken",t.h.a),hl(t.S,e.S.b))}function jl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Ra,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Vl(t,"isAnonymous",!1),e}))}))}function Bl(t,e){e[Js]&&t.Aa!=e[Js]&&(ml(t.h,e),t.dispatchEvent(new cl("tokenChanged")),Cl(t,e[Js]),Vl(t,"refreshToken",t.h.a))}function ql(t,e){return jl(t).then((function(){if(H(Pl(t),e))return xl(t).then((function(){throw new T("provider-already-linked")}))}))}function Kl(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=$i(e),operationType:n})}function zl(t,e){return Bl(t,e),t.reload().then((function(){return t}))}function Hl(t,e,n,r,i){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return ke(t.i);var o=Wi(n.providerId),s=Fr(t.uid+":::"),a=null;(!Lr()||yr())&&t.s&&n.isOAuthProvider&&(a=yu(t.s,t.l,t.m,e,n,null,s,ms.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=dr(a,o&&o.va,o&&o.ua);return r=r().then((function(){if(Wl(t),!i)return t.I().then((function(){}))})).then((function(){return Vc(t.b,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Bc(t.b,t,e,u,s)}))})).then((function(t){return u&&fr(u),t?Xr(t):null})).o((function(t){throw u&&fr(u),t})),$l(t,r,i)}function Gl(t,e,n,r,i){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return ke(t.i);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(Wl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,xl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return jc(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Jl(t.ha);throw o})).then((function(){if(o)throw o})),$l(t,r,i)}function Wl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function $l(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),ke(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new cl("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){G(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),Al(t),b(t.jc,t))),n||e}))}function Ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wl(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Ml(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nl],delete n[rl],pt(n,t),e.g(n)}))},I(il,T),sl.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Ro(t.a)}),ru(e,Oa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),ru(e,La,n)}))}(this,t,e)},I(al,sl),I(ul,al),I(cl,$e),(t=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Bl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return hl(e,r),Bl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,dl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},pl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?vl(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(wl,bn),wl.prototype.xa=function(t){this.za=t,ra(this.a,t)},wl.prototype.la=function(){return this.za},wl.prototype.Ga=function(){return Q(this.aa)},wl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},$r(wl.prototype,"providerId","firebase"),(t=wl.prototype).reload=function(){var t=this;return $l(this,Rl(this).then((function(){return jl(t).then((function(){return xl(t)})).then(Ll)})))},t.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},t.I=function(t){var e=this;return $l(this,Rl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.Aa&&(Cl(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Vl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ol(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new bl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Vl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return $l(this,t.c(this.a,this.uid).then((function(t){return Bl(e,t),n=Kl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return $l(this,ql(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Kl(e,t,"link"),zl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return $l(this,ql(this,"phone").then((function(){return Zc(Al(n),t,e,b(n.rb,n))})))},t.Mc=function(t,e){var n=this;return $l(this,Ae().then((function(){return Zc(Al(n),t,e,b(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Bl(e,t),e.reload()})))},t.ed=function(t){var e=this;return $l(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Bl(e,t),e.reload()})))},t.Db=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Bl(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rl(this);var e=this;return $l(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Bl(e,t),Vl(e,"displayName",t.displayName||null),Vl(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))})),xl(e)})).then(Ll))},t.cd=function(t){var e=this;return $l(this,jl(this).then((function(n){return H(Pl(e),t)?function(t,e,n){return ru(t,Ca,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Pl(e),(function(t){n[t]||Fl(e,t)})),n[Po.PROVIDER_ID]||$r(e,"phoneNumber",null),xl(e)})):xl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return $l(this,this.I().then((function(e){return ru(t.a,Na,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");El(t,null),Tl(t,null),_l(t,null),t.N=[],t.J=!0,Nl(t),$r(t,"refreshToken",null),t.b&&Pc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return Hl(this,"linkViaPopup",t,(function(){return ql(e,t.providerId).then((function(){return xl(e)}))}),!1)},t.Nc=function(t){return Hl(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Fc=function(t){var e=this;return Gl(this,"linkViaRedirect",t,(function(){return ql(e,t.providerId)}),!1)},t.Oc=function(t){return Gl(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,this.I().then((function(n){return Ia(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Kl(i,t,"link"),zl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,Ae().then((function(){return uo(Ea(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Kl(i,t,"reauthenticate"),Bl(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return $l(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Vi(new Ni(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return $l(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Vi(new Ni(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return $l(this,t=uo(Ae(t),n.uid).then((function(t){return e=Kl(n,t,"reauthenticate"),Bl(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.S.w()),t};var Yl={name:"redirectUser",F:"session"};function Jl(t){return ic(t.b,Yl,t.a)}function Zl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=nh("local"),n=nh("session"),r=nh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(eh,t.a).then((function(t){return t?nh(t):e}))}))}))})).then((function(e){return t.c=e,th(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nh("local"),this.a,b(this.g,this))}function th(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,nh(Zu[n]),t.a));return r.push(ic(t.b,eh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ne(t[a],w(o,a),s);else e(i)}))}(r)}Zl.prototype.g=function(){var t=this,e=nh("local");sh(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return th(t,"local").then((function(){t.c=e}))}))}))};var eh={name:"persistence",F:"session"};function nh(t){return{name:"authUser",F:t}}function rh(t,e){return sh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ih(t){return sh(t,(function(){return ic(t.b,t.c,t.a)}))}function oh(t,e,n){return sh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ql(t||{})}))}))}function sh(t,e){return t.f=t.f.then(e,e),t.f}function ah(t){if(this.l=!1,$r(this,"settings",new Yc),$r(this,"app",t),!mh(this).options||!mh(this).options.apiKey)throw new T("invalid-api-key");t=ms.SDK_VERSION?Ar(ms.SDK_VERSION):null,this.a=new Xs(mh(this).options&&mh(this).options.apiKey,C(_),t),this.P=[],this.s=[],this.N=[],this.Pa=ms.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=ms.INTERNAL.createSubscribe(b(this.Ac,this)),ph(this,null),this.i=new Zl(mh(this).options.apiKey+":"+mh(this).name),this.D=new Xl(mh(this).options.apiKey+":"+mh(this).name),this.$=wh(this,function(t){var e=mh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ql(t||{})}))}(t.D,mh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Jl(t.D)}));return wh(t,e)}(t).then((function(){return oh(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ih(t.i)}))):null})).then((function(e){ph(t,e||null)}));return wh(t,n)}(this)),this.h=wh(this,function(t){return t.$.then((function(){return fh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(nh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=mh(t).options.authDomain,n=mh(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=zc(e,n,mh(t).name,t.R),Rc(t.b,t),vh(t)&&Dl(vh(t)),t.m){Dl(t.m);var r=t.m;r.xa(t.la()),El(r,t),Sl(r=t.m,t.J),_l(r,t),Il(r=t.m,t.R),Tl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Fn(this.R.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function uh(t){$e.call(this,"languageCodeChanged"),this.h=t}function ch(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function lh(t){$e.call(this,"frameworkChanged"),this.f=t}function hh(t){return t.Oa||ke(new T("auth-domain-config-required"))}function fh(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=hh(t).then((function(){return t.b.ra()})).then((function(t){return t?Xr(t):null}));return wh(t,e)}function dh(t,e){var n={};return n.apiKey=mh(t).options.apiKey,n.authDomain=mh(t).options.authDomain,n.appName=mh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new wl(t,e);return n&&(i.ha=n),r&&Sl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vh(t)&&e.uid==vh(t).uid?(Ul(vh(t),e),t.da(e)):(ph(t,e),Dl(e),t.da(e))})).then((function(){bh(t)}))}function ph(t,e){vh(t)&&(function(t,e){W(t.W,(function(t){return t==e}))}(vh(t),t.Ba),ln(vh(t),"tokenChanged",t.qa),ln(vh(t),"userDeleted",t.za),ln(vh(t),"userInvalidated",t.Aa),Nl(vh(t))),e&&(e.W.push(t.Ba),an(e,"tokenChanged",t.qa),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&kl(e)),$r(t,"currentUser",e),e&&(e.xa(t.la()),El(e,t),Sl(e,t.J),_l(e,t),Il(e,t.R),Tl(e,t))}function gh(t,e){var n=null,r=null;return wh(t,e.then((function(e){return n=Fo(e),r=$i(e),dh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Xr({user:vh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function mh(t){return t.app}function vh(t){return t.currentUser}function yh(t){return vh(t)&&vh(t)._lat||null}function bh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](yh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](yh(t))}}function wh(t,e){return t.P.push(e),e.oa((function(){G(t.P,e)})),e}function Ih(){}function Eh(){this.a={},this.b=1e12}Zl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),sh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,th(n,t)})).then((function(){if(n.c=nh(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},I(ah,bn),I(uh,$e),I(ch,$e),I(lh,$e),(t=ah.prototype).yb=function(t){return wh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new uh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ia(this.a,this.R),this.dispatchEvent(new ch(this.R))}},t.Gc=function(t){this.J.push(t),sa(this.a,ms.SDK_VERSION?Ar(ms.SDK_VERSION,this.J):null),this.dispatchEvent(new lh(this.J))},t.Ga=function(){return Q(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:mh(this).options.apiKey,authDomain:mh(this).options.authDomain,appName:mh(this).name,currentUser:vh(this)&&vh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return gh(i,wa(i.a,o))}))},t.Xc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Fr(),i=null;(!Lr()||yr())&&mh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(mh(this).options.authDomain,mh(this).options.apiKey,mh(this).name,"signInViaPopup",t,null,r,ms.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return wh(this,n=hh(this).then((function(n){return Vc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Bc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?Xr(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this;return wh(this,hh(this).then((function(){return function(t){return sh(t,(function(){return t.b.set(eh,t.c.F,t.a)}))}(e.i)})).then((function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return fh(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return ke(new T("null-user"));if(this.S!=t.tenantId)return ke(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=mh(this).options.apiKey,n.authDomain=mh(this).options.authDomain,n.appName=mh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Sl(e,r),Ul(e,t),e}(t,n,e.D,e.Ga());return wh(this,this.h.then((function(){if(mh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vh(e)&&t.uid==vh(e).uid?(Ul(vh(e),t),e.da(t)):(ph(e,r),Dl(r),e.da(r))})).then((function(){bh(e)})))},t.Bb=function(){var t=this;return wh(this,this.h.then((function(){return t.b&&Wc(t.b.b),vh(t)?(ph(t,null),ih(t.i).then((function(){bh(t)}))):Ae()})))},t.Zc=function(){var t=this;return oh(this.i,mh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vh(t)&&e){n=vh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ul(vh(t),e),vh(t).I();(vh(t)||e)&&(ph(t,e),e&&(Dl(e),e.ha=t.D),t.b&&Rc(t.b,t),bh(t))}}))},t.da=function(t){return rh(this.i,t)},t.mc=function(){bh(this),this.da(vh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return gh(e,Ae(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),wh(t,t.h.then((function(){!t.l&&H(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(yh(t)))})))}(this,(function(){t.next(vh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return wh(this,this.h.then((function(){return vh(e)?vh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return gh(e,ru(e.a,Ya,{token:t}))})).then((function(t){var n=t.user;return Vl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return gh(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return gh(n,ru(n.a,Aa,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return gh(e,t.ka(e.a))}))},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=vh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return gh(t,t.a.Ab()).then((function(e){var n=e.user;return Vl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return vh(this)&&vh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vh(this)&&kl(vh(this))},t.Pc=function(t){var e=this;B(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vh(this)&&Nl(vh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),wh(this,this.h.then((function(){e.l||H(e.s,t)&&t(yh(e))})))},t.removeAuthTokenListener=function(t){W(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(nh("local"),t.a,this.ja),this.b&&(Pc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return wh(this,function(t,e){return ru(t,ka,{identifier:e,continueUri:Dr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Do(t)},t.xb=function(t,e){var n=this;return wh(this,Ae().then((function(){var t=new Ni(e);if(!t.c)throw new T("argument-error",Di+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return wh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return wh(this,this.a.Sa(t).then((function(t){return new oi(t)})))},t.kb=function(t){return wh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return wh(this,Ae().then((function(){return void 0===e||ht(e)?{}:Vi(new Ni(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return wh(this,Zc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return wh(this,Ae().then((function(){var r=e||ur(),i=xo(t,r);if(!(r=Do(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Th=null;function Sh(t,e){return(e=_h(e))&&t.a[e]||null}function _h(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ah(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function kh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nh(){}function Ch(){}Eh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ah(t,e),this.b++},Eh.prototype.reset=function(t){var e=Sh(this,t);t=_h(t),e&&t&&(e.delete(),delete this.a[t])},Eh.prototype.getResponse=function(t){return(t=Sh(this,t))?t.getResponse():null},Eh.prototype.execute=function(t){(t=Sh(this,t))&&t.execute()},Ah.prototype.getResponse=function(){return kh(this),this.b},Ah.prototype.execute=function(){kh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Ah.prototype.delete=function(){kh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},$r(Nh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return Th||(Th=new Eh),Ae(Th)},Ch.prototype.c=function(){};var xh=null;function Dh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Lh=new jr(3e4,6e4);Dh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Lh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Ae(Ks(St(Oh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Dh.prototype.c=function(){this.b--};var Rh=null;function Ph(t,e,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(xh||(xh=new Ch),a=xh):(Rh||(Rh=new Dh),a=Rh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Mh];this.a[Mh]=function(t){if(jh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Fh];this.a[Fh]=function(){if(jh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Nr(l,s);"function"==typeof t&&t()}}}var Mh="callback",Fh="expired-callback",Vh="sitekey",Uh="size";function jh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Bh(t,e){return t.h.push(e),e.oa((function(){G(t.h,e)})),e}function qh(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kh(t,e,n){var r=!1;try{this.b=n||ms.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=ms.SDK_VERSION?Ar(ms.SDK_VERSION,o):null,Ph.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,C(_),r)}function zh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Hh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Bh(this,Ae().then((function(){if(Dr()&&!br())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,ja,{})})).then((function(e){t.a[Vh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qh(this);var t=this;return Bh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qh(this);var t=this;return Bh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){qh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Kh,Ph);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Wh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function $h(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Qh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Xh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Jh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Zh(t){return p(t)&&"string"==typeof t.uid}function tf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function ef(t,e){for(var n in e){var r=e[n].name;t[r]=of(r,t[n],e[n].j)}}function nf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){zh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function rf(t,e,n,r){t[e]=of(e,n,r)}function of(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return zh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ef(ah.prototype,{kb:{name:"applyActionCode",j:[Gh("code")]},Sa:{name:"checkActionCode",j:[Gh("code")]},ob:{name:"confirmPasswordReset",j:[Gh("code"),Gh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gh("email"),Gh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Gh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Gh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[tf($h(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[tf($h(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Gh("email"),tf($h("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Gh("email"),$h("actionCodeSettings")]},yb:{name:"setPersistence",j:[Gh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Gh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Gh("email"),Gh("password")]},Vc:{name:"signInWithEmailLink",j:[Gh("email"),Gh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[tf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wl)}},Xh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Gh("url"),$h("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Gh("code")]}}),nf(ah.prototype,{lc:{name:"languageCode",lb:tf(Gh(),Xh(),"languageCode")},ti:{name:"tenantId",lb:tf(Gh(),Xh(),"tenantId")}}),ah.Persistence=Zu,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",ef(wl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Wh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Wh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},rb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},ub:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[tf($h("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},cd:{name:"unlink",j:[Gh("provider")]},Cb:{name:"updateEmail",j:[Gh("email")]},Db:{name:"updatePassword",j:[Gh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Eb:{name:"updateProfile",j:[$h("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Gh("email"),tf($h("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]}}),ef(Eh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Wh("appVerificationDisabledForTesting")}}),ef(Jc.prototype,{confirm:{name:"confirm",j:[Gh("verificationCode")]}}),rf(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,No,Lo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[tf(Gh(),$h(),"json")]),rf(Co,"credential",(function(t,e){return new ko(t,e)}),[Gh("email"),Gh("password")]),ef(ko.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(bo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(bo,"credential",wo,[tf(Gh(),$h(),"token")]),rf(Co,"credentialWithLink",xo,[Gh("email"),Gh("emailLink")]),ef(Io.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(Io,"credential",Eo,[tf(Gh(),$h(),"token")]),ef(To.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(To,"credential",So,[tf(Gh(),tf($h(),Xh()),"idToken"),tf(Gh(),Xh(),"accessToken",!0)]),ef(_o.prototype,{Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),rf(_o,"credential",Ao,[tf(Gh(),$h(),"token"),Gh("secret",!0)]),ef(yo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},credential:{name:"credential",j:[tf(Gh(),tf($h(),Xh()),"optionsOrIdToken"),tf(Gh(),Xh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),ef(fo.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(co.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),rf(Po,"credential",Mo,[Gh("verificationId"),Gh("verificationCode")]),ef(Po.prototype,{gb:{name:"verifyPhoneNumber",j:[tf(Gh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Jh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Jh(t.session,so)&&Zh(t.multiFactorHint):t.session&&t.multiFactorUid?Jh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ef(Oo.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(T.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(Ho.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(zo.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(il.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),ef(ll.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Gh("displayName",!0)]},bd:{name:"unenroll",j:[tf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zh},Gh(),"multiFactorInfoIdentifier")]}}),ef(Kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(bi,"parseLink",ki,[Gh("link")]),rf(Nh,"assertion",(function(t){return new ul(t)}),[Yh("phone")]),function(){if(void 0===ms||!ms.INTERNAL||!ms.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:ao,Error:T};rf(t,"EmailAuthProvider",Co,[]),rf(t,"FacebookAuthProvider",bo,[]),rf(t,"GithubAuthProvider",Io,[]),rf(t,"GoogleAuthProvider",To,[]),rf(t,"TwitterAuthProvider",_o,[]),rf(t,"OAuthProvider",yo,[Gh("providerId")]),rf(t,"SAMLAuthProvider",vo,[Gh("providerId")]),rf(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ah)}}]),rf(t,"RecaptchaVerifier",Kh,[tf(Gh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),$h("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof ms.app.App)}}]),rf(t,"ActionCodeURL",bi,[]),rf(t,"PhoneMultiFactorGenerator",Nh,[]),ms.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ah(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),ms.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ms.registerVersion("@firebase/auth","0.16.8"),ms.INTERNAL.extendNamespace({User:wl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var vs=function(t,e){return(vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ys(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}vs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function bs(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(Rw){o(Rw)}}function a(t){try{u(r.throw(t))}catch(Rw){o(Rw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function ws(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(Rw){o=[6,Rw],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Is(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Es=function(t,e){return(Es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ts(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ss,_s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},As=As||{},ks=_s||self;function Ns(){}function Cs(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ds="closure_uid_"+(1e9*Math.random()>>>0),Os=0;function Ls(t,e,n){return t.call.apply(t.bind,arguments)}function Rs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ps(t,e,n){return(Ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ls:Rs).apply(null,arguments)}function Ms(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Fs(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Vs(){this.s=this.s,this.o=this.o}var Us={};Vs.prototype.s=!1,Vs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Ds)&&t[Ds]||(t[Ds]=++Os)}(this);delete Us[t]}},Vs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var js=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Bs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function qs(t){return Array.prototype.concat.apply([],arguments)}function Ks(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function zs(t){return/^[\s\xa0]*$/.test(t)}var Hs,Gs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ws(t,e){return-1!=t.indexOf(e)}function $s(t,e){return t<e?-1:t>e?1:0}t:{var Qs=ks.navigator;if(Qs){var Xs=Qs.userAgent;if(Xs){Hs=Xs;break t}}Hs=""}function Ys(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Js(t){var e={};for(var n in t)e[n]=t[n];return e}var Zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ta(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Zs.length;o++)n=Zs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ea(t){return ea[" "](t),t}ea[" "]=Ns;var na,ra,ia=Ws(Hs,"Opera"),oa=Ws(Hs,"Trident")||Ws(Hs,"MSIE"),sa=Ws(Hs,"Edge"),aa=sa||oa,ua=Ws(Hs,"Gecko")&&!(Ws(Hs.toLowerCase(),"webkit")&&!Ws(Hs,"Edge"))&&!(Ws(Hs,"Trident")||Ws(Hs,"MSIE"))&&!Ws(Hs,"Edge"),ca=Ws(Hs.toLowerCase(),"webkit")&&!Ws(Hs,"Edge");function la(){var t=ks.document;return t?t.documentMode:void 0}t:{var ha="",fa=(ra=Hs,ua?/rv:([^\);]+)(\)|;)/.exec(ra):sa?/Edge\/([\d\.]+)/.exec(ra):oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ra):ca?/WebKit\/(\S+)/.exec(ra):ia?/(?:Version)[ \/]?(\S+)/.exec(ra):void 0);if(fa&&(ha=fa?fa[1]:""),oa){var da=la();if(null!=da&&da>parseFloat(ha)){na=String(da);break t}}na=ha}var pa,ga={};function ma(){return function(t){var e=ga;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=Gs(String(na)).split("."),n=Gs("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=$s(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||$s(0==o[2].length,0==s[2].length)||$s(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(ks.document&&oa){var va=la();pa=va||(parseInt(na,10)||void 0)}else pa=void 0;var ya=pa,ba=function(){if(!ks.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ks.addEventListener("test",Ns,e),ks.removeEventListener("test",Ns,e)}catch(n){}return t}();function wa(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ia(t,e){if(wa.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ua){t:{try{ea(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ea[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ia.Z.h.call(this)}}wa.prototype.h=function(){this.defaultPrevented=!0},Fs(Ia,wa);var Ea={2:"touch",3:"pen",4:"mouse"};Ia.prototype.h=function(){Ia.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ta="closure_listenable_"+(1e6*Math.random()|0),Sa=0;function _a(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Sa,this.ca=this.fa=!1}function Aa(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ka(t){this.src=t,this.g={},this.h=0}function Na(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=js(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Aa(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ca(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ka.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Ca(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new _a(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var xa="closure_lm_"+(1e6*Math.random()|0),Da={};function Oa(t,e,n,r,i){if(r&&r.once)return Ra(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Oa(t,e[o],n,r,i);return null}return n=Ba(n),t&&t[Ta]?t.N(e,n,xs(r)?!!r.capture:!!r,i):La(t,e,n,!1,r,i)}function La(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xs(i)?!!i.capture:!!i,a=Ua(t);if(a||(t[xa]=a=new ka(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=Va;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ba||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ra(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ra(t,e[o],n,r,i);return null}return n=Ba(n),t&&t[Ta]?t.O(e,n,xs(r)?!!r.capture:!!r,i):La(t,e,n,!0,r,i)}function Pa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Pa(t,e[o],n,r,i);else r=xs(r)?!!r.capture:!!r,n=Ba(n),t&&t[Ta]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=Ca(o=t.g[e],n,r,i))&&(Aa(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Ua(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ca(e,n,r,i)),(n=-1<t?e[t]:null)&&Ma(n))}function Ma(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Ta])Na(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ua(e))?(Na(n,t),0==n.h&&(n.src=null,e[xa]=null)):Aa(t)}}}function Fa(t){return t in Da?Da[t]:Da[t]="on"+t}function Va(t,e){if(t.ca)t=!0;else{e=new Ia(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Ma(t),t=n.call(r,e)}return t}function Ua(t){return(t=t[xa])instanceof ka?t:null}var ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ba(t){return"function"==typeof t?t:(t[ja]||(t[ja]=function(e){return t.handleEvent(e)}),t[ja])}function qa(){Vs.call(this),this.i=new ka(this),this.P=this,this.I=null}function Ka(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new wa(e,t);else if(e instanceof wa)e.target=e.target||t;else{var i=e;ta(e=new wa(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=za(s,r,!0,e)&&i}if(i=za(s=e.g=t,r,!0,e)&&i,i=za(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=za(s=e.g=n[o],r,!1,e)&&i}function za(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Na(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Fs(qa,Vs),qa.prototype[Ta]=!0,qa.prototype.removeEventListener=function(t,e,n,r){Pa(this,t,e,n,r)},qa.prototype.M=function(){if(qa.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Aa(n[r]);delete e.g[t],e.h--}}this.I=null},qa.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},qa.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ha=ks.JSON.stringify;function Ga(){var t=tu,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Wa,$a=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Qa.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Qa=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Xa}),(function(t){return t.reset()})),Xa=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ya(t){ks.setTimeout((function(){throw t}),0)}function Ja(t,e){Wa||function(){var t=ks.Promise.resolve(void 0);Wa=function(){t.then(eu)}}(),Za||(Wa(),Za=!0),tu.add(t,e)}var Za=!1,tu=new $a;function eu(){for(var t;t=Ga();){try{t.h.call(t.g)}catch(n){Ya(n)}var e=Qa;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Za=!1}function nu(t,e){qa.call(this),this.h=t||1,this.g=e||ks,this.j=Ps(this.kb,this),this.l=Date.now()}function ru(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function iu(t,e,n){if("function"==typeof t)n&&(t=Ps(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ps(t.handleEvent,t)}return 2147483647<Number(e)?-1:ks.setTimeout(t,e||0)}function ou(t){t.g=iu((function(){t.g=null,t.i&&(t.i=!1,ou(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Fs(nu,qa),(Ss=nu.prototype).da=!1,Ss.S=null,Ss.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ka(this,"tick"),this.da&&(ru(this),this.start()))}},Ss.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ss.M=function(){nu.Z.M.call(this),ru(this),delete this.g};var su=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Es(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:ou(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(ks.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Vs);function au(t){Vs.call(this),this.h=t,this.g={}}Fs(au,Vs);var uu=[];function cu(t,e,n,r){Array.isArray(n)||(n&&(uu[0]=n.toString()),n=uu);for(var i=0;i<n.length;i++){var o=Oa(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function lu(t){Ys(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Ma(t)}),t),t.g={}}function hu(){this.g=!0}function fu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ha(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}au.prototype.M=function(){au.Z.M.call(this),lu(this)},au.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hu.prototype.Aa=function(){this.g=!1},hu.prototype.info=function(){};var du={},pu=null;function gu(){return pu=pu||new qa}function mu(t){wa.call(this,du.Ma,t)}function vu(t){var e=gu();Ka(e,new mu(e,t))}function yu(t,e){wa.call(this,du.STAT_EVENT,t),this.stat=e}function bu(t){var e=gu();Ka(e,new yu(e,t))}function wu(t,e){wa.call(this,du.Na,t),this.size=e}function Iu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ks.setTimeout((function(){t()}),e)}du.Ma="serverreachability",Fs(mu,wa),du.STAT_EVENT="statevent",Fs(yu,wa),du.Na="timingevent",Fs(wu,wa);var Eu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Tu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Su(){}function _u(t){return t.h||(t.h=t.i())}function Au(){}Su.prototype.h=null;var ku,Nu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cu(){wa.call(this,"d")}function xu(){wa.call(this,"c")}function Du(){}function Ou(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new au(this),this.P=Ru,t=aa?125:void 0,this.W=new nu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lu}function Lu(){this.i=null,this.g="",this.h=!1}Fs(Cu,wa),Fs(xu,wa),Fs(Du,Su),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},ku=new Du;var Ru=45e3,Pu={},Mu={};function Fu(t,e,n){t.K=1,t.v=sc(tc(e)),t.s=n,t.U=!0,Vu(t,null)}function Vu(t,e){t.F=Date.now(),qu(t),t.A=tc(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),bc(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Lu,t.g=wl(t.l,n?e:null,!t.s),0<t.O&&(t.L=new su(Ps(t.Ia,t,t.g),t.O)),cu(t.V,t.g,"readystatechange",t.gb),e=t.H?Js(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),vu(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Uu(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function ju(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Bu(t,n))==Mu){4==e&&(t.o=4,bu(14),i=!1),fu(t.j,t.m,null,"[Incomplete Response]");break}if(r==Pu){t.o=4,bu(15),fu(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}fu(t.j,t.m,r,null),Wu(t,r)}Uu(t)&&r!=Mu&&r!=Pu&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,bu(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fl(e),e.L=!0,bu(11))):(fu(t.j,t.m,n,"[Invalid Chunked Response]"),Gu(t),Hu(t))}function Bu(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Mu:(n=Number(e.substring(n,r)),isNaN(n)?Pu:(r+=1)+n>e.length?Mu:(e=e.substr(r,n),t.C=r+n,e))}function qu(t){t.Y=Date.now()+t.P,Ku(t,t.P)}function Ku(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Iu(Ps(t.eb,t),e)}function zu(t){t.B&&(ks.clearTimeout(t.B),t.B=null)}function Hu(t){0==t.l.G||t.I||gl(t.l,t)}function Gu(t){zu(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ru(t.W),lu(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wu(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ac(n.i,t)))if(n.I=t.N,!t.J&&Ac(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;pl(n),rl(n)}hl(n),bu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Iu(Ps(n.ab,n),6e3));if(1>=_c(n.i)&&n.ka){try{n.ka()}catch(m){}n.ka=void 0}}else vl(n,11)}else if((t.J||n.g==t)&&pl(n),!zs(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Ws(l,"spdy")||Ws(l,"quic")||Ws(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(kc(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,oc(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=bl(r,r.H?r.la:null,r.W),d.J){Nc(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(zu(p),qu(p)),r.g=d}else ll(r);0<n.l.length&&sl(n)}else"stop"!=o[0]&&"close"!=o[0]||vl(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?vl(n,7):nl(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}vu(4)}catch(m){}}function $u(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cs(t)||"string"==typeof t)Bs(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Cs(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Cs(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Qu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qu)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Xu(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Yu(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Yu(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Yu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ss=Ou.prototype).setTimeout=function(t){this.P=t},Ss.gb=function(t){t=t.target;var e=this.L;e&&3==Yc(t)?e.l():this.Ia(t)},Ss.Ia=function(t){try{if(t==this.g)t:{var e=Yc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||aa||this.g&&(this.h.h||this.g.ga()||Jc(this.g)))){this.I||4!=e||7==n||vu(8==n||0>=r?3:2),zu(this);var i=this.g.ba();this.N=i;e:if(Uu(this)){var o=Jc(this.g);t="";var s=o.length,a=4==Yc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gu(this),Hu(this);var u="";break e}this.h.i=new ks.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zs(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,bu(12),Gu(this),Hu(this);break t}fu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wu(this,i)}this.U?(ju(this,e,u),aa&&this.i&&3==e&&(cu(this.V,this.W,"tick",this.fb),this.W.start())):(fu(this.j,this.m,u,null),Wu(this,u)),4==e&&Gu(this),this.i&&!this.I&&(4==e?gl(this.l,this):(this.i=!1,qu(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,bu(12)):(this.o=0,bu(13)),Gu(this),Hu(this)}}}catch(f){}},Ss.fb=function(){if(this.g){var t=Yc(this.g),e=this.g.ga();this.C<e.length&&(zu(this),ju(this,t,e),this.i&&4!=t&&qu(this))}},Ss.cancel=function(){this.I=!0,Gu(this)},Ss.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(vu(3),bu(17)),Gu(this),this.o=2,Hu(this)):Ku(this,this.Y-t)},(Ss=Qu.prototype).R=function(){Xu(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Ss.T=function(){return Xu(this),this.g.concat()},Ss.get=function(t,e){return Yu(this.h,t)?this.h[t]:e},Ss.set=function(t,e){Yu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Ss.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ju=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zu(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Zu){this.g=void 0!==e?e:t.g,ec(this,t.j),this.s=t.s,nc(this,t.i),rc(this,t.m),this.l=t.l,e=t.h;var n=new gc;n.i=e.i,e.g&&(n.g=new Qu(e.g),n.h=e.h),ic(this,n),this.o=t.o}else t&&(n=String(t).match(Ju))?(this.g=!!e,ec(this,n[1]||"",!0),this.s=ac(n[2]||""),nc(this,n[3]||"",!0),rc(this,n[4]),this.l=ac(n[5]||"",!0),ic(this,n[6]||"",!0),this.o=ac(n[7]||"")):(this.g=!!e,this.h=new gc(null,this.g))}function tc(t){return new Zu(t)}function ec(t,e,n){t.j=n?ac(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nc(t,e,n){t.i=n?ac(e,!0):e}function rc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ic(t,e,n){e instanceof gc?(t.h=e,function(t,e){e&&!t.j&&(mc(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(vc(this,e),bc(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=uc(e,dc)),t.h=new gc(e,t.g))}function oc(t,e,n){t.h.set(e,n)}function sc(t){return oc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ac(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Zu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uc(e,lc,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(uc(e,lc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(uc(n,"/"==n.charAt(0)?fc:hc,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uc(n,pc)),t.join("")};var lc=/[#\/\?@]/g,hc=/[#\?:]/g,fc=/[#\?]/g,dc=/[#\?@]/g,pc=/#/g;function gc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mc(t){t.g||(t.g=new Qu,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function vc(t,e){mc(t),e=wc(t,e),Yu(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Yu((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Xu(t)))}function yc(t,e){return mc(t),e=wc(t,e),Yu(t.g.h,e)}function bc(t,e,n){vc(t,e),0<n.length&&(t.i=null,t.g.set(wc(t,e),Ks(n)),t.h+=n.length)}function wc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ss=gc.prototype).add=function(t,e){mc(this),this.i=null,t=wc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ss.forEach=function(t,e){mc(this),this.g.forEach((function(n,r){Bs(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ss.T=function(){mc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ss.R=function(t){mc(this);var e=[];if("string"==typeof t)yc(this,t)&&(e=qs(e,this.g.get(wc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=qs(e,t[n])}return e},Ss.set=function(t,e){return mc(this),this.i=null,yc(this,t=wc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ss.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Ss.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Ic=function(t,e){this.h=t,this.g=e};function Ec(t){this.l=t||Tc,ks.PerformanceNavigationTiming?t=0<(t=ks.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(ks.g&&ks.g.Ea&&ks.g.Ea()&&ks.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tc=10;function Sc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _c(t){return t.h?1:t.g?t.g.size:0}function Ac(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function kc(t,e){t.g?t.g.add(e):t.h=e}function Nc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Cc(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Ts(t.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ks(t.i)}function xc(){}function Dc(){this.g=new xc}function Oc(t,e,n){var r=n||"";try{$u(t,(function(t,n){var i=t;xs(t)&&(i=Ha(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Rw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Rw}}function Lc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Rc(t){this.l=t.$b||null,this.j=t.ib||!1}function Pc(t,e){qa.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Mc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ec.prototype.cancel=function(){var t,e;if(this.i=Cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Ts(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},xc.prototype.stringify=function(t){return ks.JSON.stringify(t,void 0)},xc.prototype.parse=function(t){return ks.JSON.parse(t,void 0)},Fs(Rc,Su),Rc.prototype.g=function(){return new Pc(this.l,this.j)},Rc.prototype.i=function(t){return function(){return t}}({}),Fs(Pc,qa);var Mc=0;function Fc(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Vc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Uc(t)}function Uc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ss=Pc.prototype).open=function(t,e){if(this.readyState!=Mc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Uc(this)},Ss.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ks).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ss.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vc(this)),this.readyState=Mc},Ss.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ks.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fc(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Ss.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vc(this):Uc(this),3==this.readyState&&Fc(this)}},Ss.Ua=function(t){this.g&&(this.response=this.responseText=t,Vc(this))},Ss.Ta=function(t){this.g&&(this.response=t,Vc(this))},Ss.ha=function(){this.g&&Vc(this)},Ss.setRequestHeader=function(t,e){this.v.append(t,e)},Ss.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ss.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var jc=ks.JSON.parse;function Bc(t){qa.call(this),this.headers=new Qu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qc,this.K=this.L=!1}Fs(Bc,qa);var qc="",Kc=/^https?$/i,zc=["POST","PUT"];function Hc(t){return"content-type"==t.toLowerCase()}function Gc(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Wc(t),Qc(t)}function Wc(t){t.D||(t.D=!0,Ka(t,"complete"),Ka(t,"error"))}function $c(t){if(t.h&&void 0!==As&&(!t.C[1]||4!=Yc(t)||2!=t.ba()))if(t.v&&4==Yc(t))iu(t.Fa,0,t);else if(Ka(t,"readystatechange"),4==Yc(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Ju)[1]||null;if(!o&&ks.self&&ks.self.location){var s=ks.self.location.protocol;o=s.substr(0,s.length-1)}i=!Kc.test(o?o.toLowerCase():"")}e=i}if(e)Ka(t,"complete"),Ka(t,"success");else{t.m=6;try{var a=2<Yc(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Wc(t)}}finally{Qc(t)}}}function Qc(t,e){if(t.g){Xc(t);var n=t.g,r=t.C[0]?Ns:null;t.g=null,t.C=null,e||Ka(t,"ready");try{n.onreadystatechange=r}catch(Rw){}}}function Xc(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ks.clearTimeout(t.A),t.A=null)}function Yc(t){return t.g?t.g.readyState:0}function Jc(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qc:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Zc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ys(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):oc(t,e,n))}function tl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function el(t){this.za=0,this.l=[],this.h=new hu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tl("baseRetryDelayMs",5e3,t),this.$a=tl("retryDelaySeedMs",1e4,t),this.Ya=tl("forwardChannelMaxRetries",2,t),this.ra=tl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ec(t&&t.concurrentRequestLimit),this.Ca=new Dc,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function nl(t){if(il(t),3==t.G){var e=t.V++,n=tc(t.F);oc(n,"SID",t.J),oc(n,"RID",e),oc(n,"TYPE","terminate"),ul(t,n),(e=new Ou(t,t.h,e,void 0)).K=2,e.v=sc(tc(n)),n=!1,ks.navigator&&ks.navigator.sendBeacon&&(n=ks.navigator.sendBeacon(e.v.toString(),"")),!n&&ks.Image&&((new Image).src=e.v,n=!0),n||(e.g=wl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),qu(e)}yl(t)}function rl(t){t.g&&(fl(t),t.g.cancel(),t.g=null)}function il(t){rl(t),t.u&&(ks.clearTimeout(t.u),t.u=null),pl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ks.clearTimeout(t.m),t.m=null)}function ol(t,e){t.l.push(new Ic(t.Za++,e)),3==t.G&&sl(t)}function sl(t){Sc(t.i)||t.m||(t.m=!0,Ja(t.Ha,t),t.C=0)}function al(t,e){var n;n=e?e.m:t.V++;var r=tc(t.F);oc(r,"SID",t.J),oc(r,"RID",n),oc(r,"AID",t.U),ul(t,r),t.o&&t.s&&Zc(r,t.o,t.s),n=new Ou(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=cl(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),kc(t.i,n),Fu(n,r,e)}function ul(t,e){t.j&&$u({},(function(t,n){oc(e,n,t)}))}function cl(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ps(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Oc(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ll(t){t.g||t.u||(t.Y=1,Ja(t.Ga,t),t.A=0)}function hl(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Iu(Ps(t.Ga,t),ml(t,t.A)),t.A++,!0)}function fl(t){null!=t.B&&(ks.clearTimeout(t.B),t.B=null)}function dl(t){t.g=new Ou(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=tc(t.oa);oc(e,"RID","rpc"),oc(e,"SID",t.J),oc(e,"CI",t.N?"0":"1"),oc(e,"AID",t.U),ul(t,e),oc(e,"TYPE","xmlhttp"),t.o&&t.s&&Zc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=sc(tc(e)),n.s=null,n.U=!0,Vu(n,t)}function pl(t){null!=t.v&&(ks.clearTimeout(t.v),t.v=null)}function gl(t,e){var n=null;if(t.g==e){pl(t),fl(t),t.g=null;var r=2}else{if(!Ac(t.i,e))return;n=e.D,Nc(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ka(r=gu(),new wu(r,n,e,i)),sl(t)}else ll(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(_c(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Iu(Ps(t.Ha,t,e),ml(t,t.C)),t.C++,0)))}(t,e)||2==r&&hl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vl(t,5);break;case 4:vl(t,10);break;case 3:vl(t,6);break;default:vl(t,2)}}function ml(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function vl(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ps(t.jb,t);n||(n=new Zu("//www.google.com/images/cleardot.gif"),ks.location&&"http"==ks.location.protocol||ec(n,"https"),sc(n)),function(t,e){var n=new hu;if(ks.Image){var r=new Image;r.onload=Ms(Lc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ms(Lc,n,r,"TestLoadImage: error",!1,e),r.onabort=Ms(Lc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ms(Lc,n,r,"TestLoadImage: timeout",!1,e),ks.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else bu(2);t.G=0,t.j&&t.j.va(e),yl(t),il(t)}function yl(t){t.G=0,t.I=-1,t.j&&(0==Cc(t.i).length&&0==t.l.length||(t.i.i.length=0,Ks(t.l),t.l.length=0),t.j.ua())}function bl(t,e,n){var r=function(t){return t instanceof Zu?tc(t):new Zu(t,void 0)}(n);if(""!=r.i)e&&nc(r,e+"."+r.i),rc(r,r.m);else{var i=ks.location;r=function(t,e,n,r){var i=new Zu(null,void 0);return t&&ec(i,t),e&&nc(i,e),n&&rc(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Ys(t.aa,(function(t,e){oc(r,e,t)})),e=t.D,n=t.sa,e&&n&&oc(r,e,n),oc(r,"VER",t.ma),ul(t,r),r}function wl(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Bc(new Rc({ib:!0})):new Bc(t.qa)).L=t.H,e}function Il(){}function El(){if(oa&&!(10<=Number(ya)))throw Error("Environmental error: no available transport.")}function Tl(t,e){qa.call(this),this.g=new el(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!zs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zs(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Al(this)}function Sl(t){Cu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function _l(){xu.call(this),this.status=1}function Al(t){this.g=t}(Ss=Bc.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ku.g(),this.C=this.u?_u(this.u):_u(ku),this.g.onreadystatechange=Ps(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Gc(this,o)}t=n||"";var i=new Qu(this.headers);r&&$u(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Hc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=ks.FormData&&t instanceof ks.FormData,!(0<=js(zc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xc(this),0<this.B&&((this.K=function(t){return oa&&ma()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ps(this.pa,this)):this.A=iu(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Gc(this,o)}},Ss.pa=function(){void 0!==As&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ka(this,"timeout"),this.abort(8))},Ss.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ka(this,"complete"),Ka(this,"abort"),Qc(this))},Ss.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qc(this,!0)),Bc.Z.M.call(this)},Ss.Fa=function(){this.s||(this.F||this.v||this.l?$c(this):this.cb())},Ss.cb=function(){$c(this)},Ss.ba=function(){try{return 2<Yc(this)?this.g.status:-1}catch(ra){return-1}},Ss.ga=function(){try{return this.g?this.g.responseText:""}catch(ra){return""}},Ss.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jc(e)}},Ss.Da=function(){return this.m},Ss.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ss=el.prototype).ma=8,Ss.G=1,Ss.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Ss.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ou(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ta(n=Js(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=cl(this,e,r),oc(i=tc(this.F),"RID",t),oc(i,"CVER",22),this.D&&oc(i,"X-HTTP-Session-Id",this.D),ul(this,i),this.o&&n&&Zc(i,this.o,n),kc(this.i,e),this.Ra&&oc(i,"TYPE","init"),this.ja?(oc(i,"$req",r),oc(i,"SID","null"),e.$=!0,Fu(e,i,null)):Fu(e,i,r),this.G=2}}else 3==this.G&&(t?al(this,t):0==this.l.length||Sc(this.i)||al(this))},Ss.Ga=function(){if(this.u=null,dl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Iu(Ps(this.bb,this),t)}},Ss.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bu(10),rl(this),dl(this))},Ss.ab=function(){null!=this.v&&(this.v=null,rl(this),hl(this),bu(19))},Ss.jb=function(t){t?(this.h.info("Successfully pinged google.com"),bu(2)):(this.h.info("Failed to ping google.com"),bu(1))},(Ss=Il.prototype).xa=function(){},Ss.wa=function(){},Ss.va=function(){},Ss.ua=function(){},Ss.Oa=function(){},El.prototype.g=function(t,e){return new Tl(t,e)},Fs(Tl,qa),Tl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ja(Ps(t.hb,t,e))),bu(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=bl(t,null,t.W),sl(t)},Tl.prototype.close=function(){nl(this.g)},Tl.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,ol(this.g,e)}else this.v?((e={}).__data__=Ha(t),ol(this.g,e)):ol(this.g,t)},Tl.prototype.M=function(){this.g.j=null,delete this.j,nl(this.g),delete this.g,Tl.Z.M.call(this)},Fs(Sl,Cu),Fs(_l,xu),Fs(Al,Il),Al.prototype.xa=function(){Ka(this.g,"a")},Al.prototype.wa=function(t){Ka(this.g,new Sl(t))},Al.prototype.va=function(t){Ka(this.g,new _l(t))},Al.prototype.ua=function(){Ka(this.g,"b")},El.prototype.createWebChannel=El.prototype.g,Tl.prototype.send=Tl.prototype.u,Tl.prototype.open=Tl.prototype.m,Tl.prototype.close=Tl.prototype.close,Eu.NO_ERROR=0,Eu.TIMEOUT=8,Eu.HTTP_ERROR=6,Tu.COMPLETE="complete",Au.EventType=Nu,Nu.OPEN="a",Nu.CLOSE="b",Nu.ERROR="c",Nu.MESSAGE="d",qa.prototype.listen=qa.prototype.N,Bc.prototype.listenOnce=Bc.prototype.O,Bc.prototype.getLastError=Bc.prototype.La,Bc.prototype.getLastErrorCode=Bc.prototype.Da,Bc.prototype.getStatus=Bc.prototype.ba,Bc.prototype.getResponseJson=Bc.prototype.Qa,Bc.prototype.getResponseText=Bc.prototype.ga,Bc.prototype.send=Bc.prototype.ea;var kl=Eu,Nl=Tu,Cl=du,xl=10,Dl=11,Ol=Rc,Ll=Au,Rl=Bc,Pl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Pl.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ml={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return ys(e,t),e}(Error),Vl=new es("@firebase/firestore");function Ul(){return Vl.logLevel}function jl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vl.logLevel<=Wo.DEBUG){var r=e.map(Kl);Vl.debug.apply(Vl,Is(["Firestore (8.8.0): "+t],r))}}function Bl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vl.logLevel<=Wo.ERROR){var r=e.map(Kl);Vl.error.apply(Vl,Is(["Firestore (8.8.0): "+t],r))}}function ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vl.logLevel<=Wo.WARN){var r=e.map(Kl);Vl.warn.apply(Vl,Is(["Firestore (8.8.0): "+t],r))}}function Kl(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw Bl(e),new Error(e)}function Hl(t,e){t||zl()}function Gl(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $l=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Wl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ql(t,e){return t<e?-1:t>e?1:0}function Xl(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Yl(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Fl(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Fl(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Fl(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fl(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ql(this.nanoseconds,t.nanoseconds):Ql(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Zl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Jl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&zl(),void 0===n?n=t.length-e:n>t.length-e&&zl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(rh),oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return oh.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Fl(Ml.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fl(Ml.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Fl(Ml.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(rh),ah=function(){function t(t){this.fields=t,t.sort(sh.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Xl(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),uh=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ql(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();uh.EMPTY_BYTE_STRING=new uh("");var ch=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lh(t){if(Hl(!!t),"string"==typeof t){var e=0,n=ch.exec(t);if(Hl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hh(t.seconds),nanos:hh(t.nanos)}}function hh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fh(t){return"string"==typeof t?uh.fromBase64String(t):uh.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ph(t){var e=t.mapValue.fields.__previous_value__;return dh(e)?ph(e):e}function gh(t){var e=lh(t.mapValue.fields.__local_write_time__.timestampValue);return new Jl(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return null==t}function vh(t){return 0===t&&1/t==-1/0}function yh(t){return"number"==typeof t&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ih.fromString(e))},t.fromName=function(e){return new t(ih.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ih.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ih.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ih(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dh(t)?4:10:zl()}function Ih(t,e){var n,r=wh(t);if(r!==wh(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gh(t).isEqual(gh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=lh(t.timestampValue),r=lh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,fh(t.bytesValue).isEqual(fh(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return hh(t.geoPointValue.latitude)===hh(e.geoPointValue.latitude)&&hh(t.geoPointValue.longitude)===hh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hh(t.integerValue)===hh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=hh(t.doubleValue),r=hh(e.doubleValue);return n===r?vh(n)===vh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],Ih);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(th(n)!==th(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ih(n[i],r[i])))return!1;return!0}(t,e);default:return zl()}}function Eh(t,e){return void 0!==(t.values||[]).find((function(t){return Ih(t,e)}))}function Th(t,e){var n,r,i,o,s=wh(t),a=wh(e);if(s!==a)return Ql(s,a);switch(s){case 0:return 0;case 1:return Ql(t.booleanValue,e.booleanValue);case 2:return r=e,i=hh((n=t).integerValue||n.doubleValue),o=hh(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Sh(t.timestampValue,e.timestampValue);case 4:return Sh(gh(t),gh(e));case 5:return Ql(t.stringValue,e.stringValue);case 6:return function(t,e){var n=fh(t),r=fh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ql(n[i],r[i]);if(0!==o)return o}return Ql(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ql(hh(t.latitude),hh(e.latitude));return 0!==n?n:Ql(hh(t.longitude),hh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Th(n[i],r[i]);if(o)return o}return Ql(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ql(r[s],o[s]);if(0!==a)return a;var u=Th(n[r[s]],i[o[s]]);if(0!==u)return u}return Ql(r.length,o.length)}(t.mapValue,e.mapValue);default:throw zl()}}function Sh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ql(t,e);var n=lh(t),r=lh(e),i=Ql(n.seconds,r.seconds);return 0!==i?i:Ql(n.nanos,r.nanos)}function _h(t){return Ah(t)}function Ah(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=lh(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?fh(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,bh.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ah(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ah(t.fields[o])}return e+"}"}(t.mapValue):zl();var e,n,r,i}function kh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Nh(t){return!!t&&"integerValue"in t}function Ch(t){return!!t&&"arrayValue"in t}function xh(t){return!!t&&"nullValue"in t}function Dh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oh(t){return!!t&&"mapValue"in t}function Lh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return eh(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Lh(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Lh(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rh=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Oh(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lh(e)},t.prototype.setAll=function(t){var e=this,n=sh.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Lh(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Oh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ih(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Oh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){eh(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Lh(this.value))},t}();function Ph(t){var e=[];return eh(t.fields,(function(t,n){var r=new sh([t]);if(Oh(n)){var i=Ph(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new ah(e)}var Mh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Zl.min(),Rh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Rh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Rh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Rh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Rh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Fh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Fh(t,e,n,r,i,o,s)}function Uh(t){var e=Gl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+_h(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Jh(e.startAt)),e.endAt&&(n+="|ub:",n+=Jh(e.endAt)),e.h=n}return e.h}function jh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!tf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ih(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nf(t.startAt,e.startAt)&&nf(t.endAt,e.endAt)}function Bh(t){return bh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var qh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return ys(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Kh(t,n,r):"array-contains"===n?new Wh(t,r):"in"===n?new $h(t,r):"not-in"===n?new Qh(t,r):"array-contains-any"===n?new Xh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new zh(t,n):new Hh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Th(e,this.value)):null!==e&&wh(this.value)===wh(e)&&this.m(Th(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return zl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bh.fromName(r.referenceValue),i}return ys(e,t),e.prototype.matches=function(t){var e=bh.comparator(t.key,this.key);return this.m(e)},e}(qh),zh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Gh("in",n),r}return ys(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(qh),Hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Gh("not-in",n),r}return ys(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(qh);function Gh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return bh.fromName(t.referenceValue)}))}var Wh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return ys(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ch(e)&&Eh(e.arrayValue,this.value)},e}(qh),$h=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return ys(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Eh(this.value.arrayValue,e)},e}(qh),Qh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return ys(e,t),e.prototype.matches=function(t){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Eh(this.value.arrayValue,e)},e}(qh),Xh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return ys(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Eh(e.value.arrayValue,t)}))},e}(qh),Yh=function(t,e){this.position=t,this.before=e};function Jh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return _h(t)})).join(",")}var Zh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function tf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ef(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?bh.comparator(bh.fromName(s.referenceValue),n.key):Th(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function nf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ih(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function of(t,e,n,r,i,o,s,a){return new rf(t,e,n,r,i,o,s,a)}function sf(t){return new rf(t)}function af(t){return!mh(t.limit)&&"F"===t.limitType}function uf(t){return!mh(t.limit)&&"L"===t.limitType}function cf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function hf(t){return null!==t.collectionGroup}function ff(t){var e=Gl(t);if(null===e.p){e.p=[];var n=lf(e),r=cf(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Zh(n)),e.p.push(new Zh(sh.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Zh(sh.keyField(),u))}}}return e.p}function df(t){var e=Gl(t);if(!e.T)if("F"===e.limitType)e.T=Vh(e.path,e.collectionGroup,ff(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ff(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Zh(o.field,s))}var a=e.endAt?new Yh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Yh(e.startAt.position,!e.startAt.before):null;e.T=Vh(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function pf(t,e,n){return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return jh(df(t),df(e))&&t.limitType===e.limitType}function mf(t){return Uh(df(t))+"|lt:"+t.limitType}function vf(t){return"Query(target="+(e=df(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+_h(e.value);var e})).join(", ")+"]"),mh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Jh(e.startAt)),e.endAt&&(n+=", endAt: "+Jh(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function yf(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):bh.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ef(t.startAt,ff(t),e)||t.endAt&&ef(t.endAt,ff(t),e))}(t,e);var n,r,i}function bf(t){return function(e,n){for(var r=!1,i=0,o=ff(t);i<o.length;i++){var s=o[i],a=wf(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function wf(t,e,n){var r,i,o,s,a=t.field.isKeyField()?bh.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?Th(o,s):zl());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return zl()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function Ef(t){return{integerValue:""+t}}function Tf(t,e){return yh(e)?Ef(e):If(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sf=function(){this._=void 0};function _f(t,e,n){return t instanceof Nf?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Cf?xf(t,e):t instanceof Df?Of(t,e):function(t,e){var n=kf(t,e),r=Rf(n)+Rf(t.A);return Nh(n)&&Nh(t.A)?Ef(r):If(t.R,r)}(t,e);var r,i,o}function Af(t,e,n){return t instanceof Cf?xf(t,e):t instanceof Df?Of(t,e):n}function kf(t,e){return t instanceof Lf?Nh(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e}(Sf),Cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ys(e,t),e}(Sf);function xf(t,e){for(var n=Pf(e),r=function(t){n.some((function(e){return Ih(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Df=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ys(e,t),e}(Sf);function Of(t,e){for(var n=Pf(e),r=function(t){n=n.filter((function(e){return!Ih(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Lf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return ys(e,t),e}(Sf);function Rf(t){return hh(t.integerValue||t.doubleValue)}function Pf(t){return Ch(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mf=function(t,e){this.field=t,this.transform=e},Ff=function(t,e){this.version=t,this.transformResults=e},Vf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Uf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var jf=function(){};function Bf(t,e,n){var r,i,o,s,a;t instanceof Gf?(i=e,o=n,s=(r=t).value.clone(),a=Qf(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof Wf?function(t,e,n){if(Uf(t.precondition,e)){var r=Qf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll($f(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function qf(t,e,n){var r;t instanceof Gf?function(t,e,n){if(Uf(t.precondition,e)){var r=t.value.clone(),i=Xf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Hf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Wf?function(t,e,n){if(Uf(t.precondition,e)){var r=Xf(t.fieldTransforms,n,e),i=e.data;i.setAll($f(t)),i.setAll(r),e.convertToFoundDocument(Hf(e),i).setHasLocalMutations()}}(t,e,n):(r=e,Uf(t.precondition,r)&&r.convertToNoDocument(Zl.min()))}function Kf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=kf(o.transform,s||null);null!=a&&(null==n&&(n=Rh.empty()),n.set(o.field,a))}return n||null}function zf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Xl(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Cf&&o instanceof Cf||i instanceof Df&&o instanceof Df?Xl(i.elements,o.elements,Ih):i instanceof Lf&&o instanceof Lf?Ih(i.A,o.A):i instanceof Nf&&o instanceof Nf);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function Hf(t){return t.isFoundDocument()?t.version:Zl.min()}var Gf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return ys(e,t),e}(jf),Wf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return ys(e,t),e}(jf);function $f(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Qf(t,e,n){var r=new Map;Hl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Af(s,a,n[i]))}return r}function Xf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,_f(a,u,e))}return r}var Yf,Jf,Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return ys(e,t),e}(jf),td=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return ys(e,t),e}(jf),ed=function(t){this.count=t};function nd(t){switch(t){case Ml.OK:return zl();case Ml.CANCELLED:case Ml.UNKNOWN:case Ml.DEADLINE_EXCEEDED:case Ml.RESOURCE_EXHAUSTED:case Ml.INTERNAL:case Ml.UNAVAILABLE:case Ml.UNAUTHENTICATED:return!1;case Ml.INVALID_ARGUMENT:case Ml.NOT_FOUND:case Ml.ALREADY_EXISTS:case Ml.PERMISSION_DENIED:case Ml.FAILED_PRECONDITION:case Ml.ABORTED:case Ml.OUT_OF_RANGE:case Ml.UNIMPLEMENTED:case Ml.DATA_LOSS:return!0;default:return zl()}}function rd(t){if(void 0===t)return Bl("GRPC error has no .code"),Ml.UNKNOWN;switch(t){case Yf.OK:return Ml.OK;case Yf.CANCELLED:return Ml.CANCELLED;case Yf.UNKNOWN:return Ml.UNKNOWN;case Yf.DEADLINE_EXCEEDED:return Ml.DEADLINE_EXCEEDED;case Yf.RESOURCE_EXHAUSTED:return Ml.RESOURCE_EXHAUSTED;case Yf.INTERNAL:return Ml.INTERNAL;case Yf.UNAVAILABLE:return Ml.UNAVAILABLE;case Yf.UNAUTHENTICATED:return Ml.UNAUTHENTICATED;case Yf.INVALID_ARGUMENT:return Ml.INVALID_ARGUMENT;case Yf.NOT_FOUND:return Ml.NOT_FOUND;case Yf.ALREADY_EXISTS:return Ml.ALREADY_EXISTS;case Yf.PERMISSION_DENIED:return Ml.PERMISSION_DENIED;case Yf.FAILED_PRECONDITION:return Ml.FAILED_PRECONDITION;case Yf.ABORTED:return Ml.ABORTED;case Yf.OUT_OF_RANGE:return Ml.OUT_OF_RANGE;case Yf.UNIMPLEMENTED:return Ml.UNIMPLEMENTED;case Yf.DATA_LOSS:return Ml.DATA_LOSS;default:return zl()}}(Jf=Yf||(Yf={}))[Jf.OK=0]="OK",Jf[Jf.CANCELLED=1]="CANCELLED",Jf[Jf.UNKNOWN=2]="UNKNOWN",Jf[Jf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jf[Jf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jf[Jf.NOT_FOUND=5]="NOT_FOUND",Jf[Jf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jf[Jf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jf[Jf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jf[Jf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jf[Jf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jf[Jf.ABORTED=10]="ABORTED",Jf[Jf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jf[Jf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jf[Jf.INTERNAL=13]="INTERNAL",Jf[Jf.UNAVAILABLE=14]="UNAVAILABLE",Jf[Jf.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var id=function(){function t(t,e){this.comparator=t,this.root=e||sd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new od(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new od(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new od(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new od(this.root,t,this.comparator,!0)},t}(),od=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),sd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw zl();if(this.right.isRed())throw zl();var t=this.left.check();if(t!==this.right.check())throw zl();return t+(this.isRed()?0:1)},t}();sd.EMPTY=null,sd.RED=!0,sd.BLACK=!1,sd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw zl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw zl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new sd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ad=function(){function t(t){this.comparator=t,this.data=new id(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ud(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ud(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ud=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),cd=new id(bh.comparator);function ld(){return cd}var hd=new id(bh.comparator);function fd(){return hd}var dd=new id(bh.comparator);var pd=new ad(bh.comparator);function gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=pd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var md=new ad(Ql);function vd(){return md}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Zl.min(),r,vd(),ld(),gd())},t}(),bd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(uh.EMPTY_BYTE_STRING,n,gd(),gd(),gd())},t}(),wd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Id=function(t,e){this.targetId=t,this.V=e},Ed=function(t,e,n,r){void 0===n&&(n=uh.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Td=function(){function t(){this.S=0,this.D=Ad(),this.C=uh.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=gd(),e=gd(),n=gd();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:zl()}})),new bd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ad()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Sd=function(){function t(t){this.W=t,this.G=new Map,this.H=ld(),this.J=_d(),this.Y=new ad(Ql)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:zl()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Bh(i))if(0===n){var o=new bh(i.path);this.tt(e,o,Mh.newNoDocument(o,Zl.min()))}else Hl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Bh(o.target)){var s=new bh(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Mh.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=gd();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new yd(t,n,this.Y,this.H,r);return this.H=ld(),this.J=_d(),this.Y=new ad(Ql),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Td,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ad(Ql),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||jl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Td),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function _d(){return new id(bh.comparator)}function Ad(){return new id(bh.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kd={asc:"ASCENDING",desc:"DESCENDING"},Nd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cd=function(t,e){this.databaseId=t,this.I=e};function xd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dd(t,e){return t.I?e.toBase64():e.toUint8Array()}function Od(t,e){return xd(t,e.toTimestamp())}function Ld(t){return Hl(!!t),Zl.fromTimestamp((e=lh(t),new Jl(e.seconds,e.nanos)));var e}function Rd(t,e){return(n=t,new ih(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Pd(t){var e=ih.fromString(t);return Hl(ip(e)),e}function Md(t,e){return Rd(t.databaseId,e.path)}function Fd(t,e){var n=Pd(e);if(n.get(1)!==t.databaseId.projectId)throw new Fl(Ml.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fl(Ml.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bh(Bd(n))}function Vd(t,e){return Rd(t.databaseId,e)}function Ud(t){var e=Pd(t);return 4===e.length?ih.emptyPath():Bd(e)}function jd(t){return new ih(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bd(t){return Hl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qd(t,e,n){return{name:Md(t,e),fields:n.value.mapValue.fields}}function Kd(t,e){var n,r,i;if(e instanceof Gf)n={update:qd(t,e.key,e.value)};else if(e instanceof Zf)n={delete:Md(t,e.key)};else if(e instanceof Wf)n={update:qd(t,e.key,e.data),updateMask:rp(e.fieldMask)};else{if(!(e instanceof td))return zl();n={verify:Md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Nf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Df)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw zl()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:Od(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:zl())),n}function zd(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?Vf.updateTime(Ld(n.updateTime)):void 0!==n.exists?Vf.exists(n.exists):Vf.none():Vf.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Hl("REQUEST_TIME"===e.setToServerValue),n=new Nf;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Cf(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Df(i)}else"increment"in e?n=new Lf(t,e.increment):zl();var o=sh.fromServerFormat(e.fieldPath);return new Mf(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=Fd(t,e.update.name),s=new Rh({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new ah(e.map((function(t){return sh.fromServerFormat(t)})))}(e.updateMask);return new Wf(o,s,a,r,i)}return new Gf(o,s,r,i)}if(e.delete){var u=Fd(t,e.delete);return new Zf(u,r)}if(e.verify){var c=Fd(t,e.verify);return new td(c,r)}return zl()}function Hd(t,e){return{documents:[Vd(t,e.path)]}}function Gd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Vd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Dh(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NAN"}};if(xh(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Dh(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NOT_NAN"}};if(xh(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zd(t.field),op:Jd(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Zd((e=t).field),direction:Yd(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||mh(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Qd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Qd(e.endAt)),n}function Wd(t){var e=Ud(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Hl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=$d(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Zh(tp((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=mh(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=Xd(n.startAt));var f=null;return n.endAt&&(f=Xd(n.endAt)),of(e,i,a,s,l,"F",h,f)}function $d(t){return t?void 0!==t.unaryFilter?[np(t)]:void 0!==t.fieldFilter?[ep(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return $d(t)})).reduce((function(t,e){return t.concat(e)})):zl():[]}function Qd(t){return{before:t.before,values:t.position}}function Xd(t){var e=!!t.before,n=t.values||[];return new Yh(n,e)}function Yd(t){return kd[t]}function Jd(t){return Nd[t]}function Zd(t){return{fieldPath:t.canonicalString()}}function tp(t){return sh.fromServerFormat(t.fieldPath)}function ep(t){return qh.create(tp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zl()}}(t.fieldFilter.op),t.fieldFilter.value)}function np(t){switch(t.unaryFilter.op){case"IS_NAN":var e=tp(t.unaryFilter.field);return qh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=tp(t.unaryFilter.field);return qh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tp(t.unaryFilter.field);return qh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=tp(t.unaryFilter.field);return qh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zl()}}function rp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function ip(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ap(e)),e=sp(t.get(n),e);return ap(e)}function sp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ap(t){return t+""}function up(t){var e=t.length;if(Hl(e>=2),2===e)return Hl(""===t.charAt(0)&&""===t.charAt(1)),ih.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&zl(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:zl()}o=s+2}return new ih(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cp=function(t,e){this.seconds=t,this.nanoseconds=e},lp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};lp.store="owner",lp.key="owner";var hp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};hp.store="mutationQueues",hp.keyPath="userId";var fp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};fp.store="mutations",fp.keyPath="batchId",fp.userMutationsIndex="userMutationsIndex",fp.userMutationsKeyPath=["userId","batchId"];var dp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,op(e)]},t.key=function(t,e,n){return[t,op(e),n]},t}();dp.store="documentMutations",dp.PLACEHOLDER=new dp;var pp=function(t,e){this.path=t,this.readTime=e},gp=function(t,e){this.path=t,this.version=e},mp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};mp.store="remoteDocuments",mp.readTimeIndex="readTimeIndex",mp.readTimeIndexPath="readTime",mp.collectionReadTimeIndex="collectionReadTimeIndex",mp.collectionReadTimeIndexPath=["parentPath","readTime"];var vp=function(t){this.byteSize=t};vp.store="remoteDocumentGlobal",vp.key="remoteDocumentGlobalKey";var yp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};yp.store="targets",yp.keyPath="targetId",yp.queryTargetsIndexName="queryTargetsIndex",yp.queryTargetsKeyPath=["canonicalId","targetId"];var bp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bp.store="targetDocuments",bp.keyPath=["targetId","path"],bp.documentTargetsIndex="documentTargetsIndex",bp.documentTargetsKeyPath=["path","targetId"];var wp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wp.key="targetGlobalKey",wp.store="targetGlobal";var Ip=function(t,e){this.collectionId=t,this.parent=e};Ip.store="collectionParents",Ip.keyPath=["collectionId","parent"];var Ep=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ep.store="clientMetadata",Ep.keyPath="clientId";var Tp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tp.store="bundles",Tp.keyPath="bundleId";var Sp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Sp.store="namedQueries",Sp.keyPath="name";var _p=Is(Is([],Is(Is([],Is(Is([],Is(Is([],[hp.store,fp.store,dp.store,mp.store,yp.store,lp.store,wp.store,bp.store]),[Ep.store])),[vp.store])),[Ip.store])),[Tp.store,Sp.store]),Ap="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Np=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Cp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&zl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),xp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Np,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Lp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Vp(e.target.error);n.ft.reject(new Lp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Lp(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(jl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pp(e)},t}(),Dp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Ao())&&Bl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return jl("SimpleDb","Removing database:",t),Mp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Ao(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return bs(this,void 0,void 0,(function(){var e,n=this;return ws(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(jl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Lp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fl(Ml.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Lp(t,n))},i.onupgradeneeded=function(t){jl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){jl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return bs(this,void 0,void 0,(function(){var i,o,s,a,u;return ws(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return ws(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=xp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Cp.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,jl("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Op=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Mp(this.Pt.delete())},t}(),Lp=function(t){function e(e,n){var r=this;return(r=t.call(this,Ml.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return ys(e,t),e}(Fl);function Rp(t){return"IndexedDbTransactionError"===t.name}var Pp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(jl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(jl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Mp(n)},t.prototype.add=function(t){return jl("SimpleDb","ADD",this.store.name,t,t),Mp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Mp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),jl("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return jl("SimpleDb","DELETE",this.store.name,t),Mp(this.store.delete(t))},t.prototype.count=function(){return jl("SimpleDb","COUNT",this.store.name),Mp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){jl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Cp((function(n,r){e.onerror=function(t){var e=Vp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Cp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Op(i),s=e(i.primaryKey,i.value,o);if(s instanceof Cp){var a=s.catch((function(t){return o.done(),Cp.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Cp.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Mp(t){return new Cp((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Vp(t.target.error);n(e)}}))}var Fp=!1;function Vp(t){var e=Dp._t(Ao());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Fl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Fp||(Fp=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Up=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return ys(e,t),e}(kp);function jp(t,e){var n=Gl(t);return Dp.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Bf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&qf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&qf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Zl.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),gd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xl(this.mutations,t.mutations,(function(t,e){return zf(t,e)}))&&Xl(this.baseMutations,t.baseMutations,(function(t,e){return zf(t,e)}))},t}(),qp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Hl(e.mutations.length===r.length);for(var i=dd,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Kp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Zl.min()),void 0===o&&(o=Zl.min()),void 0===s&&(s=uh.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),zp=function(t){this.Lt=t};function Hp(t,e){if(e.document)return function(t,e,n){var r=Fd(t,e.name),i=Ld(e.updateTime),o=new Rh({mapValue:{fields:e.fields}}),s=Mh.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bh.fromSegments(e.noDocument.path),r=Xp(e.noDocument.readTime),i=Mh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=bh.fromSegments(e.unknownDocument.path);return r=Xp(e.unknownDocument.version),Mh.newUnknownDocument(o,r)}return zl()}function Gp(t,e,n){var r,i,o=Wp(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:Md(r=t.Lt,(i=e).key),fields:i.data.value.mapValue.fields,updateTime:xd(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new mp(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=Qp(e.version);return u=e.hasCommittedMutations,new mp(null,new pp(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=Qp(e.version);return new mp(new gp(h,f),null,null,!0,o,s)}return zl()}function Wp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $p(t){var e=new Jl(t[0],t[1]);return Zl.fromTimestamp(e)}function Qp(t){var e=t.toTimestamp();return new cp(e.seconds,e.nanoseconds)}function Xp(t){var e=new Jl(t.seconds,t.nanoseconds);return Zl.fromTimestamp(e)}function Yp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return zd(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return zd(t.Lt,e)})),a=Jl.fromMillis(e.localWriteTimeMs);return new Bp(e.batchId,a,n,s)}function Jp(t){var e,n,r=Xp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Xp(t.lastLimboFreeSnapshotVersion):Zl.min();return void 0!==t.query.documents?(Hl(1===(n=t.query).documents.length),e=df(sf(Ud(n.documents[0])))):e=df(Wd(t.query)),new Kp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,uh.fromBase64String(t.resumeToken))}function Zp(t,e){var n,r=Qp(e.snapshotVersion),i=Qp(e.lastLimboFreeSnapshotVersion);n=Bh(e.target)?Hd(t.Lt,e.target):Gd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new yp(e.targetId,Uh(e.target),r,o,e.sequenceNumber,i,n)}function tg(t){var e=Wd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pf(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eg=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return ng(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Xp(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return ng(t).put({bundleId:(n=e).id,createTime:Qp(Ld(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return rg(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:tg(e.bundledQuery),readTime:Xp(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return rg(t).put({name:(n=e).name,readTime:Qp(Ld(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function ng(t){return jp(t,Tp.store)}function rg(t){return jp(t,Sp.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ig=function(){function t(){this.Bt=new og}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Cp.resolve()},t.prototype.getCollectionParents=function(t,e){return Cp.resolve(this.Bt.getEntries(e))},t}(),og=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ad(ih.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ad(ih.comparator)).toArray()},t}(),sg=function(){function t(){this.qt=new og}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:op(i)};return ag(t).put(o)}return Cp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Yl(e),""],!1,!0);return ag(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(up(o.parent))}return n}))},t}();function ag(t){return jp(t,Ip.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ug={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cg=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e,n){var r=t.store(fp.store),i=t.store(dp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Hl(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=dp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Cp.waitFor(o).next((function(){return c}))}function hg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw zl();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cg.DEFAULT_COLLECTION_PERCENTILE=10,cg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cg.DEFAULT=new cg(41943040,cg.DEFAULT_COLLECTION_PERCENTILE,cg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cg.DISABLED=new cg(-1,0,0);var fg=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Hl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pg(t).$t({index:fp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=gg(t),s=pg(t);return s.add({}).next((function(a){Hl("number"==typeof a);for(var u=new Bp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Kd(t.Lt,e)})),i=n.mutations.map((function(e){return Kd(t.Lt,e)}));return new fp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ad((function(t,e){return Ql(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=dp.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,dp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),Cp.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return pg(t).get(e).next((function(t){return t?(Hl(t.userId===n.userId),Yp(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Cp.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return pg(t).$t({index:fp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Hl(e.batchId>=r),o=Yp(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return pg(t).$t({index:fp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pg(t).Nt(fp.userMutationsIndex,n).next((function(t){return t.map((function(t){return Yp(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=dp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return gg(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=up(u);if(a===n.userId&&e.path.isEqual(l))return pg(t).get(c).next((function(t){if(!t)throw zl();Hl(t.userId===n.userId),o.push(Yp(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ad(Ql),i=[];return e.forEach((function(e){var o=dp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=gg(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=up(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Cp.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=dp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ad(Ql);return gg(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=up(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(pg(t).get(e).next((function(t){if(null===t)throw zl();Hl(t.userId===n.userId),r.push(Yp(n.R,t))})))})),Cp.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return lg(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Cp.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Cp.resolve();var r=IDBKeyRange.lowerBound(dp.prefixForUser(e.userId)),i=[];return gg(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=up(t[1]);i.push(o)}else r.done()})).next((function(){Hl(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return dg(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return mg(t).get(this.userId).next((function(t){return t||new hp(e.userId,-1,"")}))},t}();function dg(t,e,n){var r=dp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return gg(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function pg(t){return jp(t,fp.store)}function gg(t){return jp(t,dp.store)}function mg(t){return jp(t,hp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vg=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),yg=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new vg(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Zl.fromTimestamp(new Jl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return bg(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Hl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return bg(t).$t((function(s,a){var u=Jp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Cp.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return bg(t).$t((function(t,n){var r=Jp(n);e(r)}))},t.prototype.Xt=function(t){return wg(t).get(wp.key).next((function(t){return Hl(null!==t),t}))},t.prototype.Zt=function(t,e){return wg(t).put(wp.key,e)},t.prototype.te=function(t,e){return bg(t).put(Zp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Uh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bg(t).$t({range:r,index:yp.queryTargetsIndexName},(function(t,n,r){var o=Jp(n);jh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Ig(t);return e.forEach((function(e){var s=op(e.path);i.push(o.put(new bp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Cp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Ig(t);return Cp.forEach(e,(function(e){var o=op(e.path);return Cp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Ig(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ig(t),i=gd();return r.$t({range:n,kt:!0},(function(t,e,n){var r=up(t[1]),o=new bh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=op(e.path),r=IDBKeyRange.bound([n],[Yl(n)],!1,!0),i=0;return Ig(t).$t({index:bp.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return bg(t).get(e).next((function(t){return t?Jp(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){return jp(t,yp.store)}function wg(t){return jp(t,wp.store)}function Ig(t){return jp(t,bp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){return bs(this,void 0,void 0,(function(){return ws(this,(function(e){if(t.code!==Ml.FAILED_PRECONDITION||t.message!==Ap)throw t;return jl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Ql(n,i);return 0===s?Ql(r,o):s}var Sg=function(){function t(t){this.ne=t,this.buffer=new ad(Tg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Tg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),_g=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;jl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return bs(e,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Rp(e=n.sent())?(jl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Eg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ag=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Cp.resolve(Pl.o);var r=new Sg(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jl("LruGarbageCollector","Garbage collection skipped; disabled"),Cp.resolve(ug)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(jl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ug):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(jl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Ul()<=Wo.DEBUG&&jl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Cp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),kg=function(){function t(t,e){this.db=t,this.garbageCollector=new Ag(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Ng(t,n)},t.prototype.removeReference=function(t,e,n){return Ng(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Ng(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,mg(n=t).Ot((function(t){return dg(n,t,r).next((function(t){return t&&(i=!0),Cp.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Ig(t).delete([0,op(s.path)])}))}));i.push(u)}})).next((function(){return Cp.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Ng(t,e)},t.prototype.we=function(t,e){var n,r=Ig(t),i=Pl.o;return r.$t({index:bp.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var s=r.path,a=r.sequenceNumber;0===o?(i!==Pl.o&&e(new bh(up(n)),i),i=a,n=s):i=Pl.o})).next((function(){i!==Pl.o&&e(new bh(up(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Ng(t,e){return Ig(t).put((n=e,r=t.currentSequenceNumber,new bp(0,op(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cg=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){eh(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return nh(this.inner)},t}(),xg=function(){function t(){this.changes=new Cg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Zl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Mh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Cp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Dg=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Rg(t).put(Pg(e),n)},t.prototype.removeEntry=function(t,e){var n=Rg(t),r=Pg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Rg(t).get(Pg(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Rg(t).get(Pg(e)).next((function(t){return{document:n.ye(e,t),size:hg(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=ld();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=ld(),i=new id(bh.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,hg(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Cp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Rg(t).$t({range:r},(function(t,e,r){for(var s=bh.fromSegments(t);o&&bh.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ld(),o=e.path.length+1,s={};if(n.isEqual(Zl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Wp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=mp.collectionReadTimeIndex}return Rg(t).$t(s,(function(t,n,s){if(t.length===o){var a=Hp(r.R,n);e.path.isPrefixOf(a.key.path)?yf(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Og(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Lg(t).get(vp.key).next((function(t){return Hl(!!t),t}))},t.prototype.me=function(t,e){return Lg(t).put(vp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Hp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Zl.min()))return n}return Mh.newInvalidDocument(t)},t}(),Og=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Cg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return ys(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ad((function(t,e){return Ql(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Gp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=hg(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Gp(e.Ie.R,Mh.newNoDocument(o,Zl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Cp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(xg);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){return jp(t,vp.store)}function Rg(t){return jp(t,mp.store)}function Pg(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Hl(n<r&&n>=0&&r<=11);var o=new xp("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(lp.store),function(t){t.createObjectStore(hp.store,{keyPath:hp.keyPath}),t.createObjectStore(fp.store,{keyPath:fp.keyPath,autoIncrement:!0}).createIndex(fp.userMutationsIndex,fp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(dp.store)}(t),Fg(t),function(t){t.createObjectStore(mp.store)}(t));var s=Cp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bp.store),t.deleteObjectStore(yp.store),t.deleteObjectStore(wp.store)}(t),Fg(t)),s=s.next((function(){return function(t){var e=t.store(wp.store),n=new wp(0,0,Zl.min().toTimestamp(),0);return e.put(wp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(fp.store).Nt().next((function(n){t.deleteObjectStore(fp.store),t.createObjectStore(fp.store,{keyPath:fp.keyPath,autoIncrement:!0}).createIndex(fp.userMutationsIndex,fp.userMutationsKeyPath,{unique:!0});var r=e.store(fp.store),i=n.map((function(t){return r.put(t)}));return Cp.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ep.store,{keyPath:Ep.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(vp.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(mp.store);e.createIndex(mp.readTimeIndex,mp.readTimeIndexPath,{unique:!1}),e.createIndex(mp.collectionReadTimeIndex,mp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Tp.store,{keyPath:Tp.keyPath})}(t),function(t){t.createObjectStore(Sp.store,{keyPath:Sp.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(mp.store).$t((function(t,n){e+=hg(n)})).next((function(){var n=new vp(e);return t.store(vp.store).put(vp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(hp.store),r=t.store(fp.store);return n.Nt().next((function(n){return Cp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(fp.userMutationsIndex,i).next((function(r){return Cp.forEach(r,(function(r){Hl(r.userId===n.userId);var i=Yp(e.R,r);return lg(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(bp.store),n=t.store(mp.store);return t.store(wp.store).get(wp.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new ih(n),s=[0,op(o)];r.push(e.get(s).next((function(n){return n?Cp.resolve():(r=o,e.put(new bp(0,op(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return Cp.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Ip.store,{keyPath:Ip.keyPath});var n=e.store(Ip.store),r=new og,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:op(i)})}};return e.store(mp.store).$t({kt:!0},(function(t,e){var n=new ih(t);return i(n.popLast())})).next((function(){return e.store(dp.store).$t({kt:!0},(function(t,e){t[0];var n=t[1];t[2];var r=up(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(yp.store);return n.$t((function(t,r){var i=Jp(r),o=Zp(e.R,i);return n.put(o)}))},t}();function Fg(t){t.createObjectStore(bp.store,{keyPath:bp.keyPath}).createIndex(bp.documentTargetsIndex,bp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(yp.store,{keyPath:yp.keyPath}).createIndex(yp.queryTargetsIndexName,yp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wp.store)}var Vg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ug=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Fl(Ml.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new kg(this,i),this.Le=n+"main",this.R=new zp(u),this.Be=new Dp(this.Le,11,new Mg(this.R)),this.qe=new yg(this.referenceDelegate,this.R),this.Ut=new sg,this.Ue=(h=this.R,f=this.Ut,new Dg(h,f)),this.Ke=new eg,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Bl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Fl(Ml.FAILED_PRECONDITION,Vg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Pl(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return bs(e,void 0,void 0,(function(){return ws(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return bs(e,void 0,void 0,(function(){return ws(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return bs(e,void 0,void 0,(function(){return ws(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Bg(e).put(new Ep(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Rp(e))return jl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return jl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return jg(t).get(lp.key).next((function(t){return Cp.resolve(e.tn(t))}))},t.prototype.en=function(t){return Bg(t).delete(this.clientId)},t.prototype.nn=function(){return bs(this,void 0,void 0,(function(){var t,e,n,r,i=this;return ws(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=jp(t,Ep.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Cp.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Cp.resolve(!0):jg(t).get(lp.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Fl(Ml.FAILED_PRECONDITION,Vg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bg(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&jl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return bs(this,void 0,void 0,(function(){var t=this;return ws(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[lp.store,Ep.store],(function(e){var n=new Up(e,Pl.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Bg(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return fg.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;jl("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,_p,(function(o){return i=new Up(o,r.Ne?r.Ne.next():Pl.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Bl("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Fl(Ml.FAILED_PRECONDITION,Ap);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return jg(t).get(lp.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Fl(Ml.FAILED_PRECONDITION,Vg)}))},t.prototype.Ze=function(t){var e=new lp(this.clientId,this.allowTabSynchronization,Date.now());return jg(t).put(lp.key,e)},t.yt=function(){return Dp.yt()},t.prototype.Xe=function(t){var e=this,n=jg(t);return n.get(lp.key).next((function(t){return e.tn(t)?(jl("IndexedDbPersistence","Releasing primary lease."),n.delete(lp.key)):Cp.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Bl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),!ko()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return jl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return Bl("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Bl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jg(t){return jp(t,lp.store)}function Bg(t){return jp(t,Ep.store)}function qg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Kg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,bh.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):hf(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new bh(e)).next((function(t){var e=fd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=fd();return this.Ut.getCollectionParents(t,i).next((function(s){return Cp.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new rf(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Mh.newInvalidDocument(c),r=r.insert(c,l)),qf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){yf(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=gd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Wf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),zg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=gd(),i=gd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Zl.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(af(e)||uf(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(Ul()<=Wo.DEBUG&&jl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vf(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new ad(bf(t));return e.forEach((function(e,r){yf(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ul()<=Wo.DEBUG&&jl("QueryEngine","Using full collection scan to execute query:",vf(e)),this.Sn.getDocumentsMatchingQuery(t,e,Zl.min())},t}(),Gg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new id(Ql),this.kn=new Cg((function(t){return Uh(t)}),jh),this.$n=Zl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Kg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t,e,n,r){return new Gg(t,e,n,r)}function $g(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o;return ws(this,(function(s){switch(s.label){case 0:return n=Gl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Kg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=gd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var m=0,v=g.mutations;m<v.length;m++){var y=v[m];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Qg(t,e){var n=Gl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=Cp.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);Hl(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function Xg(t){var e=Gl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Yg(t,e){var n=Gl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,Hl((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=ld();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=gd();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ld();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Zl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):jl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Zl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return Cp.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Jg(t,e){var n=Gl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Zg(t,e){var n=Gl(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Cp.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Kp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function tm(t,e,n){return bs(this,void 0,void 0,(function(){var r,i,o,s;return ws(this,(function(a){switch(a.label){case 0:r=Gl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Rp(s=a.sent()))throw s;return jl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function em(t,e,n){var r=Gl(t),i=Zl.min(),o=gd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=df(e),c=Gl(s),l=c.kn.get(u),void 0!==l?Cp.resolve(c.Fn.get(l)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Zl.min(),n?o:gd())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,l}))}function nm(t,e){var n=Gl(t),r=Gl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function rm(t){var e=Gl(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.On,r=t,i=e.$n,o=Gl(n),s=ld(),a=Wp(i),u=Rg(r),c=IDBKeyRange.lowerBound(a,!0),u.$t({index:mp.readTimeIndex,range:c},(function(t,e){var n=Hp(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:$p(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function im(t){return bs(this,void 0,void 0,(function(){var e;return ws(this,(function(n){return[2,(e=Gl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=Rg(t),n=Zl.min(),e.$t({index:mp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=$p(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.$n=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var om=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Cp.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ld(n.createTime)}),Cp.resolve()},t.prototype.getNamedQuery=function(t,e){return Cp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:tg(n.bundledQuery),readTime:Ld(n.readTime)}),Cp.resolve();var n},t}(),sm=function(){function t(){this.Wn=new ad(am.Gn),this.zn=new ad(am.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new am(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new am(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new bh(new ih([])),r=new am(n,t),i=new am(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new bh(new ih([])),n=new am(e,t),r=new am(e,t+1),i=gd();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new am(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),am=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return bh.comparator(t.key,e.key)||Ql(t.ns,e.ns)},t.Hn=function(t,e){return Ql(t.ns,e.ns)||bh.comparator(t.key,e.key)},t}(),um=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ad(am.Gn)}return t.prototype.checkEmpty=function(t){return Cp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Bp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new am(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Cp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Cp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Cp.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Cp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Cp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new am(e,0),i=new am(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Cp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ad(Ql);return e.forEach((function(t){var e=new am(t,0),i=new am(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Cp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;bh.isDocumentKey(i)||(i=i.child(""));var o=new am(new bh(i),0),s=new ad(Ql);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Cp.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Hl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Cp.forEach(e.mutations,(function(i){var o=new am(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new am(e,0),r=this.rs.firstAfterOrEqual(n);return Cp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Cp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),cm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new id(bh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Cp.resolve(n?n.document.clone():Mh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ld();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Mh.newInvalidDocument(t))})),Cp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ld(),i=new bh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||yf(e,c)&&(r=r.insert(c.key,c.clone()))}return Cp.resolve(r)},t.prototype.fs=function(t,e){return Cp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new lm(this)},t.prototype.getSize=function(t){return Cp.resolve(this.size)},t}(),lm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return ys(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Cp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(xg),hm=function(){function t(t){this.persistence=t,this.ds=new Cg((function(t){return Uh(t)}),jh),this.lastRemoteSnapshotVersion=Zl.min(),this.highestTargetId=0,this.ws=0,this._s=new sm,this.targetCount=0,this.ys=vg.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Cp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Cp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Cp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Cp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Cp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new vg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Cp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Cp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Cp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Cp.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Cp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Cp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Cp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Cp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Cp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Cp.resolve(n)},t.prototype.containsKey=function(t,e){return Cp.resolve(this._s.containsKey(e))},t}(),fm=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new Pl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new hm(this),this.Ut=new ig,this.Ue=(n=this.Ut,new cm(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new zp(e),this.Ke=new om(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new um(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;jl("MemoryPersistence","Starting transaction:",t);var i=new dm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Cp.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return ys(e,t),e}(kp),pm=function(){function t(t){this.persistence=t,this.As=new sm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw zl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Cp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Cp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Cp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cp.forEach(this.vs,(function(r){var i=bh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Cp.or([function(){return Cp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),gm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){return"firestore_clients_"+t+"_"+e}function vm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ym(t,e){return"firestore_targets_"+t+"_"+e}gm.UNAUTHENTICATED=new gm(null),gm.GOOGLE_CREDENTIALS=new gm("google-credentials-uid"),gm.FIRST_PARTY=new gm("first-party-uid");var bm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Fl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Bl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fl(i.error.code,i.error.message)),o?new t(e,i.state,r):(Bl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Im=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=vd(),s=0;i&&s<r.activeTargetIds.length;++s)i=yh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Bl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Em=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Bl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Tm=function(){function t(){this.activeTargetIds=vd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new id(Ql),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=mm(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Tm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return bs(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return ws(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(mm(this.persistenceKey,r)))&&(o=Im.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ym(this.persistenceKey,t));if(n){var r=wm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ym(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return jl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){jl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){jl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(jl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Bl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return bs(e,void 0,void 0,(function(){var t,e,r,i,o,s;return ws(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Pl.o;if(null!=t)try{var n=JSON.parse(t);Hl("number"==typeof n),e=n}catch(r){Bl("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==Pl.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new bm(this.currentUser,t,e,n),i=vm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=vm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=ym(this.persistenceKey,t),i=new wm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Im.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bm.Vs(new gm(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return wm.Vs(r,e)},t.prototype.js=function(t){return Em.Vs(t)},t.prototype.ii=function(t){return bs(this,void 0,void 0,(function(){return ws(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(jl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=vd();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),_m=function(){function t(){this.li=new Tm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Tm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Am=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),km=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){jl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){jl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Nm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),xm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return ys(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Rl;s.listenOnce(Nl.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case kl.NO_ERROR:var e=s.getResponseJson();jl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case kl.TIMEOUT:jl("Connection",'RPC "'+t+'" timed out'),o(new Fl(Ml.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:var n=s.getStatus();if(jl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Ml).indexOf(c)>=0?c:Ml.UNKNOWN);o(new Fl(a,r.message))}else o(new Fl(Ml.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Fl(Ml.UNAVAILABLE,"Connection failed."));break;default:zl()}}finally{jl("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new El,s=gu(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Ol({})),this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ao())||"object"==typeof navigator&&"ReactNative"===navigator.product||Ao().indexOf("Electron/")>=0||((r=Ao()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||Ao().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");jl("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,h=!1,f=new Cm({Ei:function(t){h?jl("Connection","Not sending because WebChannel is closed:",t):(l||(jl("Connection","Opening WebChannel transport."),c.open(),l=!0),jl("Connection","WebChannel sending:",t),c.send(t))},Ti:function(){return c.close()}}),d=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Ll.EventType.OPEN,(function(){h||jl("Connection","WebChannel transport opened.")})),d(c,Ll.EventType.CLOSE,(function(){h||(h=!0,jl("Connection","WebChannel transport closed"),f.Vi())})),d(c,Ll.EventType.ERROR,(function(t){h||(h=!0,ql("Connection","WebChannel transport errored:",t),f.Vi(new Fl(Ml.UNAVAILABLE,"The operation could not be completed")))})),d(c,Ll.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Hl(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){jl("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Yf[t];if(void 0!==e)return rd(e)}(o),a=i.message;void 0===s&&(s=Ml.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,f.Vi(new Fl(s,a)),c.close()}else jl("Connection","WebChannel received:",n),f.Si(n)}})),d(s,Cl.STAT_EVENT,(function(t){t.stat===xl?jl("Connection","Detected buffering proxy"):t.stat===Dl&&jl("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);jl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return jl("RestConnection","Received: ",t),t}),(function(e){throw ql("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Nm[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){return"undefined"!=typeof window?window:null}function Om(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){return new Cd(t,!0)}var Rm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&jl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Pm=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Rm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return bs(this,void 0,void 0,(function(){return ws(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return bs(this,void 0,void 0,(function(){return ws(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return bs(this,void 0,void 0,(function(){return ws(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ml.RESOURCE_EXHAUSTED?(Bl(e.toString()),Bl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ml.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Fl(Ml.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return bs(t,void 0,void 0,(function(){return ws(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return jl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(jl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return ys(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:zl(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Hl(void 0===e||"string"==typeof e),uh.fromBase64String(e||"")):(Hl(void 0===e||e instanceof Uint8Array),uh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ml.UNKNOWN:rd(t.code);return new Fl(e,t.message||"")}(u);n=new Ed(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=Fd(t,i.document.name),s=Ld(i.document.updateTime);var u=new Rh({mapValue:{fields:i.document.fields}}),c=(a=Mh.newFoundDocument(o,s,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new wd(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=Fd(t,i.document),s=i.readTime?Ld(i.readTime):Zl.min(),u=Mh.newNoDocument(o,s),a=i.removedTargetIds||[],n=new wd([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=Fd(t,i.document),s=i.removedTargetIds||[],n=new wd([],s,o,null);else{if(!("filter"in e))return zl();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new ed(i),s=h.targetId,n=new Id(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Zl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zl.min():e.readTime?Ld(e.readTime):Zl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=jd(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=Bh(i)?{documents:Hd(e,i)}:{query:Gd(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=Dd(e,n.resumeToken):n.snapshotVersion.compareTo(Zl.min())>0&&(r.readTime=xd(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=jd(this.R),e.removeTarget=t,this.cr(e)},e}(Pm),Fm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return ys(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Hl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(Hl(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?Ld(e.updateTime):Ld(n)).isEqual(Zl.min())&&(r=Ld(n)),new Ff(r,e.transformResults||[]);var e,n,r}))):[]),n=Ld(t.commitTime);return this.listener.Tr(n,e)}var r,i;return Hl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=jd(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Kd(e.R,t)}))};this.cr(n)},e}(Pm),Vm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return ys(e,t),e.prototype.br=function(){if(this.Rr)throw new Fl(Ml.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ml.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Fl(Ml.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ml.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Fl(Ml.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Um=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Bl(e),this.Vr=!1):jl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),jm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return bs(o,void 0,void 0,(function(){return ws(this,(function(t){switch(t.label){case 0:return Qm(this)?(jl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return bs(this,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return(e=Gl(t)).Or.add(4),[4,qm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Bm(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Um(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){return bs(this,void 0,void 0,(function(){var e,n;return ws(this,(function(r){switch(r.label){case 0:if(!Qm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function qm(t){return bs(this,void 0,void 0,(function(){var e,n;return ws(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Km(t,e){var n=Gl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),$m(n)?Wm(n):lv(n).er()&&Hm(n,e))}function zm(t,e){var n=Gl(t),r=lv(n);n.$r.delete(e),r.er()&&Gm(n,e),0===n.$r.size&&(r.er()?r.ir():Qm(n)&&n.Br.set("Unknown"))}function Hm(t,e){t.qr.U(e.targetId),lv(t).mr(e)}function Gm(t,e){t.qr.U(e),lv(t).yr(e)}function Wm(t){t.qr=new Sd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),lv(t).start(),t.Br.Sr()}function $m(t){return Qm(t)&&!lv(t).tr()&&t.$r.size>0}function Qm(t){return 0===Gl(t).Or.size}function Xm(t){t.qr=void 0}function Ym(t){return bs(this,void 0,void 0,(function(){return ws(this,(function(e){return t.$r.forEach((function(e,n){Hm(t,e)})),[2]}))}))}function Jm(t,e){return bs(this,void 0,void 0,(function(){return ws(this,(function(n){return Xm(t),$m(t)?(t.Br.Nr(e),Wm(t)):t.Br.set("Unknown"),[2]}))}))}function Zm(t,e,n){return bs(this,void 0,void 0,(function(){var r,i,o;return ws(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Ed&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o;return ws(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),jl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,tv(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wd?t.qr.X(e):e instanceof Id?t.qr.rt(e):t.qr.et(e),n.isEqual(Zl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Xg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.$r.get(e);n&&a.$r.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.$r.get(t);if(e){a.$r.set(t,e.withResumeToken(uh.EMPTY_BYTE_STRING,e.snapshotVersion)),Gm(a,t);var n=new Kp(e.target,t,1,e.sequenceNumber);Hm(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return jl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,tv(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function tv(t,e,n){return bs(this,void 0,void 0,(function(){var r=this;return ws(this,(function(i){switch(i.label){case 0:if(!Rp(e))throw e;return t.Or.add(1),[4,qm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Xg(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return bs(r,void 0,void 0,(function(){return ws(this,(function(e){switch(e.label){case 0:return jl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Bm(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function ev(t,e){return e().catch((function(n){return tv(t,n,e)}))}function nv(t){return bs(this,void 0,void 0,(function(){var e,n,r,i,o;return ws(this,(function(s){switch(s.label){case 0:e=Gl(t),n=hv(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(Qm(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Jg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=hv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,tv(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return rv(e)&&iv(e),[2]}var a}))}))}function rv(t){return Qm(t)&&!hv(t).tr()&&t.kr.length>0}function iv(t){hv(t).start()}function ov(t){return bs(this,void 0,void 0,(function(){return ws(this,(function(e){return hv(t).Ar(),[2]}))}))}function sv(t){return bs(this,void 0,void 0,(function(){var e,n,r,i;return ws(this,(function(o){for(e=hv(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function av(t,e,n){return bs(this,void 0,void 0,(function(){var r,i;return ws(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=qp.from(r,e,n),[4,ev(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,nv(t)];case 2:return o.sent(),[2]}}))}))}function uv(t,e){return bs(this,void 0,void 0,(function(){return ws(this,(function(n){switch(n.label){case 0:return e&&hv(t).pr?[4,function(t,e){return bs(this,void 0,void 0,(function(){var n,r;return ws(this,(function(i){switch(i.label){case 0:return nd(r=e.code)&&r!==Ml.ABORTED?(n=t.kr.shift(),hv(t).sr(),[4,ev(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,nv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return rv(t)&&iv(t),[2]}}))}))}function cv(t,e){return bs(this,void 0,void 0,(function(){var n;return ws(this,(function(r){switch(r.label){case 0:return n=Gl(t),e?(n.Or.delete(2),[4,Bm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,qm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function lv(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:Ym.bind(null,t),Ri:Jm.bind(null,t),_r:Zm.bind(null,t)},(i=Gl(e)).br(),new Mm(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return bs(o,void 0,void 0,(function(){return ws(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),$m(t)?Wm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),Xm(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function hv(t){var e,n,r,i,o=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:ov.bind(null,t),Ri:uv.bind(null,t),Ir:sv.bind(null,t),Tr:av.bind(null,t)},(i=Gl(e)).br(),new Fm(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return bs(o,void 0,void 0,(function(){return ws(this,(function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,nv(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),t.kr.length>0&&(jl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Kr}var fv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Np,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fl(Ml.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function dv(t,e){if(Bl("AsyncQueue",e+": "+t),Rp(t))return new Fl(Ml.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||bh.comparator(e.key,n.key)}:function(t,e){return bh.comparator(t.key,e.key)},this.keyedMap=fd(),this.sortedSet=new id(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),gv=function(){function t(){this.Qr=new id(bh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):zl():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),mv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,pv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vv=function(){this.Wr=void 0,this.listeners=[]},yv=function(){this.queries=new Cg((function(t){return mf(t)}),gf),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return ws(this,(function(c){switch(c.label){case 0:if(n=Gl(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new vv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=dv(a,"Initialization of query '"+vf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Tv(n),[2]}}))}))}function wv(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o,s;return ws(this,(function(a){return n=Gl(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Iv(t,e){for(var n=Gl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Tv(n)}function Ev(t,e,n){var r=Gl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Tv(t){t.Gr.forEach((function(t){t.next()}))}var Sv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new mv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=mv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),_v=function(t){this.key=t},Av=function(t){this.key=t},kv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=gd(),this.mutatedKeys=gd(),this.lo=bf(t),this.fo=new pv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new gv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=af(this.query)&&i.size===this.query.limit?i.last():null,c=uf(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=yf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),af(this.query)||uf(this.query))for(;s.size>this.query.limit;){var l=af(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zl()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new mv(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=gd(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Av(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new _v(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=gd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return mv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Nv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Cv=function(t){this.key=t,this.bo=!1},xv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Cg((function(t){return mf(t)}),gf),this.Vo=new Map,this.So=new Set,this.Do=new id(bh.comparator),this.Co=new Map,this.No=new sm,this.xo={},this.Fo=new Map,this.ko=vg.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ws(this,(function(u){switch(u.label){case 0:return n=sy(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Zg(n.localStore,df(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Ov(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&Km(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function Ov(t,e,n,r){return bs(this,void 0,void 0,(function(){var i,o,s,a,u,c;return ws(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return bs(this,void 0,void 0,(function(){var i,o,s;return ws(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,em(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Hv(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,em(t.localStore,e,!0)];case 1:return i=l.sent(),o=new kv(e,i.Bn),s=o._o(i.documents),a=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Hv(t,n,u.To),c=new Nv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Lv(t,e){return bs(this,void 0,void 0,(function(){var n,r,i;return ws(this,(function(o){switch(o.label){case 0:return n=Gl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!gf(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,tm(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),zm(n.remoteStore,r.targetId),Kv(n,r.targetId)})).catch(Eg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Kv(n,r.targetId),[4,tm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Rv(t,e,n){return bs(this,void 0,void 0,(function(){var r,i,o,s;return ws(this,(function(a){switch(a.label){case 0:r=ay(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=Gl(u),f=Jl.now(),d=c.reduce((function(t,e){return t.add(e.key)}),gd()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,d).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=Kf(o,l.get(o.key));null!=s&&n.push(new Wf(o.key,s,Ph(s.value.mapValue),Vf.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new id(Ql)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,$v(r,i.changes)];case 3:return a.sent(),[4,nv(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=dv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function Pv(t,e){return bs(this,void 0,void 0,(function(){var n,r;return ws(this,(function(i){switch(i.label){case 0:n=Gl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Yg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Hl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Hl(r.bo):t.removedDocuments.size>0&&(Hl(r.bo),r.bo=!1))})),[4,$v(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Eg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Mv(t,e,n){var r=Gl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Gl(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Tv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Fv(t,e,n){return bs(this,void 0,void 0,(function(){var r,i,o,s,a,u;return ws(this,(function(c){switch(c.label){case 0:return(r=Gl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new id(bh.comparator)).insert(o,Mh.newNoDocument(o,Zl.min())),a=gd().add(o),u=new yd(Zl.min(),new Map,new ad(Ql),s,a),[4,Pv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Wv(r),[3,4];case 2:return[4,tm(r.localStore,e,!1).then((function(){return Kv(r,e,n)})).catch(Eg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Vv(t,e){return bs(this,void 0,void 0,(function(){var n,r,i;return ws(this,(function(o){switch(o.label){case 0:n=Gl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qg(n.localStore,e)];case 2:return i=o.sent(),qv(n,r,null),Bv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,$v(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Eg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Uv(t,e,n){return bs(this,void 0,void 0,(function(){var r,i;return ws(this,(function(o){switch(o.label){case 0:r=Gl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=Gl(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return Hl(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),qv(r,e,n),Bv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,$v(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Eg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function jv(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o,s;return ws(this,(function(a){switch(a.label){case 0:Qm((n=Gl(t)).remoteStore)||jl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=Gl(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=dv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function Bv(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function qv(t,e,n){var r=Gl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Kv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||zv(t,e)}))}function zv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(zm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Wv(t))}function Hv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _v?(t.No.addReference(o.key,e),Gv(t,o)):o instanceof Av?(jl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||zv(t,o.key)):zl()}}function Gv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(jl("SyncEngine","New document in limbo: "+n),t.So.add(r),Wv(t))}function Wv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bh(ih.fromString(e)),r=t.ko.next();t.Co.set(r,new Cv(n)),t.Do=t.Do.insert(n,r),Km(t.remoteStore,new Kp(df(sf(n.path)),r,2,Pl.o))}}function $v(t,e,n){return bs(this,void 0,void 0,(function(){var r,i,o,s;return ws(this,(function(a){switch(a.label){case 0:return r=Gl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=zg.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return ws(this,(function(h){switch(h.label){case 0:n=Gl(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Cp.forEach(e,(function(e){return Cp.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Cp.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Rp(r=h.sent()))throw r;return jl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Qv(t,e){return bs(this,void 0,void 0,(function(){var n,r;return ws(this,(function(i){switch(i.label){case 0:return(n=Gl(t)).currentUser.isEqual(e)?[3,3]:(jl("SyncEngine","User change. New user:",e.toKey()),[4,$g(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new Fl(Ml.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,$v(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function Xv(t,e){var n=Gl(t),r=n.Co.get(e);if(r&&r.bo)return gd().add(r.key);var i=gd(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Yv(t,e){return bs(this,void 0,void 0,(function(){var n,r,i;return ws(this,(function(o){switch(o.label){case 0:return[4,em((n=Gl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Hv(n,e.targetId,i.To),i)]}}))}))}function Jv(t){return bs(this,void 0,void 0,(function(){var e;return ws(this,(function(n){return[2,rm((e=Gl(t)).localStore).then((function(t){return $v(e,t)}))]}))}))}function Zv(t,e,n,r){return bs(this,void 0,void 0,(function(){var i,o;return ws(this,(function(s){switch(s.label){case 0:return[4,(a=(i=Gl(t)).localStore,u=e,c=Gl(a),l=Gl(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):Cp.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,nv(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(qv(i,e,r||null),Bv(i,e),function(t,e){Gl(Gl(t)._n).Gt(e)}(i.localStore,e)):zl(),s.label=4;case 4:return[4,$v(i,o)];case 5:return s.sent(),[3,7];case 6:jl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function ty(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return ws(this,(function(l){switch(l.label){case 0:return sy(n=Gl(t)),ay(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ey(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,cv(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],Km(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Kv(n,e),tm(n.localStore,e,!0)})),zm(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,ey(n,u)];case 5:return l.sent(),(h=Gl(n)).Co.forEach((function(t,e){zm(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new id(bh.comparator),n.$o=!1,[4,cv(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function ey(t,e,n){return bs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,g;return ws(this,(function(m){switch(m.label){case 0:n=Gl(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Zg(n.localStore,df(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Yv(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nm(n.localStore,a)];case 8:return g=m.sent(),[4,Zg(n.localStore,g)];case 9:return u=m.sent(),[4,Ov(n,ny(g),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function ny(t){return of(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ry(t){var e=Gl(t);return Gl(Gl(e.localStore).persistence).fn()}function iy(t,e,n,r){return bs(this,void 0,void 0,(function(){var i,o,s;return ws(this,(function(a){switch(a.label){case 0:return(i=Gl(t)).$o?(jl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rm(i.localStore)];case 3:return o=a.sent(),s=yd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,$v(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,tm(i.localStore,e,!0)];case 6:return a.sent(),Kv(i,e,r),[3,8];case 7:zl(),a.label=8;case 8:return[2]}}))}))}function oy(t,e,n){return bs(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return ws(this,(function(d){switch(d.label){case 0:if(!(r=sy(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(jl("SyncEngine","Adding an already active target "+s),[3,5]):[4,nm(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,Zg(r.localStore,a)];case 3:return u=d.sent(),[4,Ov(r,ny(a),u.targetId,!1)];case 4:d.sent(),Km(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return ws(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,tm(r.localStore,t,!1).then((function(){zm(r.remoteStore,t),Kv(r,t)})).catch(Eg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function sy(t){var e=Gl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fv.bind(null,e),e.vo._r=Iv.bind(null,e.eventManager),e.vo.Mo=Ev.bind(null,e.eventManager),e}function ay(t){var e=Gl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uv.bind(null,e),e}var uy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return bs(this,void 0,void 0,(function(){return ws(this,(function(e){switch(e.label){case 0:return this.R=Lm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Wg(this.persistence,new Hg,t.initialUser,this.R)},t.prototype.qo=function(t){return new fm(pm.bs,this.R)},t.prototype.Bo=function(t){return new _m},t.prototype.terminate=function(){return bs(this,void 0,void 0,(function(){return ws(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return ys(e,t),e.prototype.initialize=function(e){return bs(this,void 0,void 0,(function(){return ws(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,im(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,ay(this.Qo.syncEngine)];case 4:return n.sent(),[4,nv(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Wg(this.persistence,new Hg,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new _g(e,t.asyncQueue)},e.prototype.qo=function(t){var e=qg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cg.withCacheSize(this.cacheSizeBytes):cg.DEFAULT;return new Ug(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Dm(),Om(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new _m},e}(uy),ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return ys(e,t),e.prototype.initialize=function(e){return bs(this,void 0,void 0,(function(){var n,r=this;return ws(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Sm?(this.sharedClientState.syncEngine={ui:Zv.bind(null,n),ai:iy.bind(null,n),hi:oy.bind(null,n),fn:ry.bind(null,n),ci:Jv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return bs(r,void 0,void 0,(function(){return ws(this,(function(e){switch(e.label){case 0:return[4,ty(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Dm();if(!Sm.yt(e))throw new Fl(Ml.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=qg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Sm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cy),hy=function(){function t(){}return t.prototype.initialize=function(t,e){return bs(this,void 0,void 0,(function(){var n=this;return ws(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Mv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Qv.bind(null,this.syncEngine),[4,cv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new yv},t.prototype.createDatastore=function(t){var e,n,r=Lm(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new xm(e));return n=t.credentials,new Vm(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Mv(s.syncEngine,t,0)},o=km.yt()?new km:new Am,new jm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new xv(n,r,i,o,s,a),u&&(c.$o=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return bs(this,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return e=Gl(t),jl("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,qm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),fy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),dy=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return bs(this,void 0,void 0,(function(){var e,n=this;return ws(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Fl(Ml.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return bs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ws(this,(function(u){switch(u.label){case 0:return n=Gl(t),r=jd(n.R)+"/documents",i={documents:e.map((function(t){return Md(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){Hl(!!e.found),e.found.name,e.found.updateTime;var n=Fd(t,e.found.name),r=Ld(e.found.updateTime),i=new Rh({mapValue:{fields:e.found.fields}});return Mh.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){Hl(!!e.missing),Hl(!!e.readTime);var n=Fd(t,e.missing),r=Ld(e.readTime);return Mh.newNoDocument(n,r)}(e,r):zl());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Hl(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Zf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return bs(this,void 0,void 0,(function(){var t,e=this;return ws(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=bh.fromPath(n);e.mutations.push(new td(r,e.precondition(r)))})),[4,function(t,e){return bs(this,void 0,void 0,(function(){var n,r,i;return ws(this,(function(o){switch(o.label){case 0:return n=Gl(t),r=jd(n.R)+"/documents",i={writes:e.map((function(t){return Kd(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw zl();e=Zl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Fl(Ml.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Vf.updateTime(e):Vf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Zl.min()))throw new Fl(Ml.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vf.updateTime(e)}return Vf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),py=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Rm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return bs(t,void 0,void 0,(function(){var t,e,n=this;return ws(this,(function(r){return t=new dy(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!mh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!nd(e)}return!1},t}(),gy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=gm.UNAUTHENTICATED,this.clientId=$l.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return bs(r,void 0,void 0,(function(){return ws(this,(function(e){switch(e.label){case 0:return jl("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return bs(this,void 0,void 0,(function(){return ws(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Fl(Ml.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Np;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return bs(t,void 0,void 0,(function(){var t,n;return ws(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=dv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function my(t,e){return bs(this,void 0,void 0,(function(){var n,r,i=this;return ws(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),jl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return bs(i,void 0,void 0,(function(){return ws(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,$g(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function vy(t,e){return bs(this,void 0,void 0,(function(){var n,r;return ws(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,yy(t)];case 1:return n=i.sent(),jl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return bs(this,void 0,void 0,(function(){var n,r;return ws(this,(function(i){switch(i.label){case 0:return(n=Gl(t)).asyncQueue.verifyOperationInProgress(),jl("RemoteStore","RemoteStore received new credentials"),r=Qm(n),n.Or.add(3),[4,qm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Bm(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function yy(t){return bs(this,void 0,void 0,(function(){return ws(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(jl("FirestoreClient","Using default OfflineComponentProvider"),[4,my(t,new uy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function by(t){return bs(this,void 0,void 0,(function(){return ws(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(jl("FirestoreClient","Using default OnlineComponentProvider"),[4,vy(t,new hy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function wy(t){return yy(t).then((function(t){return t.persistence}))}function Iy(t){return yy(t).then((function(t){return t.localStore}))}function Ey(t){return by(t).then((function(t){return t.remoteStore}))}function Ty(t){return by(t).then((function(t){return t.syncEngine}))}function Sy(t){return bs(this,void 0,void 0,(function(){var e,n;return ws(this,(function(r){switch(r.label){case 0:return[4,by(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Dv.bind(null,e.syncEngine),n.onUnlisten=Lv.bind(null,e.syncEngine),n)]}}))}))}function _y(t,e,n){var r=this;void 0===n&&(n={});var i=new Np;return t.asyncQueue.enqueueAndForget((function(){return bs(r,void 0,void 0,(function(){var r;return ws(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new fy({next:function(o){e.enqueueAndForget((function(){return wv(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Fl(Ml.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Fl(Ml.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Sv(sf(n.path),o,{includeMetadataChanges:!0,so:!0});return bv(t,s)},[4,Sy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Ay(t,e,n){var r=this;void 0===n&&(n={});var i=new Np;return t.asyncQueue.enqueueAndForget((function(){return bs(r,void 0,void 0,(function(){var r;return ws(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new fy({next:function(n){e.enqueueAndForget((function(){return wv(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Fl(Ml.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Sv(n,o,{includeMetadataChanges:!0,so:!0});return bv(t,s)},[4,Sy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var ky=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Ny=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Cy=new Map,xy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Dy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(gm.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Oy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ly=function(){function t(t){var e=this;this.currentUser=gm.UNAUTHENTICATED,this.oc=new Np,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){jl("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(jl("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(jl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Hl("string"==typeof n.accessToken),new xy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return bs(n,void 0,void 0,(function(){return ws(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Hl(null===t||"string"==typeof t),new gm(t)},t}(),Ry=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=gm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Py=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ry(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(gm.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t,e,n){if(!n)throw new Fl(Ml.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vy(t,e,n,r){if(!0===e&&!0===r)throw new Fl(Ml.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Uy(t){if(!bh.isDocumentKey(t))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function jy(t){if(bh.isDocumentKey(t))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function By(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":zl()}function qy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fl(Ml.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=By(t);throw new Fl(Ml.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ky(t,e){if(e<=0)throw new Fl(Ml.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Fl(Ml.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fl(Ml.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Vy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Hy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1,t instanceof Ny?(this._databaseId=t,this._credentials=new Dy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Fl(Ml.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ny(t.options.projectId)}(t),this._credentials=new Ly(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Fl(Ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Fl(Ml.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Dy;switch(t.type){case"gapi":var e=t.client;return Hl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Py(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fl(Ml.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Cy.get(this))&&(jl("ComponentProvider","Removing Datastore"),Cy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Gy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $y(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Wy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),$y=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,sf(r))||this)._path=r,i.type="collection",i}return ys(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Gy(this.firestore,null,new bh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Wy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Mo(t),My("collection","path",e),t instanceof Hy)return jy(n=ih.fromString.apply(ih,Is([e],r))),new $y(t,null,n);if(!(t instanceof Gy||t instanceof $y))throw new Fl(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jy(n=ih.fromString.apply(ih,Is([t.path],r)).child(ih.fromString(e))),new $y(t.firestore,null,n)}function Xy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Mo(t),1===arguments.length&&(e=$l.u()),My("doc","path",e),t instanceof Hy)return Uy(n=ih.fromString.apply(ih,Is([e],r))),new Gy(t,null,new bh(n));if(!(t instanceof Gy||t instanceof $y))throw new Fl(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uy(n=t._path.child(ih.fromString.apply(ih,Is([e],r)))),new Gy(t.firestore,t instanceof $y?t.converter:null,new bh(n))}function Yy(t,e){return t=Mo(t),e=Mo(e),(t instanceof Gy||t instanceof $y)&&(e instanceof Gy||e instanceof $y)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Jy(t,e){return t=Mo(t),e=Mo(e),t instanceof Wy&&e instanceof Wy&&t.firestore===e.firestore&&gf(t._query,e._query)&&t.converter===e.converter}var Zy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Rm(this,"async_queue_retry"),this.Ic=function(){var e=Om();e&&jl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Om();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Om();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Np;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return bs(this,void 0,void 0,(function(){var t,e=this;return ws(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Rp(t=n.sent()))throw t;return jl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Bl("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=fv.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&zl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return bs(this,void 0,void 0,(function(){var t;return ws(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function tb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Zy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return ys(e,t),e.prototype._terminate=function(){return this._firestoreClient||rb(this),this._firestoreClient.terminate()},e}(Hy);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){return t._firestoreClient||rb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rb(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new ky(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));t._firestoreClient=new gy(t._credentials,t._queue,a)}function ib(t,e,n){var r=this,i=new Np;return t.asyncQueue.enqueue((function(){return bs(r,void 0,void 0,(function(){var r;return ws(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,my(t,n)];case 1:return o.sent(),[4,vy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===Ml.FAILED_PRECONDITION||s.code===Ml.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function ob(t){if(t._initialized||t._terminated)throw new Fl(Ml.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sh(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ab=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(uh.fromBase64String(e))}catch(n){throw new Fl(Ml.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(uh.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ub=function(t){this._methodName=t},cb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Fl(Ml.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Fl(Ml.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ql(this._lat,t._lat)||Ql(this._long,t._long)},t}(),lb=/^__.*__$/,hb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Wf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gf(t,this.data,e,this.fieldTransforms)},t}(),fb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Wf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zl()}}var pb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return Rb(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(db(this.Nc)&&lb.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),gb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Lm(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new pb({Nc:t,methodName:e,qc:n,path:sh.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function mb(t){var e=t._freezeSettings(),n=Lm(t._databaseId);return new gb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);xb("Data must be an object, but it was:",s,r);var a,u,c=Nb(r,s);if(o.merge)a=new ah(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Db(e,f[h],n);if(!s.contains(d))throw new Fl(Ml.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Pb(l,d)||l.push(d)}a=new ah(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new hb(new Rh(c),a,u)}var yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ub);function bb(t,e,n){return new pb({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e.prototype._toFieldTransform=function(t){return new Mf(t.path,new Nf)},e.prototype.isEqual=function(t){return t instanceof e},e}(ub),Ib=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ys(e,t),e.prototype._toFieldTransform=function(t){var e=bb(this,t,!0),n=this.Kc.map((function(t){return kb(t,e)})),r=new Cf(n);return new Mf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ub),Eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ys(e,t),e.prototype._toFieldTransform=function(t){var e=bb(this,t,!0),n=this.Kc.map((function(t){return kb(t,e)})),r=new Df(n);return new Mf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ub),Tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return ys(e,t),e.prototype._toFieldTransform=function(t){var e=new Lf(t.R,Tf(t.R,this.Qc));return new Mf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ub);function Sb(t,e,n,r){var i=t.Uc(1,e,n);xb("Data must be an object, but it was:",i,r);var o=[],s=Rh.empty();eh(r,(function(t,r){var a=Lb(e,t,n);r=Mo(r);var u=i.Oc(a);if(r instanceof yb)o.push(a);else{var c=kb(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new ah(o);return new fb(s,a,i.fieldTransforms)}function _b(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Db(e,r,n)],u=[i];if(o.length%2!=0)throw new Fl(Ml.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Db(e,o[c])),u.push(o[c+1]);for(var l=[],h=Rh.empty(),f=a.length-1;f>=0;--f)if(!Pb(l,a[f])){var d=a[f],p=u[f];p=Mo(p);var g=s.Oc(d);if(p instanceof yb)l.push(d);else{var m=kb(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new ah(l);return new fb(h,v,s.fieldTransforms)}function Ab(t,e,n,r){return void 0===r&&(r=!1),kb(n,t.Uc(r?4:3,e))}function kb(t,e){if(Cb(t=Mo(t)))return xb("Unsupported field value:",e,t),Nb(t,e);if(t instanceof ub)return function(t,e){if(!db(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=kb(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Mo(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Jl.fromDate(t);return{timestampValue:xd(e.R,n)}}if(t instanceof Jl)return n=new Jl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:xd(e.R,n)};if(t instanceof cb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ab)return{bytesValue:Dd(e.R,t._byteString)};if(t instanceof Gy){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+By(t))}(t,e)}function Nb(t,e){var n={};return nh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eh(t,(function(t,r){var i=kb(r,e.Fc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Cb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jl||t instanceof cb||t instanceof ab||t instanceof Gy||t instanceof ub)}function xb(t,e,n){if(!Cb(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=By(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}var i}function Db(t,e,n){if((e=Mo(e))instanceof sb)return e._internalPath;if("string"==typeof e)return Lb(t,e);throw Rb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ob=new RegExp("[~\\*/\\[\\]]");function Lb(t,e,n){if(e.search(Ob)>=0)throw Rb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(sb.bind.apply(sb,Is([void 0],e.split(".")))))._internalPath}catch(Rw){throw Rb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rb(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Fl(Ml.INVALID_ARGUMENT,(a+=". ")+t+u)}function Pb(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Gy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Fb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Vb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Mb);function Vb(t,e){return"string"==typeof e?Lb(t,e):e instanceof sb?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ub=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),jb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return ys(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Vb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Mb),Bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(jb),qb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ub(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Bb(n._firestore,n._userDataWriter,r.key,r,new Ub(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fl(Ml.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Bb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ub(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Bb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ub(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Kb(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Kb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zl()}}function zb(t,e){return t instanceof jb&&e instanceof jb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof qb&&e instanceof qb&&t._firestore===e._firestore&&Jy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){if(uf(t)&&0===t.explicitOrderBy.length)throw new Fl(Ml.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gb=function(){};function Wb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var $b=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return ys(e,t),e.prototype._apply=function(t){var e,n,r,i=mb(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ew(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(tw(r,t,h))}a={arrayValue:{values:u}}}else a=tw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ew(s,o),a=Ab(n,"where",s,"in"===o||"not-in"===o);var f=qh.create(i,o,a);return function(t,e){if(e.g()){var n=lf(t);if(null!==n&&!n.isEqual(e.field))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=cf(t);null!==r&&nw(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Fl(Ml.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Fl(Ml.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Wy(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new rf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(Gb),Qb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return ys(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Zh(e,n);return function(t,e){if(null===cf(t)){var n=lf(t);null!==n&&nw(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Wy(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new rf(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(Gb),Xb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return ys(e,t),e.prototype._apply=function(t){return new Wy(t.firestore,t.converter,pf(t._query,this.Hc,this.Jc))},e}(Gb),Yb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return ys(e,t),e.prototype._apply=function(t){var e,n,r=Zb(t,this.type,this.Yc,this.Xc);return new Wy(t.firestore,t.converter,(e=t._query,n=r,new rf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(Gb),Jb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return ys(e,t),e.prototype._apply=function(t){var e,n,r=Zb(t,this.type,this.Yc,this.Xc);return new Wy(t.firestore,t.converter,(e=t._query,n=r,new rf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(Gb);function Zb(t,e,n,r){if(n[0]=Mo(n[0]),n[0]instanceof Mb)return function(t,e,n,r,i){if(!r)throw new Fl(Ml.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ff(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(kh(e,r.key));else{var c=r.data.field(u.field);if(dh(c))throw new Fl(Ml.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Yh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=mb(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Fl(Ml.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hf(t)&&-1!==c.indexOf("/"))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ih.fromString(c));if(!bh.isDocumentKey(l))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new bh(l);a.push(kh(e,h))}else{var f=Ab(n,r,c);a.push(f)}}return new Yh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function tw(t,e,n){if("string"==typeof(n=Mo(n))){if(""===n)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hf(e)&&-1!==n.indexOf("/"))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ih.fromString(n));if(!bh.isDocumentKey(r))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return kh(t,new bh(r))}if(n instanceof Gy)return kh(t,n._key);throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+By(n)+".")}function ew(t,e){if(!Array.isArray(t)||0===t.length)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function nw(t,e,n){if(!n.isEqual(e))throw new Fl(Ml.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),wh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw zl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return eh(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new cb(hh(t.latitude),hh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ph(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(gh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=lh(t);return new Jl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ih.fromString(t);Hl(ip(n));var r=new Ny(n.get(1),n.get(3)),i=new bh(n.popFirst(5));return r.isEqual(e)||Bl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ow=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ys(e,t),e.prototype.convertBytes=function(t){return new ab(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gy(this.firestore,null,e)},e}(rw),sw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=mb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=aw(t,this._firestore),i=iw(r.converter,e,n),o=vb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Vf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=aw(t,this._firestore);return o="string"==typeof(e=Mo(e))||e instanceof sb?_b(this._dataReader,"WriteBatch.update",s._key,e,n,r):Sb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Vf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=aw(t,this._firestore);return this._mutations=this._mutations.concat(new Zf(e._key,Vf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Fl(Ml.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){if((t=Mo(t)).firestore!==e)throw new Fl(Ml.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ys(e,t),e.prototype.convertBytes=function(t){return new ab(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gy(this.firestore,null,e)},e}(rw);function cw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=qy(t,Gy);var o=qy(t.firestore,eb),s=mb(o);return hw(o,[("string"==typeof(e=Mo(e))||e instanceof sb?_b(s,"updateDoc",t._key,e,n,r):Sb(s,"updateDoc",t._key,e)).toMutation(t._key,Vf.exists(!0))])}function lw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Mo(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||tb(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(tb(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Gy)c=qy(t.firestore,eb),l=sf(t._key.path),u={next:function(e){i[a]&&i[a](fw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=qy(t,Wy);c=qy(d.firestore,eb),l=d._query;var p=new uw(c);u={next:function(t){i[a]&&i[a](new qb(c,p,d,t))},error:i[a+1],complete:i[a+2]},Hb(t._query)}return function(t,e,n,r){var i=this,o=new fy(r),s=new Sv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return bs(i,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return e=bv,[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return bs(i,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return e=wv,[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(nb(c),l,h,u)}function hw(t,e){return function(t,e){var n=this,r=new Np;return t.asyncQueue.enqueueAndForget((function(){return bs(n,void 0,void 0,(function(){var n;return ws(this,(function(i){switch(i.label){case 0:return n=Rv,[4,Ty(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(nb(t),e)}function fw(t,e,n){var r=n.docs.get(e._key),i=new uw(t);return new jb(t,i,e._key,r,new Ub(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return ys(e,t),e.prototype.get=function(e){var n=this,r=aw(e,this._firestore),i=new uw(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new jb(n._firestore,i,r._key,t._document,new Ub(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=mb(t)}return t.prototype.get=function(t){var e=this,n=aw(t,this._firestore),r=new ow(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return zl();var i=t[0];if(i.isFoundDocument())return new Mb(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Mb(e._firestore,r,n._key,null,n.converter);throw zl()}))},t.prototype.set=function(t,e,n){var r=aw(t,this._firestore),i=iw(r.converter,e,n),o=vb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=aw(t,this._firestore);return o="string"==typeof(e=Mo(e))||e instanceof sb?_b(this._dataReader,"Transaction.update",s._key,e,n,r):Sb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=aw(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){if("undefined"==typeof Uint8Array)throw new Fl(Ml.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gw(){if("undefined"==typeof atob)throw new Fl(Ml.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return gw(),new t(ab.fromBase64String(e))},t.fromUint8Array=function(e){return pw(),new t(ab.fromUint8Array(e))},t.prototype.toBase64=function(){return gw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return pw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),vw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ob(t=qy(t,eb));var n=nb(t),r=t._freezeSettings(),i=new hy;return ib(n,i,new cy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ob(t=qy(t,eb));var e=nb(t),n=t._freezeSettings(),r=new hy;return ib(e,r,new ly(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Fl(Ml.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Np;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return bs(e,void 0,void 0,(function(){var e;return ws(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return bs(this,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return Dp.yt()?(e=t+"main",[4,Dp.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(qg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),yw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ny||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ql("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=qy(t,Hy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ql("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Eo({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[To.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),To.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Fl(Ml.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Oy(new xy(o,new gm(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return bs(e,void 0,void 0,(function(){var e,n;return ws(this,(function(r){switch(r.label){case 0:return[4,wy(t)];case 1:return e=r.sent(),[4,Ey(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=Gl(i),o.Or.delete(0),Bm(o))]}var i,o}))}))}))}(nb(qy(this._delegate,eb)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return bs(e,void 0,void 0,(function(){var e,n;return ws(this,(function(r){switch(r.label){case 0:return[4,wy(t)];case 1:return e=r.sent(),[4,Ey(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return bs(this,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return(e=Gl(t)).Or.add(0),[4,qm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(nb(qy(this._delegate,eb)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Vy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Np;return t.asyncQueue.enqueueAndForget((function(){return bs(e,void 0,void 0,(function(){var e;return ws(this,(function(r){switch(r.label){case 0:return e=jv,[4,Ty(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(nb(qy(this._delegate,eb)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new fy(e);return t.asyncQueue.enqueueAndForget((function(){return bs(n,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return e=function(t,e){Gl(t).Gr.add(e),e.next()},[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return bs(n,void 0,void 0,(function(){var e;return ws(this,(function(n){switch(n.label){case 0:return e=function(t,e){Gl(t).Gr.delete(e)},[4,Sy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(nb(e=qy(e,eb)),tb(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Fl(Ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ow(this,Qy(this._delegate,t))}catch(e){throw Sw(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Tw(this,Xy(this._delegate,t))}catch(e){throw Sw(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Cw(this,function(t,e){if(t=qy(t,Hy),My("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wy(t,null,(n=e,new rf(ih.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw Sw(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new Np;return t.asyncQueue.enqueueAndForget((function(){return bs(n,void 0,void 0,(function(){var n;return ws(this,(function(i){switch(i.label){case 0:return[4,(o=t,by(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new py(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(nb(e=this._delegate),(function(r){return function(e){return t(new ww(n,e))}(new dw(e,r))}))},t.prototype.batch=function(){var t=this;return nb(this._delegate),new Iw(new sw(this._delegate,(function(e){return hw(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Fl(Ml.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Fl(Ml.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ys(e,t),e.prototype.convertBytes=function(t){return new mw(new ab(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Tw.eu(e,this.firestore,null)},e}(rw);var ww=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new bw(t)}return t.prototype.get=function(t){var e=this,n=Lw(t);return this._delegate.get(n).then((function(t){return new kw(e._firestore,new jb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Lw(t);return n?(Fy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Lw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Is([s,e,n],i)),this},t.prototype.delete=function(t){var e=Lw(t);return this._delegate.delete(e),this},t}(),Iw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Lw(t);return n?(Fy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Lw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Is([s,e,n],i)),this},t.prototype.delete=function(t){var e=Lw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Ew=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Bb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Nw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new bw(e),n),i.set(n,o)),o},t}();Ew.su=new WeakMap;var Tw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bw(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Fl(Ml.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Gy(n._delegate,r,new bh(e)))},t.eu=function(e,n,r){return new t(n,new Gy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ow(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ow(this.firestore,Qy(this._delegate,t))}catch(e){throw Sw(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Mo(t))instanceof Gy&&Yy(this._delegate,t)},t.prototype.set=function(t,e){e=Fy("DocumentReference.set",e);try{return function(t,e,n){t=qy(t,Gy);var r=qy(t.firestore,eb),i=iw(t.converter,e,n);return hw(r,[vb(mb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Vf.none())])}(this._delegate,t,e)}catch(n){throw Sw(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?cw(this._delegate,t):cw.apply(void 0,Is([this._delegate,t,e],n))}catch(i){throw Sw(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return hw(qy((t=this._delegate).firestore,eb),[new Zf(t._key,Vf.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_w(e),i=Aw(e,(function(e){return new kw(t.firestore,new jb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return lw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qy(t,Gy);var e=qy(t.firestore,eb),n=nb(e),r=new uw(e);return function(t,e){var n=this,r=new Np;return t.asyncQueue.enqueueAndForget((function(){return bs(n,void 0,void 0,(function(){var n;return ws(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return bs(this,void 0,void 0,(function(){var r,i;return ws(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=Gl(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Fl(Ml.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=dv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,Iy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new jb(e,r,t._key,n,new Ub(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=qy(t,Gy);var e=qy(t.firestore,eb);return _y(nb(e),t._key,{source:"server"}).then((function(n){return fw(e,t,n)}))}(this._delegate):function(t){t=qy(t,Gy);var e=qy(t.firestore,eb);return _y(nb(e),t._key).then((function(n){return fw(e,t,n)}))}(this._delegate)).then((function(t){return new kw(e.firestore,new jb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ew.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Sw(t,e,n){return t.message=t.message.replace(e,n),t}function _w(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!tb(r))return r}return{}}function Aw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=tb(t[0])?t[0]:tb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var kw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Tw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return zb(this._delegate,t._delegate)},t}(),Nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(kw),Cw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new bw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Wb(this._delegate,(o=r,s=i=n,a=Vb("where",e),new $b(a,s,o))))}catch(i){throw Sw(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Wb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Vb("orderBy",t);return new Qb(r,n)}(e,n)))}catch(r){throw Sw(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Wb(this._delegate,(Ky("limit",n=e),new Xb("limit",n,"F"))))}catch(r){throw Sw(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Wb(this._delegate,(Ky("limitToLast",n=e),new Xb("limitToLast",n,"L"))))}catch(r){throw Sw(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Wb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yb("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw Sw(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Wb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yb("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw Sw(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Wb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jb("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw Sw(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Wb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jb("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw Sw(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Jy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qy(t,Wy);var e=qy(t.firestore,eb),n=nb(e),r=new uw(e);return function(t,e){var n=this,r=new Np;return t.asyncQueue.enqueueAndForget((function(){return bs(n,void 0,void 0,(function(){var n;return ws(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return bs(this,void 0,void 0,(function(){var r,i,o,s,a;return ws(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,em(t,e,!0)];case 1:return a=u.sent(),r=new kv(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=dv(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Iy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new qb(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=qy(t,Wy);var e=qy(t.firestore,eb),n=nb(e),r=new uw(e);return Ay(n,t._query,{source:"server"}).then((function(n){return new qb(e,r,t,n)}))}(this._delegate):function(t){t=qy(t,Wy);var e=qy(t.firestore,eb),n=nb(e),r=new uw(e);return Hb(t._query),Ay(n,t._query).then((function(n){return new qb(e,r,t,n)}))}(this._delegate)).then((function(t){return new Dw(e.firestore,new qb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_w(e),i=Aw(e,(function(e){return new Dw(t.firestore,new qb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return lw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ew.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),xw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Nw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Dw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Cw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Nw(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new xw(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Nw(n._firestore,r))}))},t.prototype.isEqual=function(t){return zb(this._delegate,t._delegate)},t}(),Ow=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return ys(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Tw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Tw(this.firestore,void 0===t?Xy(this._delegate):Xy(this._delegate,t))}catch(e){throw Sw(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=qy(e.firestore,eb),i=Xy(e),o=iw(e.converter,n),hw(r,[vb(mb(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,Vf.exists(!1))]).then((function(){return i}))).then((function(t){return new Tw(s.firestore,t)}))},e.prototype.isEqual=function(t){return Yy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ew.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(Cw);function Lw(t){return qy(t,Gy)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rw,Pw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(sb.bind.apply(sb,Is([void 0],t)))}return t.documentId=function(){return new t(sh.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Mo(t))instanceof sb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Mw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new wb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new yb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ib("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Eb("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Tb("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Fw={Firestore:yw,GeoPoint:cb,Timestamp:Jl,Blob:mw,Transaction:ww,WriteBatch:Iw,DocumentReference:Tw,DocumentSnapshot:kw,Query:Cw,QueryDocumentSnapshot:Nw,QuerySnapshot:Dw,CollectionReference:Ow,FieldPath:Pw,FieldValue:Mw,setLogLevel:function(t){var e;e=t,Vl.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(Rw=ms).INTERNAL.registerComponent(new qo("firestore",(function(t){return function(t,e){return new yw(t,new eb(t,e),new vw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Fw))),Rw.registerVersion("@firebase/firestore","2.3.9");var Vw={name:"ProgressBar",props:{value:Number,mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},computed:{containerClass(){return["p-progressbar p-component",{"p-progressbar-determinate":this.determinate,"p-progressbar-indeterminate":this.indeterminate}]},progressStyle(){return{width:this.value+"%",display:"block"}},indeterminate(){return"indeterminate"===this.mode},determinate(){return"determinate"===this.mode}}};const Uw={key:1,class:"p-progressbar-label"},jw={key:2,class:"p-progressbar-indeterminate-container"},Bw=Vr("div",{class:"p-progressbar-value p-progressbar-value-animate"},null,-1);!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-progressbar {\n    position: relative;\n    overflow: hidden;\n}\n.p-progressbar-determinate .p-progressbar-value {\n    height: 100%;\n    width: 0%;\n    position: absolute;\n    display: none;\n    border: 0 none;\n}\n.p-progressbar-determinate .p-progressbar-value-animate {\n    -webkit-transition: width 1s ease-in-out;\n    transition: width 1s ease-in-out;\n}\n.p-progressbar-determinate .p-progressbar-label {\n    text-align: center;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    font-weight: bold;\n}\n.p-progressbar-indeterminate .p-progressbar-value::before {\n      content: '';\n      position: absolute;\n      background-color: inherit;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      will-change: left, right;\n      -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n              animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n}\n.p-progressbar-indeterminate .p-progressbar-value::after {\n    content: '';\n    position: absolute;\n    background-color: inherit;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    will-change: left, right;\n    -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n            animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n    -webkit-animation-delay: 1.15s;\n            animation-delay: 1.15s;\n}\n@-webkit-keyframes p-progressbar-indeterminate-anim {\n0% {\n    left: -35%;\n    right: 100%;\n}\n60% {\n    left: 100%;\n    right: -90%;\n}\n100% {\n    left: 100%;\n    right: -90%;\n}\n}\n@keyframes p-progressbar-indeterminate-anim {\n0% {\n    left: -35%;\n    right: 100%;\n}\n60% {\n    left: 100%;\n    right: -90%;\n}\n100% {\n    left: 100%;\n    right: -90%;\n}\n}\n@-webkit-keyframes p-progressbar-indeterminate-anim-short {\n0% {\n    left: -200%;\n    right: 100%;\n}\n60% {\n    left: 107%;\n    right: -8%;\n}\n100% {\n    left: 107%;\n    right: -8%;\n}\n}\n@keyframes p-progressbar-indeterminate-anim-short {\n0% {\n    left: -200%;\n    right: 100%;\n}\n60% {\n    left: 107%;\n    right: -8%;\n}\n100% {\n    left: 107%;\n    right: -8%;\n}\n}\n"),Vw.render=function(t,e,n,r,i,o){return Cr(),Or("div",{role:"progressbar",class:o.containerClass,"aria-valuemin":"0","aria-valuenow":n.value,"aria-valuemax":"100"},[o.determinate?(Cr(),Or("div",{key:0,class:"p-progressbar-value p-progressbar-value-animate",style:o.progressStyle},null,4)):Br("",!0),o.determinate&&n.value&&n.showValue?(Cr(),Or("div",Uw,[Wr(t.$slots,"default",{},(()=>[jr(p(n.value+"%"),1)]))])):Br("",!0),o.indeterminate?(Cr(),Or("div",jw,[Bw])):Br("",!0)],10,["aria-valuenow"])};var qw={name:"Message",emits:["close"],props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3}},timeout:null,data:()=>({visible:!0}),mounted(){this.sticky||setTimeout((()=>{this.visible=!1}),this.life)},methods:{close(t){this.visible=!1,this.$emit("close",t)}},computed:{containerClass(){return"p-message p-component p-message-"+this.severity},iconClass(){return["p-message-icon pi",{"pi-info-circle":"info"===this.severity,"pi-check":"success"===this.severity,"pi-exclamation-triangle":"warn"===this.severity,"pi-times-circle":"error"===this.severity}]}},directives:{ripple:ho}};const Kw={class:"p-message-wrapper"},zw={class:"p-message-text"},Hw=Vr("i",{class:"p-message-close-icon pi pi-times"},null,-1);!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-message-wrapper {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-message-close {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-message-close.p-link {\n    margin-left: auto;\n    overflow: hidden;\n    position: relative;\n}\n.p-message-enter-from {\n    opacity: 0;\n}\n.p-message-enter-active {\n    -webkit-transition: opacity .3s;\n    transition: opacity .3s;\n}\n.p-message.p-message-leave-from {\n    max-height: 1000px;\n}\n.p-message.p-message-leave-to {\n    max-height: 0;\n    opacity: 0;\n    margin: 0 !important;\n}\n.p-message-leave-active {\n    overflow: hidden;\n    -webkit-transition: max-height .3s cubic-bezier(0, 1, 0, 1), opacity .3s, margin .15s;\n    transition: max-height .3s cubic-bezier(0, 1, 0, 1), opacity .3s, margin .15s;\n}\n.p-message-leave-active .p-message-close {\n    display: none;\n}\n"),qw.render=function(t,e,n,r,i,o){const s=wr("ripple");return Cr(),Or(xi,{name:"p-message",appear:""},{default:Ge((()=>[nr(Vr("div",{class:o.containerClass,role:"alert"},[Vr("div",Kw,[Vr("span",{class:o.iconClass},null,2),Vr("div",zw,[Wr(t.$slots,"default")]),n.closable?nr((Cr(),Or("button",{key:0,class:"p-message-close p-link",onClick:e[1]||(e[1]=t=>o.close(t)),type:"button"},[Hw],512)),[[s]]):Br("",!0)])],2),[[zi,i.visible]])])),_:3})};var Gw={name:"FileUpload",emits:["select","uploader","before-upload","progress","upload","error","before-send","clear","remove"],props:{name:{type:String,default:null},url:{type:String,default:null},mode:{type:String,default:"advanced"},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},disabled:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},maxFileSize:{type:Number,default:null},invalidFileSizeMessage:{type:String,default:"{0}: Invalid file size, file size should be smaller than {1}."},invalidFileTypeMessage:{type:String,default:"{0}: Invalid file type, allowed file types: {1}."},fileLimit:{type:Number,default:null},invalidFileLimitMessage:{type:String,default:"Maximum number of files exceeded, limit is {0} at most."},withCredentials:{type:Boolean,default:!1},previewWidth:{type:Number,default:50},chooseLabel:{type:String,default:null},uploadLabel:{type:String,default:null},cancelLabel:{type:String,default:null},customUpload:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0}},duplicateIEEvent:!1,data:()=>({uploadedFileCount:0,files:[],messages:[],focused:!1,progress:null}),methods:{onFileSelect(t){if("drop"!==t.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.messages=[],this.files=this.files||[];let e=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let n of e)this.isFileSelected(n)||this.validate(n)&&(this.isImage(n)&&(n.objectURL=window.URL.createObjectURL(n)),this.files.push(n));this.$emit("select",{originalEvent:t,files:this.files}),this.fileLimit&&this.checkFileLimit(),this.auto&&this.hasFiles&&!this.isFileLimitExceeded()&&this.upload(),"drop"!==t.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()},choose(){this.$refs.fileInput.click()},upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("uploader",{files:this.files});else{let t=new XMLHttpRequest,e=new FormData;this.$emit("before-upload",{xhr:t,formData:e});for(let n of this.files)e.append(this.name,n,n.name);t.upload.addEventListener("progress",(t=>{t.lengthComputable&&(this.progress=Math.round(100*t.loaded/t.total)),this.$emit("progress",{originalEvent:t,progress:this.progress})})),t.onreadystatechange=()=>{4===t.readyState&&(this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("upload",{xhr:t,files:this.files})):this.$emit("error",{xhr:t,files:this.files}),this.clear())},t.open("POST",this.url,!0),this.$emit("before-send",{xhr:t,formData:e}),t.withCredentials=this.withCredentials,t.send(e)}},clear(){this.files=[],this.messages=null,this.$emit("clear"),this.isAdvanced&&this.clearInputElement()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},isFileSelected(t){if(this.files&&this.files.length)for(let e of this.files)if(e.name+e.type+e.size===t.name+t.type+t.size)return!0;return!1},isIE11:()=>!!window.MSInputMethodContext&&!!document.documentMode,validate(t){return this.accept&&!this.isFileTypeValid(t)?(this.messages.push(this.invalidFileTypeMessage.replace("{0}",t.name).replace("{1}",this.accept)),!1):!(this.maxFileSize&&t.size>this.maxFileSize)||(this.messages.push(this.invalidFileSizeMessage.replace("{0}",t.name).replace("{1}",this.formatSize(this.maxFileSize))),!1)},isFileTypeValid(t){let e=this.accept.split(",").map((t=>t.trim()));for(let n of e){if(this.isWildcard(n)?this.getTypeClass(t.type)===this.getTypeClass(n):t.type==n||this.getFileExtension(t).toLowerCase()===n.toLowerCase())return!0}return!1},getTypeClass:t=>t.substring(0,t.indexOf("/")),isWildcard:t=>-1!==t.indexOf("*"),getFileExtension:t=>"."+t.name.split(".").pop(),isImage:t=>/^image\//.test(t.type),onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())},onDragOver(t){this.disabled||(ro.addClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault())},onDragLeave(){this.disabled||ro.removeClass(this.$refs.content,"p-fileupload-highlight")},onDrop(t){if(!this.disabled){ro.removeClass(this.$refs.content,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();const e=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||e&&1===e.length)&&this.onFileSelect(t)}},onBasicUploaderClick(){this.hasFiles?this.upload():this.$refs.fileInput.click()},remove(t){this.clearInputElement();let e=this.files.splice(t,1)[0];this.files=[...this.files],this.$emit("remove",{file:e,files:this.files})},clearInputElement(){this.$refs.fileInput.value=""},clearIEInput(){this.$refs.fileInput&&(this.duplicateIEEvent=!0,this.$refs.fileInput.value="")},formatSize(t){if(0===t)return"0 B";let e=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,e)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]},isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focused&&(this.focused=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount},checkFileLimit(){this.isFileLimitExceeded()&&this.messages.push(this.invalidFileLimitMessage.replace("{0}",this.fileLimit.toString()))}},computed:{isAdvanced(){return"advanced"===this.mode},isBasic(){return"basic"===this.mode},advancedChooseButtonClass(){return["p-button p-component p-fileupload-choose",{"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonClass(){return["p-button p-component p-fileupload-choose",{"p-fileupload-choose-selected":this.hasFiles,"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonIconClass(){return["p-button-icon p-button-icon-left pi",{"pi-plus":!this.hasFiles||this.auto,"pi-upload":this.hasFiles&&!this.auto}]},basicChooseButtonLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles?this.files[0].name:this.chooseButtonLabel},hasFiles(){return this.files&&this.files.length>0},chooseDisabled(){return this.disabled||this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount},uploadDisabled(){return this.disabled||!this.hasFiles||this.fileLimit&&this.fileLimit<this.files.length},cancelDisabled(){return this.disabled||!this.hasFiles},chooseButtonLabel(){return this.chooseLabel||this.$primevue.config.locale.choose},uploadButtonLabel(){return this.uploadLabel||this.$primevue.config.locale.upload},cancelButtonLabel(){return this.cancelLabel||this.$primevue.config.locale.cancel}},components:{FileUploadButton:vo,FileUploadProgressBar:Vw,FileUploadMessage:qw},directives:{ripple:ho}};const Ww={key:0,class:"p-fileupload p-fileupload-advanced p-component"},$w={class:"p-fileupload-buttonbar"},Qw=Vr("span",{class:"p-button-icon p-button-icon-left pi pi-fw pi-plus"},null,-1),Xw={class:"p-button-label"},Yw={key:1,class:"p-fileupload-files"},Jw={class:"p-fileupload-filename"},Zw={key:2,class:"p-fileupload-empty"},tI={key:1,class:"p-fileupload p-fileupload-basic p-component"},eI={class:"p-button-label"};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n.p-fileupload-content {\n    position: relative;\n}\n.p-fileupload-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-fileupload-row > div {\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    width: 25%;\n}\n.p-fileupload-row > div:last-child {\n    text-align: right;\n}\n.p-fileupload-content .p-progressbar {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.p-button.p-fileupload-choose {\n    position: relative;\n    overflow: hidden;\n}\n.p-button.p-fileupload-choose input[type=file] {\n    display: none;\n}\n.p-fileupload-choose.p-fileupload-choose-selected input[type=file] {\n    display: none;\n}\n.p-fileupload-filename {\n    word-break: break-all;\n}\n.p-fluid .p-fileupload .p-button {\n    width: auto;\n}\n"),Gw.render=function(t,e,n,r,i,o){const s=yr("FileUploadButton"),a=yr("FileUploadProgressBar"),u=yr("FileUploadMessage"),c=wr("ripple");return o.isAdvanced?(Cr(),Or("div",Ww,[Vr("div",$w,[nr(Vr("span",{class:o.advancedChooseButtonClass,onClick:e[2]||(e[2]=(...t)=>o.choose&&o.choose(...t)),onKeydown:e[3]||(e[3]=Ki(((...t)=>o.choose&&o.choose(...t)),["enter"])),onFocus:e[4]||(e[4]=(...t)=>o.onFocus&&o.onFocus(...t)),onBlur:e[5]||(e[5]=(...t)=>o.onBlur&&o.onBlur(...t)),tabindex:"0"},[Vr("input",{ref:"fileInput",type:"file",onChange:e[1]||(e[1]=(...t)=>o.onFileSelect&&o.onFileSelect(...t)),multiple:n.multiple,accept:n.accept,disabled:o.chooseDisabled},null,40,["multiple","accept","disabled"]),Qw,Vr("span",Xw,p(o.chooseButtonLabel),1)],34),[[c]]),n.showUploadButton?(Cr(),Or(s,{key:0,label:o.uploadButtonLabel,icon:"pi pi-upload",onClick:o.upload,disabled:o.uploadDisabled},null,8,["label","onClick","disabled"])):Br("",!0),n.showCancelButton?(Cr(),Or(s,{key:1,label:o.cancelButtonLabel,icon:"pi pi-times",onClick:o.clear,disabled:o.cancelDisabled},null,8,["label","onClick","disabled"])):Br("",!0)]),Vr("div",{ref:"content",class:"p-fileupload-content",onDragenter:e[6]||(e[6]=(...t)=>o.onDragEnter&&o.onDragEnter(...t)),onDragover:e[7]||(e[7]=(...t)=>o.onDragOver&&o.onDragOver(...t)),onDragleave:e[8]||(e[8]=(...t)=>o.onDragLeave&&o.onDragLeave(...t)),onDrop:e[9]||(e[9]=(...t)=>o.onDrop&&o.onDrop(...t))},[o.hasFiles?(Cr(),Or(a,{key:0,value:i.progress},null,8,["value"])):Br("",!0),(Cr(!0),Or(Tr,null,Gr(i.messages,(t=>(Cr(),Or(u,{severity:"error",key:t},{default:Ge((()=>[jr(p(t),1)])),_:2},1024)))),128)),o.hasFiles?(Cr(),Or("div",Yw,[(Cr(!0),Or(Tr,null,Gr(i.files,((t,e)=>(Cr(),Or("div",{class:"p-fileupload-row",key:t.name+t.type+t.size},[Vr("div",null,[o.isImage(t)?(Cr(),Or("img",{key:0,role:"presentation",alt:t.name,src:t.objectURL,width:n.previewWidth},null,8,["alt","src","width"])):Br("",!0)]),Vr("div",Jw,p(t.name),1),Vr("div",null,p(o.formatSize(t.size)),1),Vr("div",null,[Vr(s,{type:"button",icon:"pi pi-times",onClick:t=>o.remove(e)},null,8,["onClick"])])])))),128))])):Br("",!0),t.$slots.empty&&!o.hasFiles?(Cr(),Or("div",Zw,[Wr(t.$slots,"empty")])):Br("",!0)],544)])):o.isBasic?(Cr(),Or("div",tI,[(Cr(!0),Or(Tr,null,Gr(i.messages,(t=>(Cr(),Or(u,{severity:"error",key:t},{default:Ge((()=>[jr(p(t),1)])),_:2},1024)))),128)),nr(Vr("span",{class:o.basicChooseButtonClass,onMouseup:e[13]||(e[13]=(...t)=>o.onBasicUploaderClick&&o.onBasicUploaderClick(...t)),onKeydown:e[14]||(e[14]=Ki(((...t)=>o.choose&&o.choose(...t)),["enter"])),onFocus:e[15]||(e[15]=(...t)=>o.onFocus&&o.onFocus(...t)),onBlur:e[16]||(e[16]=(...t)=>o.onBlur&&o.onBlur(...t)),tabindex:"0"},[Vr("span",{class:o.basicChooseButtonIconClass},null,2),Vr("span",eI,p(o.basicChooseButtonLabel),1),o.hasFiles?Br("",!0):(Cr(),Or("input",{key:0,ref:"fileInput",type:"file",accept:n.accept,disabled:n.disabled,onChange:e[10]||(e[10]=(...t)=>o.onFileSelect&&o.onFileSelect(...t)),onFocus:e[11]||(e[11]=(...t)=>o.onFocus&&o.onFocus(...t)),onBlur:e[12]||(e[12]=(...t)=>o.onBlur&&o.onBlur(...t))},null,40,["accept","disabled"]))],34),[[c]])])):Br("",!0)};const nI="equals",rI="notEquals",iI={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",emptyMessage:"No available options"},filterMatchModeOptions:{text:["startsWith","contains","notContains","endsWith",nI,rI],numeric:[nI,rI,"lt","lte","gt","gte"],date:["dateIs","dateIsNot","dateBefore","dateAfter"]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},oI=Symbol();var sI={install:(t,e)=>{const n={config:Jt(e?o(o({},iI),e):o({},iI))};t.config.globalProperties.$primevue=n,t.provide(oI,n)}};export{Tr as F,sI as P,ze as a,Vr as b,Or as c,jr as d,Jt as e,ms as f,dn as g,fo as h,Ye as i,vo as j,bo as k,Gw as l,ue as m,Br as n,Cr as o,Ke as p,$i as q,yr as r,Qi as s,p as t,He as w};
